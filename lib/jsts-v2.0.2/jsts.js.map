{"version":3,"file":"jsts.js","sources":["../src/Array.js","../src/Number.js","../src/Math.js","../src/extend.js","../src/org/locationtech/jts/util/NumberUtil.js","../src/java/lang/IllegalArgumentException.js","../src/java/lang/Long.js","../src/java/lang/Double.js","../src/java/lang/Comparable.js","../src/java/lang/Cloneable.js","../src/java/util/Comparator.js","../src/java/io/Serializable.js","../src/java/lang/RuntimeException.js","../src/inherits.js","../src/org/locationtech/jts/util/AssertionFailedException.js","../src/org/locationtech/jts/util/Assert.js","../src/org/locationtech/jts/geom/Coordinate.js","../src/hasInterface.js","../src/java/util/Iterator.js","../src/java/util/Collection.js","../src/java/util/IndexOutOfBoundsException.js","../src/java/util/List.js","../src/java/util/NoSuchElementException.js","../src/java/util/OperationNotSupported.js","../src/java/util/ArrayList.js","../src/org/locationtech/jts/geom/CoordinateList.js","../src/org/locationtech/jts/geom/Envelope.js","../src/java/lang/Exception.js","../src/org/locationtech/jts/algorithm/NotRepresentableException.js","../src/java/lang/StringBuffer.js","../src/java/lang/Integer.js","../src/java/lang/Character.js","../src/org/locationtech/jts/math/DD.js","../src/org/locationtech/jts/algorithm/CGAlgorithmsDD.js","../src/org/locationtech/jts/algorithm/Orientation.js","../src/java/lang/System.js","../src/org/locationtech/jts/algorithm/HCoordinate.js","../src/org/locationtech/jts/math/MathUtil.js","../src/org/locationtech/jts/algorithm/Distance.js","../src/org/locationtech/jts/geom/CoordinateSequence.js","../src/org/locationtech/jts/geom/CoordinateSequenceFactory.js","../src/org/locationtech/jts/geom/GeometryComponentFilter.js","../src/org/locationtech/jts/geom/Geometry.js","../src/org/locationtech/jts/geom/CoordinateFilter.js","../src/org/locationtech/jts/algorithm/BoundaryNodeRule.js","../src/org/locationtech/jts/geom/CoordinateArrays.js","../src/java/util/Map.js","../src/java/util/SortedMap.js","../src/java/util/Set.js","../src/java/util/HashSet.js","../src/java/util/TreeMap.js","../src/org/locationtech/jts/geom/Lineal.js","../src/java/util/SortedSet.js","../src/java/util/TreeSet.js","../src/java/util/Arrays.js","../src/org/locationtech/jts/geom/Dimension.js","../src/org/locationtech/jts/geom/GeometryFilter.js","../src/org/locationtech/jts/geom/CoordinateSequenceFilter.js","../src/org/locationtech/jts/geom/GeometryCollection.js","../src/org/locationtech/jts/geom/MultiLineString.js","../src/org/locationtech/jts/operation/BoundaryOp.js","../src/org/locationtech/jts/algorithm/Length.js","../src/java/io/PrintStream.js","../src/java/io/StringReader.js","../src/java/text/DecimalFormat.js","../src/java/io/ByteArrayOutputStream.js","../src/java/io/IOException.js","../src/java/io/LineNumberReader.js","../src/org/locationtech/jts/util/StringUtil.js","../src/java/lang/StringBuilder.js","../src/org/locationtech/jts/geom/CoordinateSequences.js","../src/org/locationtech/jts/geom/LineString.js","../src/org/locationtech/jts/geom/Puntal.js","../src/org/locationtech/jts/geom/Point.js","../src/org/locationtech/jts/algorithm/Area.js","../src/org/locationtech/jts/geom/Polygonal.js","../src/org/locationtech/jts/geom/Polygon.js","../src/org/locationtech/jts/geom/MultiPoint.js","../src/org/locationtech/jts/geom/LinearRing.js","../src/org/locationtech/jts/geom/MultiPolygon.js","../src/org/locationtech/jts/geom/util/GeometryEditor.js","../src/org/locationtech/jts/geom/impl/CoordinateArraySequence.js","../src/org/locationtech/jts/geom/impl/CoordinateArraySequenceFactory.js","../src/Map.js","../src/java/util/HashMap.js","../src/org/locationtech/jts/geom/PrecisionModel.js","../src/org/locationtech/jts/geom/GeometryFactory.js","../src/org/locationtech/jts/io/WKTParser.js","../src/org/locationtech/jts/io/WKTWriter.js","../src/org/locationtech/jts/algorithm/LineIntersector.js","../src/org/locationtech/jts/algorithm/RobustLineIntersector.js","../src/org/locationtech/jts/geom/LineSegment.js","../src/org/locationtech/jts/geom/Location.js","../src/org/locationtech/jts/geom/IntersectionMatrix.js","../src/org/locationtech/jts/algorithm/Angle.js","../src/org/locationtech/jts/geom/Triangle.js","../src/org/locationtech/jts/algorithm/distance/PointPairDistance.js","../src/org/locationtech/jts/algorithm/distance/DistanceToPoint.js","../src/org/locationtech/jts/algorithm/distance/DiscreteHausdorffDistance.js","../src/org/locationtech/jts/index/ItemVisitor.js","../src/org/locationtech/jts/algorithm/locate/PointOnGeometryLocator.js","../src/org/locationtech/jts/index/intervalrtree/IntervalRTreeNode.js","../src/org/locationtech/jts/index/intervalrtree/IntervalRTreeLeafNode.js","../src/java/util/Collections.js","../src/org/locationtech/jts/index/intervalrtree/IntervalRTreeBranchNode.js","../src/org/locationtech/jts/index/intervalrtree/SortedPackedIntervalRTree.js","../src/org/locationtech/jts/geom/util/LinearComponentExtracter.js","../src/org/locationtech/jts/index/ArrayListVisitor.js","../src/org/locationtech/jts/algorithm/RayCrossingCounter.js","../src/org/locationtech/jts/algorithm/locate/IndexedPointInAreaLocator.js","../src/org/locationtech/jts/algorithm/PointLocation.js","../src/org/locationtech/jts/geom/GeometryCollectionIterator.js","../src/org/locationtech/jts/algorithm/locate/SimplePointInAreaLocator.js","../src/org/locationtech/jts/algorithm/match/SimilarityMeasure.js","../src/org/locationtech/jts/algorithm/match/AreaSimilarityMeasure.js","../src/org/locationtech/jts/algorithm/match/HausdorffSimilarityMeasure.js","../src/org/locationtech/jts/algorithm/match/SimilarityMeasureCombiner.js","../src/org/locationtech/jts/algorithm/Centroid.js","../src/org/locationtech/jts/algorithm/CGAlgorithms.js","../src/java/util/EmptyStackException.js","../src/java/util/Stack.js","../src/org/locationtech/jts/util/UniqueCoordinateArrayFilter.js","../src/org/locationtech/jts/algorithm/ConvexHull.js","../src/org/locationtech/jts/algorithm/InteriorPointArea.js","../src/org/locationtech/jts/algorithm/InteriorPointLine.js","../src/org/locationtech/jts/algorithm/InteriorPointPoint.js","../src/org/locationtech/jts/index/chain/MonotoneChainSelectAction.js","../src/org/locationtech/jts/index/bintree/NodeBase.js","../src/org/locationtech/jts/index/bintree/Interval.js","../src/org/locationtech/jts/index/quadtree/DoubleBits.js","../src/org/locationtech/jts/index/bintree/Key.js","../src/org/locationtech/jts/index/bintree/Node.js","../src/org/locationtech/jts/index/quadtree/IntervalSize.js","../src/org/locationtech/jts/index/bintree/Root.js","../src/org/locationtech/jts/index/bintree/Bintree.js","../src/org/locationtech/jts/index/chain/MonotoneChain.js","../src/org/locationtech/jts/geomgraph/Quadrant.js","../src/org/locationtech/jts/index/chain/MonotoneChainBuilder.js","../src/org/locationtech/jts/algorithm/RobustDeterminant.js","../src/org/locationtech/jts/algorithm/PointInRing.js","../src/org/locationtech/jts/algorithm/MCPointInRing.js","../src/org/locationtech/jts/algorithm/MinimumBoundingCircle.js","../src/org/locationtech/jts/algorithm/MinimumDiameter.js","../src/org/locationtech/jts/geom/util/GeometryTransformer.js","../src/org/locationtech/jts/densify/Densifier.js","../src/org/locationtech/jts/edgegraph/HalfEdge.js","../src/org/locationtech/jts/edgegraph/MarkHalfEdge.js","../src/org/locationtech/jts/edgegraph/EdgeGraph.js","../src/org/locationtech/jts/dissolve/DissolveHalfEdge.js","../src/org/locationtech/jts/dissolve/DissolveEdgeGraph.js","../src/org/locationtech/jts/dissolve/LineDissolver.js","../src/org/locationtech/jts/algorithm/PointLocator.js","../src/org/locationtech/jts/geomgraph/Position.js","../src/org/locationtech/jts/geomgraph/index/MonotoneChain.js","../src/org/locationtech/jts/geomgraph/index/SweepLineEvent.js","../src/org/locationtech/jts/geomgraph/index/EdgeSetIntersector.js","../src/org/locationtech/jts/geomgraph/index/SegmentIntersector.js","../src/org/locationtech/jts/geomgraph/index/SimpleMCSweepLineIntersector.js","../src/org/locationtech/jts/geomgraph/TopologyLocation.js","../src/org/locationtech/jts/geomgraph/Label.js","../src/org/locationtech/jts/geomgraph/EdgeIntersection.js","../src/org/locationtech/jts/geomgraph/EdgeIntersectionList.js","../src/org/locationtech/jts/geomgraph/index/MonotoneChainIndexer.js","../src/org/locationtech/jts/geomgraph/index/MonotoneChainEdge.js","../src/org/locationtech/jts/geomgraph/Depth.js","../src/org/locationtech/jts/geomgraph/GraphComponent.js","../src/org/locationtech/jts/geomgraph/Edge.js","../src/org/locationtech/jts/geomgraph/Node.js","../src/org/locationtech/jts/geomgraph/NodeMap.js","../src/org/locationtech/jts/geomgraph/EdgeEnd.js","../src/org/locationtech/jts/geom/TopologyException.js","../src/org/locationtech/jts/geomgraph/DirectedEdge.js","../src/org/locationtech/jts/geomgraph/NodeFactory.js","../src/org/locationtech/jts/geomgraph/PlanarGraph.js","../src/org/locationtech/jts/geomgraph/GeometryGraph.js","../src/org/locationtech/jts/index/kdtree/KdNodeVisitor.js","../src/org/locationtech/jts/index/kdtree/KdNode.js","../src/org/locationtech/jts/index/kdtree/KdTree.js","../src/org/locationtech/jts/index/quadtree/NodeBase.js","../src/org/locationtech/jts/index/quadtree/Key.js","../src/org/locationtech/jts/index/quadtree/Node.js","../src/org/locationtech/jts/index/quadtree/Root.js","../src/org/locationtech/jts/index/SpatialIndex.js","../src/org/locationtech/jts/index/quadtree/Quadtree.js","../src/org/locationtech/jts/index/strtree/Boundable.js","../src/org/locationtech/jts/index/strtree/ItemBoundable.js","../src/org/locationtech/jts/util/PriorityQueue.js","../src/org/locationtech/jts/index/strtree/AbstractNode.js","../src/org/locationtech/jts/index/strtree/BoundablePair.js","../src/org/locationtech/jts/index/strtree/AbstractSTRtree.js","../src/org/locationtech/jts/index/strtree/ItemDistance.js","../src/org/locationtech/jts/index/strtree/STRtree.js","../src/org/locationtech/jts/io/GeoJSONParser.js","../src/org/locationtech/jts/io/GeoJSONReader.js","../src/org/locationtech/jts/io/GeoJSONWriter.js","../src/org/locationtech/jts/io/WKTReader.js","../src/org/locationtech/jts/io/OL3Parser.js","../src/org/locationtech/jts/noding/SegmentPointComparator.js","../src/org/locationtech/jts/noding/SegmentNode.js","../src/org/locationtech/jts/noding/SegmentNodeList.js","../src/org/locationtech/jts/noding/Octant.js","../src/org/locationtech/jts/noding/SegmentString.js","../src/org/locationtech/jts/noding/NodableSegmentString.js","../src/org/locationtech/jts/noding/NodedSegmentString.js","../src/org/locationtech/jts/index/chain/MonotoneChainOverlapAction.js","../src/org/locationtech/jts/noding/Noder.js","../src/org/locationtech/jts/noding/SinglePassNoder.js","../src/org/locationtech/jts/noding/MCIndexNoder.js","../src/org/locationtech/jts/noding/ScaledNoder.js","../src/org/locationtech/jts/operation/IsSimpleOp.js","../src/org/locationtech/jts/operation/buffer/BufferParameters.js","../src/org/locationtech/jts/operation/buffer/RightmostEdgeFinder.js","../src/java/util/LinkedList.js","../src/org/locationtech/jts/operation/buffer/BufferSubgraph.js","../src/org/locationtech/jts/geomgraph/EdgeRing.js","../src/org/locationtech/jts/operation/overlay/MinimalEdgeRing.js","../src/org/locationtech/jts/operation/overlay/MaximalEdgeRing.js","../src/org/locationtech/jts/operation/overlay/PolygonBuilder.js","../src/org/locationtech/jts/operation/buffer/BufferInputLineSimplifier.js","../src/org/locationtech/jts/operation/buffer/OffsetSegmentString.js","../src/org/locationtech/jts/operation/buffer/OffsetSegmentGenerator.js","../src/org/locationtech/jts/operation/buffer/OffsetCurveBuilder.js","../src/org/locationtech/jts/operation/buffer/SubgraphDepthLocater.js","../src/org/locationtech/jts/operation/buffer/OffsetCurveSetBuilder.js","../src/org/locationtech/jts/geomgraph/EdgeEndStar.js","../src/org/locationtech/jts/geomgraph/DirectedEdgeStar.js","../src/org/locationtech/jts/operation/overlay/OverlayNodeFactory.js","../src/org/locationtech/jts/noding/OrientedCoordinateArray.js","../src/org/locationtech/jts/geomgraph/EdgeList.js","../src/org/locationtech/jts/noding/SegmentIntersector.js","../src/org/locationtech/jts/noding/IntersectionAdder.js","../src/org/locationtech/jts/operation/buffer/BufferBuilder.js","../src/org/locationtech/jts/noding/NodingValidator.js","../src/org/locationtech/jts/noding/snapround/HotPixel.js","../src/org/locationtech/jts/noding/snapround/MCIndexPointSnapper.js","../src/org/locationtech/jts/noding/InteriorIntersectionFinderAdder.js","../src/org/locationtech/jts/noding/snapround/MCIndexSnapRounder.js","../src/org/locationtech/jts/operation/buffer/BufferOp.js","../src/org/locationtech/jts/geom/util/PolygonExtracter.js","../src/org/locationtech/jts/operation/distance/GeometryLocation.js","../src/org/locationtech/jts/geom/util/PointExtracter.js","../src/org/locationtech/jts/operation/distance/ConnectedElementLocationFilter.js","../src/org/locationtech/jts/operation/distance/DistanceOp.js","../src/org/locationtech/jts/operation/linemerge/EdgeString.js","../src/org/locationtech/jts/planargraph/GraphComponent.js","../src/org/locationtech/jts/planargraph/DirectedEdge.js","../src/org/locationtech/jts/operation/linemerge/LineMergeDirectedEdge.js","../src/org/locationtech/jts/planargraph/Edge.js","../src/org/locationtech/jts/planargraph/DirectedEdgeStar.js","../src/org/locationtech/jts/planargraph/Node.js","../src/org/locationtech/jts/operation/linemerge/LineMergeEdge.js","../src/org/locationtech/jts/planargraph/NodeMap.js","../src/org/locationtech/jts/planargraph/PlanarGraph.js","../src/org/locationtech/jts/operation/linemerge/LineMergeGraph.js","../src/org/locationtech/jts/operation/linemerge/LineMerger.js","../src/org/locationtech/jts/noding/BasicSegmentString.js","../src/org/locationtech/jts/noding/InteriorIntersectionFinder.js","../src/org/locationtech/jts/noding/FastNodingValidator.js","../src/org/locationtech/jts/geomgraph/EdgeNodingValidator.js","../src/org/locationtech/jts/geom/util/GeometryCollectionMapper.js","../src/org/locationtech/jts/operation/overlay/LineBuilder.js","../src/org/locationtech/jts/operation/overlay/PointBuilder.js","../src/org/locationtech/jts/operation/overlay/snap/LineStringSnapper.js","../src/org/locationtech/jts/operation/overlay/snap/GeometrySnapper.js","../src/org/locationtech/jts/precision/CommonBits.js","../src/org/locationtech/jts/precision/CommonBitsRemover.js","../src/org/locationtech/jts/operation/overlay/snap/SnapOverlayOp.js","../src/org/locationtech/jts/operation/overlay/snap/SnapIfNeededOverlayOp.js","../src/org/locationtech/jts/operation/GeometryGraphOperation.js","../src/org/locationtech/jts/operation/overlay/OverlayOp.js","../src/org/locationtech/jts/operation/polygonize/PolygonizeDirectedEdge.js","../src/org/locationtech/jts/operation/polygonize/PolygonizeEdge.js","../src/org/locationtech/jts/operation/polygonize/EdgeRing.js","../src/org/locationtech/jts/operation/polygonize/PolygonizeGraph.js","../src/org/locationtech/jts/operation/polygonize/Polygonizer.js","../src/org/locationtech/jts/operation/relate/EdgeEndBuilder.js","../src/org/locationtech/jts/operation/relate/EdgeEndBundle.js","../src/org/locationtech/jts/operation/relate/EdgeEndBundleStar.js","../src/org/locationtech/jts/operation/relate/RelateNode.js","../src/org/locationtech/jts/operation/relate/RelateNodeFactory.js","../src/org/locationtech/jts/operation/relate/RelateComputer.js","../src/org/locationtech/jts/operation/predicate/RectangleContains.js","../src/org/locationtech/jts/algorithm/RectangleLineIntersector.js","../src/org/locationtech/jts/geom/util/ShortCircuitedGeometryVisitor.js","../src/org/locationtech/jts/operation/predicate/RectangleIntersects.js","../src/org/locationtech/jts/operation/relate/RelateOp.js","../src/org/locationtech/jts/geom/util/GeometryCombiner.js","../src/org/locationtech/jts/operation/union/PointGeometryUnion.js","../src/org/locationtech/jts/geom/util/GeometryExtracter.js","../src/org/locationtech/jts/operation/union/CascadedPolygonUnion.js","../src/org/locationtech/jts/operation/union/UnaryUnionOp.js","../src/org/locationtech/jts/operation/valid/ConnectedInteriorTester.js","../src/org/locationtech/jts/operation/relate/RelateNodeGraph.js","../src/org/locationtech/jts/operation/valid/ConsistentAreaTester.js","../src/org/locationtech/jts/operation/valid/IndexedNestedRingTester.js","../src/org/locationtech/jts/operation/valid/TopologyValidationError.js","../src/org/locationtech/jts/operation/valid/IsValidOp.js","../src/org/locationtech/jts/precision/PrecisionReducerCoordinateOperation.js","../src/org/locationtech/jts/precision/GeometryPrecisionReducer.js","../src/org/locationtech/jts/simplify/DouglasPeuckerLineSimplifier.js","../src/org/locationtech/jts/simplify/DouglasPeuckerSimplifier.js","../src/org/locationtech/jts/simplify/TaggedLineSegment.js","../src/org/locationtech/jts/simplify/TaggedLineString.js","../src/org/locationtech/jts/simplify/LineSegmentIndex.js","../src/org/locationtech/jts/simplify/TaggedLineStringSimplifier.js","../src/org/locationtech/jts/simplify/TaggedLinesSimplifier.js","../src/org/locationtech/jts/simplify/TopologyPreservingSimplifier.js","../src/org/locationtech/jts/triangulate/SplitSegment.js","../src/org/locationtech/jts/triangulate/ConstraintSplitPointFinder.js","../src/org/locationtech/jts/triangulate/NonEncroachingSplitPointFinder.js","../src/org/locationtech/jts/triangulate/quadedge/TrianglePredicate.js","../src/org/locationtech/jts/triangulate/quadedge/Vertex.js","../src/org/locationtech/jts/triangulate/ConstraintVertex.js","../src/org/locationtech/jts/triangulate/quadedge/QuadEdge.js","../src/org/locationtech/jts/triangulate/IncrementalDelaunayTriangulator.js","../src/org/locationtech/jts/triangulate/quadedge/QuadEdgeLocator.js","../src/org/locationtech/jts/triangulate/quadedge/LastFoundQuadEdgeLocator.js","../src/org/locationtech/jts/triangulate/quadedge/LocateFailureException.js","../src/org/locationtech/jts/triangulate/quadedge/TriangleVisitor.js","../src/org/locationtech/jts/triangulate/quadedge/QuadEdgeSubdivision.js","../src/org/locationtech/jts/triangulate/Segment.js","../src/org/locationtech/jts/triangulate/ConformingDelaunayTriangulator.js","../src/org/locationtech/jts/triangulate/DelaunayTriangulationBuilder.js","../src/org/locationtech/jts/triangulate/ConformingDelaunayTriangulationBuilder.js","../src/org/locationtech/jts/triangulate/VoronoiDiagramBuilder.js","../src/org/locationtech/jts/linearref/LinearLocation.js","../src/org/locationtech/jts/linearref/LinearIterator.js","../src/org/locationtech/jts/linearref/LocationIndexOfPoint.js","../src/org/locationtech/jts/linearref/LocationIndexOfLine.js","../src/org/locationtech/jts/linearref/LinearGeometryBuilder.js","../src/org/locationtech/jts/linearref/ExtractLineByLocation.js","../src/org/locationtech/jts/linearref/LocationIndexedLine.js","../src/org/locationtech/jts/linearref/LengthIndexOfPoint.js","../src/org/locationtech/jts/linearref/LengthLocationMap.js","../src/org/locationtech/jts/linearref/LengthIndexedLine.js","../src/org/locationtech/jts/operation/union/UnionOp.js","../src/org/locationtech/jts/monkey.js","../src/jsts.js"],"sourcesContent":["/* Polyfill service v3.13.0\n * For detailed credits and licence information see http://github.com/financial-times/polyfill-service\n *\n * - Array.prototype.fill, License: CC0 */\n\nif (!('fill' in Array.prototype)) {\n  Object.defineProperty(Array.prototype, 'fill', {\n    configurable: true,\n    value: function fill(value) {\n      if (this === undefined || this === null) {\n        throw new TypeError(this + ' is not an object');\n      }\n\n      var arrayLike = Object(this);\n\n      var length = Math.max(Math.min(arrayLike.length, 9007199254740991), 0) || 0;\n\n      var relativeStart = 1 in arguments ? parseInt(Number(arguments[1]), 10) || 0 : 0;\n\n      relativeStart = relativeStart < 0 ? Math.max(length + relativeStart, 0) : Math.min(relativeStart, length);\n\n      var relativeEnd = 2 in arguments && arguments[2] !== undefined ? parseInt(Number(arguments[2]), 10) || 0 : length;\n\n      relativeEnd = relativeEnd < 0 ? Math.max(length + arguments[2], 0) : Math.min(relativeEnd, length);\n\n      while (relativeStart < relativeEnd) {\n        arrayLike[relativeStart] = value;\n\n        ++relativeStart;\n      }\n\n      return arrayLike;\n    },\n    writable: true\n  });\n}\n","Number.isFinite = Number.isFinite || function (value) {\n  return typeof value === 'number' && isFinite(value)\n}\n\nNumber.isInteger = Number.isInteger || function (val) {\n  return typeof val === 'number' &&\n  isFinite(val) &&\n  Math.floor(val) === val\n}\n\nNumber.parseFloat = Number.parseFloat || parseFloat\n\nNumber.isNaN = Number.isNaN || function (value) {\n  return value !== value // eslint-disable-line\n}\n","Math.trunc = Math.trunc || function(x) {\n  return x < 0 ? Math.ceil(x) : Math.floor(x)\n}\n\nMath.log2 = Math.log2 || function(x) {\n  return Math.log(x) * Math.LOG2E\n}\n","export default function (target, source) {\n  for (let key in source) {\n    if (source.hasOwnProperty(key)) target[key] = source[key]\n  }\n}\n","import extend from '../../../../extend';\nexport default function NumberUtil() {}\nextend(NumberUtil.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn NumberUtil;\n\t}\n});\nNumberUtil.equalsWithTolerance = function (x1, x2, tolerance) {\n\treturn Math.abs(x1 - x2) <= tolerance;\n};\n","export default function IllegalArgumentException () {}\n","export default function Long(high, low) {\n  this.low = low | 0\n  this.high = high | 0\n}\n\nLong.toBinaryString = function (i) {\n  var result = ''\n  for (var mask = 0x80000000; mask > 0; mask >>>= 1)\n    result += (i.high & mask) === mask ? '1' : '0'\n  for (var mask = 0x80000000; mask > 0; mask >>>= 1)\n    result += (i.low & mask) === mask ? '1' : '0'\n  return result\n}","import Long from './Long';\n\nexport default function Double () {}\n\nDouble.isNaN = n => Number.isNaN(n)\nDouble.isInfinite = n => !Number.isFinite(n)\nDouble.MAX_VALUE = Number.MAX_VALUE\n\nif (typeof Float64Array == 'function' &&\n\t  typeof Int32Array == 'function') {\n\t// Simple and fast conversion between double and long bits\n\t// using TypedArrays and ArrayViewBuffers.\n\t(function() {\n\t\tvar EXP_BIT_MASK = 0x7ff00000;\n\t\tvar SIGNIF_BIT_MASK = 0xFFFFF;\n\t\tvar f64buf = new Float64Array(1);\n\t\tvar i32buf = new Int32Array(f64buf.buffer);\n\t\tDouble.doubleToLongBits = function (value) {\n\t\t\tf64buf[0] = value;\n\t\t\tvar low = i32buf[0] | 0;\n\t\t\tvar high = i32buf[1] | 0;\n\t\t\t// Check for NaN based on values of bit fields, maximum\n\t\t\t// exponent and nonzero significand.\n\t\t\tif (((high & EXP_BIT_MASK) === EXP_BIT_MASK) &&\n\t\t\t\t((high & SIGNIF_BIT_MASK) !== 0) &&\n\t\t\t\t(low !== 0)) {\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = 0x7ff80000 | 0;\n\t\t\t}\n\t\t\treturn new Long(high, low);\n\t\t};\n\t\tDouble.longBitsToDouble = function (bits) {\n\t\t\ti32buf[0] = bits.low;\n\t\t\ti32buf[1] = bits.high;\n\t\t\treturn f64buf[0];\n\t\t};\n\t})();\n} else {\n\t// More complex and slower fallback implementation using \n\t// math and the divide-by-two and multiply-by-two algorithms.\n\t(function() {\n\t\tvar BIAS = 1023;\n\t\tvar log2 = Math.log2;\n\t\tvar floor = Math.floor;\n\t\tvar pow = Math.pow;\n\t\tvar MAX_REL_BITS_INTEGER = (function () {\n\t\t\tfor (var i = 53; i > 0; i--) {\n\t\t\t\tvar bits = pow(2, i) - 1;\n\t\t\t\tif (floor(log2(bits)) + 1 === i) {\n\t\t\t\t\treturn bits;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t})();\n\t\tDouble.doubleToLongBits = function (value) {\n\t\t\tvar x, y, f, bits, skip;\n\t\t\tvar sign, exp, high, low;\n\t\n\t\t\t// Get the sign bit and absolute value.\n\t\t\tif (value < 0 || 1 / value === Number.NEGATIVE_INFINITY) {\n\t\t\t\tsign = (1 << 31);\n\t\t\t\tvalue = (-value);\n\t\t\t} else {\n\t\t\t\tsign = 0;\n\t\t\t}\n\t\n\t\t\t// Handle some special values.\n\t\t\tif (value === 0) {\n\t\t\t\t// Handle zeros (+/-0).\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = sign; // exponent: 00..00, significand: 00..00\n\t\t\t\treturn new Long(high, low);\n\t\t\t}\n\t\n\t\t\tif (value === Infinity) {\n\t\t\t\t// Handle infinity (only positive values for value possible).\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = sign | 0x7ff00000; // exponent: 11..11, significand: 00..00\n\t\t\t\treturn new Long(high, low);\n\t\t\t}\n\t\n\t\t\tif (value !== value) {\n\t\t\t\t// Handle NaNs (boiled down to only one distinct NaN).\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = 0x7ff80000; // exponent: 11..11, significand: 10..00\n\t\t\t\treturn new Long(high, low);\n\t\t\t}\n\t\n\t\t\t// Preinitialize variables, that are not neccessarily set by\n\t\t\t// the algorithm.\n\t\t\tbits = 0;\n\t\t\tlow = 0 | 0;\n\t\n\t\t\t// Get the (always positive) integer part of value.\n\t\t\tx = floor(value);\n\t\n\t\t\t// Process the integer part if it's greater than 1. Zero requires\n\t\t\t// no bits at all, 1 represents the implicit (hidden) leading bit,\n\t\t\t// which must not be written as well.\n\t\t\tif (x > 1) {\n\t\t\t\t// If we can reliably determine the number of bits required for\n\t\t\t\t// the integer part,\n\t\t\t\tif (x <= MAX_REL_BITS_INTEGER) {\n\t\t\t\t\t// get the number of bits required to represent it minus 1\n\t\t\t\t\tbits = floor(log2(x)) /* + 1 - 1*/ ;\n\t\t\t\t\t// and simply copy/shift the integer bits into low and high.\n\t\t\t\t\t// That's much faster than the divide-by-two algorithm (saves\n\t\t\t\t\t// up to ~60%).\n\t\t\t\t\t// We always need to mask out the most significant bit, which\n\t\t\t\t\t// is the implicit (aka hidden) bit.\n\t\t\t\t\tif (bits <= 20) {\n\t\t\t\t\t\t// The simple case in which the integer fits into the\n\t\t\t\t\t\t// lower 20 bits of the high word is worth to be handled\n\t\t\t\t\t\t// separately (saves ~25%).\n\t\t\t\t\t\tlow = 0 | 0;\n\t\t\t\t\t\thigh = (x << (20 - bits)) & 0xfffff;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Here, the integer part is split into low and high.\n\t\t\t\t\t\t// Since its value may require more than 32 bits, we\n\t\t\t\t\t\t// cannot use bitwise operators (which implicitly cast\n\t\t\t\t\t\t// to Int32), but use arithmetic operators % and / to\n\t\t\t\t\t\t// get low and high parts. The uppper 20 bits go to high,\n\t\t\t\t\t\t// the remaining bits (in f) to low.\n\t\t\t\t\t\tf = bits - 20;\n\t\t\t\t\t\t// Like (1 << f) but safe with even more than 32 bits.\n\t\t\t\t\t\ty = pow(2, f);\n\t\t\t\t\t\tlow = (x % y) << (32 - f);\n\t\t\t\t\t\thigh = (x / y) & 0xfffff;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// For greater values, we must use the much slower divide-by-two\n\t\t\t\t\t// algorithm. Bits are generated from right to left, that is from\n\t\t\t\t\t// least to most significant bit. For each bit, we left-shift both\n\t\t\t\t\t// low and high by one and carry bit #0 from high to #31 in low.\n\t\t\t\t\t// The next bit is then copied into bit #19 in high, the leftmost\n\t\t\t\t\t// bit of the double's significand.\n\t\n\t\t\t\t\t// Preserve x for later user, so work with f.\n\t\t\t\t\tf = x;\n\t\t\t\t\tlow = 0 | 0;\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\ty = f / 2;\n\t\t\t\t\t\tf = floor(y);\n\t\t\t\t\t\tif (f === 0) {\n\t\t\t\t\t\t\t// We just found the most signigicant (1-)bit, which\n\t\t\t\t\t\t\t// is the implicit bit and so, not stored in the double\n\t\t\t\t\t\t\t// value. So, it's time to leave the loop.\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Count this bit, shift low and carry bit #0 from high.\n\t\t\t\t\t\tbits++;\n\t\t\t\t\t\tlow >>>= 1;\n\t\t\t\t\t\tlow |= (high & 0x1) << 31;\n\t\t\t\t\t\t// Shift high.\n\t\t\t\t\t\thigh >>>= 1;\n\t\t\t\t\t\tif (y !== f) {\n\t\t\t\t\t\t\t// Copy the new bit into bit #19 in high (only required if 1).\n\t\t\t\t\t\t\thigh |= 0x80000;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Bias the exponent.\n\t\t\texp = bits + BIAS;\n\t\n\t\t\t// If the integer part is zero, we've not yet seen the implicit\n\t\t\t// leading bit. Variable skip is later used while processing the \n\t\t\t// fractional part (if any).\n\t\t\tskip = (x === 0);\n\t\n\t\t\t// Get fraction only into x.\n\t\t\tx = value - x;\n\t\n\t\t\t// If some significand bits are still left to be filled and\n\t\t\t// the fractional part is not zero, convert the fraction using\n\t\t\t// the multiply-by-2 algorithm.\n\t\t\tif (bits < 52 && x !== 0) {\n\t\n\t\t\t\t// Initialize 'buffer' f, into which newly created bits get\n\t\t\t\t// shifted from right to left.\n\t\t\t\tf = 0;\n\t\n\t\t\t\twhile (true) {\n\t\t\t\t\ty = x * 2;\n\t\t\t\t\tif (y >= 1) {\n\t\t\t\t\t\t// This is a new 1-bit. Add and count this bit, if not\n\t\t\t\t\t\t// prohibited by skip.\n\t\t\t\t\t\tx = y - 1;\n\t\t\t\t\t\tif (!skip) {\n\t\t\t\t\t\t\tf <<= 1;\n\t\t\t\t\t\t\tf |= 1;\n\t\t\t\t\t\t\tbits++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Otherwise, decrement the exponent and unset\n\t\t\t\t\t\t\t// skip, so that all following bits get written.\n\t\t\t\t\t\t\texp--;\n\t\t\t\t\t\t\tskip = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is a new 0-bit. Add and count this bit, if not\n\t\t\t\t\t\t// prohibited by skip.\n\t\t\t\t\t\tx = y;\n\t\t\t\t\t\tif (!skip) {\n\t\t\t\t\t\t\tf <<= 1;\n\t\t\t\t\t\t\tbits++;\n\t\t\t\t\t\t} else if (--exp === 0) {\n\t\t\t\t\t\t\t// Otherwise we've just decremented the exponent. If the\n\t\t\t\t\t\t\t// biased exponent is zero now (-1023), we process a\n\t\t\t\t\t\t\t// subnormal number, which has no impled leading 1-bit.\n\t\t\t\t\t\t\t// So, count this 0-bit and unset skip to write out\n\t\t\t\t\t\t\t// all the following bits.\n\t\t\t\t\t\t\tbits++;\n\t\t\t\t\t\t\tskip = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (bits === 20) {\n\t\t\t\t\t\t// When 20 bits have been created in total, we're done with\n\t\t\t\t\t\t// the high word. Copy the bits from 'buffer' f into high\n\t\t\t\t\t\t// and reset 'buffer' f. Following bits will end up in the\n\t\t\t\t\t\t// low word.\n\t\t\t\t\t\thigh |= f;\n\t\t\t\t\t\tf = 0;\n\t\t\t\t\t} else if (bits === 52) {\n\t\t\t\t\t\t// When 52 bits have been created in total, we're done with\n\t\t\t\t\t\t// low word as well. Copy the bits from 'buffer' f into low\n\t\t\t\t\t\t// and exit the loop.\n\t\t\t\t\t\tlow |= f;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (y === 1) {\n\t\t\t\t\t\t// When y is exactly 1, there is no remainder and the process\n\t\t\t\t\t\t// is complete (the number is finite). Copy the bits from\n\t\t\t\t\t\t// 'buffer' f into either low or high and exit the loop.\n\t\t\t\t\t\tif (bits < 20) {\n\t\t\t\t\t\t\thigh |= (f << (20 - bits));\n\t\t\t\t\t\t} else if (bits < 52) {\n\t\t\t\t\t\t\tlow |= (f << (52 - bits));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Copy/shift the exponent and sign bits into the high word.\n\t\t\thigh |= (exp << 20);\n\t\t\thigh |= sign;\n\t\n\t\t\treturn new Long(high, low);\n\t\t};\n\t\tDouble.longBitsToDouble = function (bits) {\n\t\t\tvar x, sign, exp, fract;\n\t\t\tvar high = bits.high;\n\t\t\tvar low = bits.low;\n\t\n\t\t\t// Extract the sign.\n\t\t\tsign = (high & (1 << 31)) ? -1 : 1;\n\t\n\t\t\t// Extract the unbiased exponent.\n\t\t\texp = ((high & 0x7ff00000) >> 20) - BIAS;\n\t\n\t\t\t// Calculate the fraction from left to right. Start\n\t\t\t// off with the 20 lower bits from the high word.\n\t\t\tfract = 0;\n\t\t\tx = (1 << 19);\n\t\t\tfor (var i = 1; i <= 20; i++) {\n\t\t\t\tif (high & x) {\n\t\t\t\t\tfract += pow(2, -i);\n\t\t\t\t}\n\t\t\t\tx >>>= 1;\n\t\t\t}\n\t\t\t// Continue with all 32 bits from the low word.\n\t\t\tx = (1 << 31);\n\t\t\tfor (var i = 21; i <= 52; i++) {\n\t\t\t\tif (low & x) {\n\t\t\t\t\tfract += pow(2, -i);\n\t\t\t\t}\n\t\t\t\tx >>>= 1;\n\t\t\t}\n\t\n\t\t\t// Handle special values.\n\t\t\t// Check for zero and subnormal values.\n\t\t\tif (exp === -BIAS) {\n\t\t\t\tif (fract === 0) {\n\t\t\t\t\t// +/-1.0 * 0.0 => +/-0.0\n\t\t\t\t\treturn sign * 0;\n\t\t\t\t}\n\t\t\t\texp = -1022;\n\t\t\t}\n\t\t\t// Check for +/-Infinity or NaN.\n\t\t\telse if (exp === BIAS + 1) {\n\t\t\t\tif (fract === 0) {\n\t\t\t\t\t// +/-1.0 / 0.0 => +/-Infinity\n\t\t\t\t\treturn sign / 0;\n\t\t\t\t}\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\t// Nothing special? Seems to be a normal number.\n\t\t\telse {\n\t\t\t\t// Add the implicit leading bit (1*2^0).\n\t\t\t\tfract += 1;\n\t\t\t}\n\t\n\t\t\treturn sign * fract * pow(2, exp);\n\t\t};\n\t})();\n}","export default function Comparable () {}\n","export default function Clonable () {}\n","export default function Comparator () {}\n","export default function Serializable () {}\n","export default function RuntimeException (message) {\n  this.name = 'RuntimeException'\n  this.message = message\n  this.stack = (new Error()).stack\n  Error.call(this, message)\n}\n\nRuntimeException.prototype = Object.create(Error.prototype)\nRuntimeException.prototype.constructor = Error\n","export default function (c, p) {\n  c.prototype = Object.create(p.prototype)\n  c.prototype.constructor = c\n}\n","import extend from '../../../../extend';\nimport RuntimeException from '../../../../java/lang/RuntimeException';\nimport inherits from '../../../../inherits';\nexport default function AssertionFailedException() {\n\tif (arguments.length === 0) {\n\t\tRuntimeException.call(this);\n\t} else if (arguments.length === 1) {\n\t\tlet message = arguments[0];\n\t\tRuntimeException.call(this, message);\n\t}\n}\ninherits(AssertionFailedException, RuntimeException);\nextend(AssertionFailedException.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn AssertionFailedException;\n\t}\n});\n","import extend from '../../../../extend';\nimport AssertionFailedException from './AssertionFailedException';\nexport default function Assert() {}\nextend(Assert.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Assert;\n\t}\n});\nAssert.shouldNeverReachHere = function () {\n\tif (arguments.length === 0) {\n\t\tAssert.shouldNeverReachHere(null);\n\t} else if (arguments.length === 1) {\n\t\tlet message = arguments[0];\n\t\tthrow new AssertionFailedException(\"Should never reach here\" + (message !== null ? \": \" + message : \"\"));\n\t}\n};\nAssert.isTrue = function () {\n\tif (arguments.length === 1) {\n\t\tlet assertion = arguments[0];\n\t\tAssert.isTrue(assertion, null);\n\t} else if (arguments.length === 2) {\n\t\tlet assertion = arguments[0], message = arguments[1];\n\t\tif (!assertion) {\n\t\t\tif (message === null) {\n\t\t\t\tthrow new AssertionFailedException();\n\t\t\t} else {\n\t\t\t\tthrow new AssertionFailedException(message);\n\t\t\t}\n\t\t}\n\t}\n};\nAssert.equals = function () {\n\tif (arguments.length === 2) {\n\t\tlet expectedValue = arguments[0], actualValue = arguments[1];\n\t\tAssert.equals(expectedValue, actualValue, null);\n\t} else if (arguments.length === 3) {\n\t\tlet expectedValue = arguments[0], actualValue = arguments[1], message = arguments[2];\n\t\tif (!actualValue.equals(expectedValue)) {\n\t\t\tthrow new AssertionFailedException(\"Expected \" + expectedValue + \" but encountered \" + actualValue + (message !== null ? \": \" + message : \"\"));\n\t\t}\n\t}\n};\n","import NumberUtil from '../util/NumberUtil';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Cloneable from '../../../../java/lang/Cloneable';\nimport Comparator from '../../../../java/util/Comparator';\nimport Serializable from '../../../../java/io/Serializable';\nimport Assert from '../util/Assert';\nexport default function Coordinate() {\n\tthis.x = null;\n\tthis.y = null;\n\tthis.z = null;\n\tif (arguments.length === 0) {\n\t\tCoordinate.call(this, 0.0, 0.0);\n\t} else if (arguments.length === 1) {\n\t\tlet c = arguments[0];\n\t\tCoordinate.call(this, c.x, c.y, c.z);\n\t} else if (arguments.length === 2) {\n\t\tlet x = arguments[0], y = arguments[1];\n\t\tCoordinate.call(this, x, y, Coordinate.NULL_ORDINATE);\n\t} else if (arguments.length === 3) {\n\t\tlet x = arguments[0], y = arguments[1], z = arguments[2];\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t}\n}\nextend(Coordinate.prototype, {\n\tsetOrdinate: function (ordinateIndex, value) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase Coordinate.X:\n\t\t\t\tthis.x = value;\n\t\t\t\tbreak;\n\t\t\tcase Coordinate.Y:\n\t\t\t\tthis.y = value;\n\t\t\t\tbreak;\n\t\t\tcase Coordinate.Z:\n\t\t\t\tthis.z = value;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new IllegalArgumentException(\"Invalid ordinate index: \" + ordinateIndex);\n\t\t}\n\t},\n\tequals2D: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet other = arguments[0];\n\t\t\tif (this.x !== other.x) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.y !== other.y) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet c = arguments[0], tolerance = arguments[1];\n\t\t\tif (!NumberUtil.equalsWithTolerance(this.x, c.x, tolerance)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!NumberUtil.equalsWithTolerance(this.y, c.y, tolerance)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\tgetOrdinate: function (ordinateIndex) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase Coordinate.X:\n\t\t\t\treturn this.x;\n\t\t\tcase Coordinate.Y:\n\t\t\t\treturn this.y;\n\t\t\tcase Coordinate.Z:\n\t\t\t\treturn this.z;\n\t\t}\n\t\tthrow new IllegalArgumentException(\"Invalid ordinate index: \" + ordinateIndex);\n\t},\n\tequals3D: function (other) {\n\t\treturn this.x === other.x && this.y === other.y && (this.z === other.z || Double.isNaN(this.z) && Double.isNaN(other.z));\n\t},\n\tequals: function (other) {\n\t\tif (!(other instanceof Coordinate)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.equals2D(other);\n\t},\n\tequalInZ: function (c, tolerance) {\n\t\treturn NumberUtil.equalsWithTolerance(this.z, c.z, tolerance);\n\t},\n\tcompareTo: function (o) {\n\t\tvar other = o;\n\t\tif (this.x < other.x) return -1;\n\t\tif (this.x > other.x) return 1;\n\t\tif (this.y < other.y) return -1;\n\t\tif (this.y > other.y) return 1;\n\t\treturn 0;\n\t},\n\tclone: function () {\n\t\ttry {\n\t\t\tvar coord = null;\n\t\t\treturn coord;\n\t\t} catch (e) {\n\t\t\tif (e instanceof CloneNotSupportedException) {\n\t\t\t\tAssert.shouldNeverReachHere(\"this shouldn't happen because this class is Cloneable\");\n\t\t\t\treturn null;\n\t\t\t} else throw e;\n\t\t} finally {}\n\t},\n\tcopy: function () {\n\t\treturn new Coordinate(this);\n\t},\n\ttoString: function () {\n\t\treturn \"(\" + this.x + \", \" + this.y + \", \" + this.z + \")\";\n\t},\n\tdistance3D: function (c) {\n\t\tvar dx = this.x - c.x;\n\t\tvar dy = this.y - c.y;\n\t\tvar dz = this.z - c.z;\n\t\treturn Math.sqrt(dx * dx + dy * dy + dz * dz);\n\t},\n\tdistance: function (c) {\n\t\tvar dx = this.x - c.x;\n\t\tvar dy = this.y - c.y;\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t},\n\thashCode: function () {\n\t\tvar result = 17;\n\t\tresult = 37 * result + Coordinate.hashCode(this.x);\n\t\tresult = 37 * result + Coordinate.hashCode(this.y);\n\t\treturn result;\n\t},\n\tsetCoordinate: function (other) {\n\t\tthis.x = other.x;\n\t\tthis.y = other.y;\n\t\tthis.z = other.z;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable, Cloneable, Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn Coordinate;\n\t}\n});\nCoordinate.hashCode = function () {\n\tif (arguments.length === 1 && typeof arguments[0] === \"number\") {\n\t\tlet x = arguments[0];\n\t\tvar f = Double.doubleToLongBits(x);\n\t\treturn Math.trunc(f ^ f >>> 32);\n\t}\n};\nfunction DimensionalComparator() {\n\tthis._dimensionsToTest = 2;\n\tif (arguments.length === 0) {\n\t\tDimensionalComparator.call(this, 2);\n\t} else if (arguments.length === 1) {\n\t\tlet dimensionsToTest = arguments[0];\n\t\tif (dimensionsToTest !== 2 && dimensionsToTest !== 3) throw new IllegalArgumentException(\"only 2 or 3 dimensions may be specified\");\n\t\tthis._dimensionsToTest = dimensionsToTest;\n\t}\n}\nextend(DimensionalComparator.prototype, {\n\tcompare: function (o1, o2) {\n\t\tvar c1 = o1;\n\t\tvar c2 = o2;\n\t\tvar compX = DimensionalComparator.compare(c1.x, c2.x);\n\t\tif (compX !== 0) return compX;\n\t\tvar compY = DimensionalComparator.compare(c1.y, c2.y);\n\t\tif (compY !== 0) return compY;\n\t\tif (this._dimensionsToTest <= 2) return 0;\n\t\tvar compZ = DimensionalComparator.compare(c1.z, c2.z);\n\t\treturn compZ;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function () {\n\t\treturn DimensionalComparator;\n\t}\n});\nDimensionalComparator.compare = function (a, b) {\n\tif (a < b) return -1;\n\tif (a > b) return 1;\n\tif (Double.isNaN(a)) {\n\t\tif (Double.isNaN(b)) return 0;\n\t\treturn -1;\n\t}\n\tif (Double.isNaN(b)) return 1;\n\treturn 0;\n};\nCoordinate.DimensionalComparator = DimensionalComparator;\nCoordinate.serialVersionUID = 6683108902428366910;\nCoordinate.NULL_ORDINATE = Double.NaN;\nCoordinate.X = 0;\nCoordinate.Y = 1;\nCoordinate.Z = 2;\n","export default function (o, i) {\n  return o.interfaces_ && o.interfaces_().indexOf(i) > -1\n}\n","/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html\n * @constructor\n * @private\n */\nexport default function Iterator() {};\n\n/**\n * Returns true if the iteration has more elements.\n * @return {boolean}\n */\nIterator.prototype.hasNext = function() {};\n\n/**\n * Returns the next element in the iteration.\n * @return {Object}\n */\nIterator.prototype.next = function() {};\n\n/**\n * Removes from the underlying collection the last element returned by the\n * iterator (optional operation).\n */\nIterator.prototype.remove = function() {};\n","import Iterator from './Iterator'\n\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Collection.html\n *\n * @constructor\n * @private\n */\nexport default function Collection() {};\n\n/**\n * Ensures that this collection contains the specified element (optional\n * operation).\n * @param {Object} e\n * @return {boolean}\n */\nCollection.prototype.add = function() {};\n\n\n/**\n * Appends all of the elements in the specified collection to the end of this\n * list, in the order that they are returned by the specified collection's\n * iterator (optional operation).\n * @param {javascript.util.Collection} c\n * @return {boolean}\n */\nCollection.prototype.addAll = function() {};\n\n\n/**\n * Returns true if this collection contains no elements.\n * @return {boolean}\n */\nCollection.prototype.isEmpty = function() {};\n\n\n/**\n * Returns an iterator over the elements in this collection.\n * @return {javascript.util.Iterator}\n */\nCollection.prototype.iterator = function() {};\n\n\n/**\n * Returns an iterator over the elements in this collection.\n * @return {number}\n */\nCollection.prototype.size = function() {};\n\n\n/**\n * Returns an array containing all of the elements in this collection.\n * @return {Array}\n */\nCollection.prototype.toArray = function() {};\n\n\n/**\n * Removes a single instance of the specified element from this collection if it\n * is present. (optional)\n * @param {Object} e\n * @return {boolean}\n */\nCollection.prototype.remove = function() {};\n","/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nexport default function IndexOutOfBoundsException(message) {\n  this.message = message || '';\n};\nIndexOutOfBoundsException.prototype = new Error();\n\n/**\n * @type {string}\n */\nIndexOutOfBoundsException.prototype.name = 'IndexOutOfBoundsException';\n","import Collection from './Collection'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/List.html\n *\n * @extends {javascript.util.Collection}\n * @constructor\n * @private\n */\nexport default function List() { };\nList.prototype = Object.create(Collection.prototype);\nList.prototype.constructor = List\n\n/**\n * Returns the element at the specified position in this list.\n * @param {number} index\n * @return {Object}\n */\nList.prototype.get = function() { };\n\n\n/**\n * Replaces the element at the specified position in this list with the\n * specified element (optional operation).\n * @param {number} index\n * @param {Object} e\n * @return {Object}\n */\nList.prototype.set = function() { };\n\n\n/**\n * Returns true if this collection contains no elements.\n * @return {boolean}\n */\nList.prototype.isEmpty = function() { };\n","/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nexport default function NoSuchElementException(message) {\n  this.message = message || '';\n};\nNoSuchElementException.prototype = new Error();\n\n\n/**\n * @type {string}\n */\nNoSuchElementException.prototype.name = 'NoSuchElementException';\n","/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nexport default function OperationNotSupported(message) {\n  this.message = message || '';\n};\nOperationNotSupported.prototype = new Error();\n\n\n/**\n * @type {string}\n */\nOperationNotSupported.prototype.name = 'OperationNotSupported';\n","import Collection from './Collection'\nimport IndexOutOfBoundsException from './IndexOutOfBoundsException'\nimport Iterator from './Iterator'\nimport List from './List'\nimport NoSuchElementException from './NoSuchElementException'\nimport OperationNotSupported from './OperationNotSupported'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html\n *\n * @extends List\n * @private\n */\nexport default function ArrayList () {\n  /**\n   * @type {Array}\n   * @private\n  */\n  this.array_ = [];\n\n  if (arguments[0] instanceof Collection) {\n    this.addAll(arguments[0]);\n  }\n};\nArrayList.prototype = Object.create(List.prototype)\nArrayList.prototype.constructor = ArrayList;\n\nArrayList.prototype.ensureCapacity = function () {}\nArrayList.prototype.interfaces_ = function () { return [List, Collection] }\n\n/**\n * @override\n */\nArrayList.prototype.add = function(e) {\n  if (arguments.length === 1) {\n    this.array_.push(e)\n  } else {\n    this.array_.splice(arguments[0], 0, arguments[1])\n  }\n  return true\n};\n\nArrayList.prototype.clear = function() {\n  this.array_ = []\n}\n\n/**\n * @override\n */\nArrayList.prototype.addAll = function(c) {\n  for (var i = c.iterator(); i.hasNext();) {\n    this.add(i.next());\n  }\n  return true;\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.set = function(index, element) {\n  var oldElement = this.array_[index];\n  this.array_[index] = element;\n  return oldElement;\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.iterator = function() {\n  return new Iterator_(this);\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.get = function(index) {\n  if (index < 0 || index >= this.size()) {\n    throw new IndexOutOfBoundsException();\n  }\n\n  return this.array_[index];\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.isEmpty = function() {\n  return this.array_.length === 0;\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.size = function() {\n  return this.array_.length;\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.toArray = function() {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.remove = function(o) {\n  var found = false;\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    if (this.array_[i] === o) {\n      this.array_.splice(i, 1);\n      found = true;\n      break;\n    }\n  }\n\n  return found;\n};\n\n\n\n/**\n * @extends {Iterator}\n * @param {ArrayList} arrayList\n * @constructor\n * @private\n */\nvar Iterator_ = function(arrayList) {\n  /**\n   * @type {ArrayList}\n   * @private\n  */\n  this.arrayList_ = arrayList;\n  /**\n   * @type {number}\n   * @private\n  */\n  this.position_ = 0;\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.next = function() {\n  if (this.position_ === this.arrayList_.size()) {\n    throw new NoSuchElementException();\n  }\n  return this.arrayList_.get(this.position_++);\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.hasNext = function() {\n  if (this.position_ < this.arrayList_.size()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n/**\n * TODO: should be in ListIterator\n * @override\n */\nIterator_.prototype.set = function(element) {\n  return this.arrayList_.set(this.position_ - 1, element);\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.remove = function() {\n  this.arrayList_.remove(this.arrayList_.get(this.position_));\n};\n","import hasInterface from '../../../../hasInterface';\nimport Collection from '../../../../java/util/Collection';\nimport Coordinate from './Coordinate';\nimport extend from '../../../../extend';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport inherits from '../../../../inherits';\nexport default function CoordinateList() {\n\tArrayList.apply(this);\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet coord = arguments[0];\n\t\tthis.ensureCapacity(coord.length);\n\t\tthis.add(coord, true);\n\t} else if (arguments.length === 2) {\n\t\tlet coord = arguments[0], allowRepeated = arguments[1];\n\t\tthis.ensureCapacity(coord.length);\n\t\tthis.add(coord, allowRepeated);\n\t}\n}\ninherits(CoordinateList, ArrayList);\nextend(CoordinateList.prototype, {\n\tgetCoordinate: function (i) {\n\t\treturn this.get(i);\n\t},\n\taddAll: function () {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"boolean\" && hasInterface(arguments[0], Collection))) {\n\t\t\tlet coll = arguments[0], allowRepeated = arguments[1];\n\t\t\tvar isChanged = false;\n\t\t\tfor (var i = coll.iterator(); i.hasNext(); ) {\n\t\t\t\tthis.add(i.next(), allowRepeated);\n\t\t\t\tisChanged = true;\n\t\t\t}\n\t\t\treturn isChanged;\n\t\t} else return ArrayList.prototype.addAll.apply(this, arguments);\n\t},\n\tclone: function () {\n\t\tvar clone = ArrayList.prototype.clone.call(this);\n\t\tfor (var i = 0; i < this.size(); i++) {\n\t\t\tclone.add(i, this.get(i).clone());\n\t\t}\n\t\treturn clone;\n\t},\n\ttoCoordinateArray: function () {\n\t\treturn this.toArray(CoordinateList.coordArrayType);\n\t},\n\tadd: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet coord = arguments[0];\n\t\t\tArrayList.prototype.add.call(this, coord);\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof Array && typeof arguments[1] === \"boolean\") {\n\t\t\t\tlet coord = arguments[0], allowRepeated = arguments[1];\n\t\t\t\tthis.add(coord, allowRepeated, true);\n\t\t\t\treturn true;\n\t\t\t} else if (arguments[0] instanceof Coordinate && typeof arguments[1] === \"boolean\") {\n\t\t\t\tlet coord = arguments[0], allowRepeated = arguments[1];\n\t\t\t\tif (!allowRepeated) {\n\t\t\t\t\tif (this.size() >= 1) {\n\t\t\t\t\t\tvar last = this.get(this.size() - 1);\n\t\t\t\t\t\tif (last.equals2D(coord)) return null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tArrayList.prototype.add.call(this, coord);\n\t\t\t} else if (arguments[0] instanceof Object && typeof arguments[1] === \"boolean\") {\n\t\t\t\tlet obj = arguments[0], allowRepeated = arguments[1];\n\t\t\t\tthis.add(obj, allowRepeated);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (typeof arguments[2] === \"boolean\" && (arguments[0] instanceof Array && typeof arguments[1] === \"boolean\")) {\n\t\t\t\tlet coord = arguments[0], allowRepeated = arguments[1], direction = arguments[2];\n\t\t\t\tif (direction) {\n\t\t\t\t\tfor (var i = 0; i < coord.length; i++) {\n\t\t\t\t\t\tthis.add(coord[i], allowRepeated);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = coord.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tthis.add(coord[i], allowRepeated);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else if (typeof arguments[2] === \"boolean\" && (Number.isInteger(arguments[0]) && arguments[1] instanceof Coordinate)) {\n\t\t\t\tlet i = arguments[0], coord = arguments[1], allowRepeated = arguments[2];\n\t\t\t\tif (!allowRepeated) {\n\t\t\t\t\tvar size = this.size();\n\t\t\t\t\tif (size > 0) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tvar prev = this.get(i - 1);\n\t\t\t\t\t\t\tif (prev.equals2D(coord)) return null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i < size) {\n\t\t\t\t\t\t\tvar next = this.get(i);\n\t\t\t\t\t\t\tif (next.equals2D(coord)) return null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tArrayList.prototype.add.call(this, i, coord);\n\t\t\t}\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet coord = arguments[0], allowRepeated = arguments[1], start = arguments[2], end = arguments[3];\n\t\t\tvar inc = 1;\n\t\t\tif (start > end) inc = -1;\n\t\t\tfor (var i = start; i !== end; i += inc) {\n\t\t\t\tthis.add(coord[i], allowRepeated);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\tcloseRing: function () {\n\t\tif (this.size() > 0) this.add(new Coordinate(this.get(0)), false);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateList;\n\t}\n});\nCoordinateList.coordArrayType = new Array(0).fill(null);\n","import Coordinate from './Coordinate';\nimport extend from '../../../../extend';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Serializable from '../../../../java/io/Serializable';\nexport default function Envelope() {\n\tthis._minx = null;\n\tthis._maxx = null;\n\tthis._miny = null;\n\tthis._maxy = null;\n\tif (arguments.length === 0) {\n\t\tthis.init();\n\t} else if (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\tlet p = arguments[0];\n\t\t\tthis.init(p.x, p.x, p.y, p.y);\n\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\tlet env = arguments[0];\n\t\t\tthis.init(env);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet p1 = arguments[0], p2 = arguments[1];\n\t\tthis.init(p1.x, p2.x, p1.y, p2.y);\n\t} else if (arguments.length === 4) {\n\t\tlet x1 = arguments[0], x2 = arguments[1], y1 = arguments[2], y2 = arguments[3];\n\t\tthis.init(x1, x2, y1, y2);\n\t}\n}\nextend(Envelope.prototype, {\n\tgetArea: function () {\n\t\treturn this.getWidth() * this.getHeight();\n\t},\n\tequals: function (other) {\n\t\tif (!(other instanceof Envelope)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar otherEnvelope = other;\n\t\tif (this.isNull()) {\n\t\t\treturn otherEnvelope.isNull();\n\t\t}\n\t\treturn this._maxx === otherEnvelope.getMaxX() && this._maxy === otherEnvelope.getMaxY() && this._minx === otherEnvelope.getMinX() && this._miny === otherEnvelope.getMinY();\n\t},\n\tintersection: function (env) {\n\t\tif (this.isNull() || env.isNull() || !this.intersects(env)) return new Envelope();\n\t\tvar intMinX = this._minx > env._minx ? this._minx : env._minx;\n\t\tvar intMinY = this._miny > env._miny ? this._miny : env._miny;\n\t\tvar intMaxX = this._maxx < env._maxx ? this._maxx : env._maxx;\n\t\tvar intMaxY = this._maxy < env._maxy ? this._maxy : env._maxy;\n\t\treturn new Envelope(intMinX, intMaxX, intMinY, intMaxY);\n\t},\n\tisNull: function () {\n\t\treturn this._maxx < this._minx;\n\t},\n\tgetMaxX: function () {\n\t\treturn this._maxx;\n\t},\n\tcovers: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\treturn this.covers(p.x, p.y);\n\t\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\t\tlet other = arguments[0];\n\t\t\t\tif (this.isNull() || other.isNull()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn other.getMinX() >= this._minx && other.getMaxX() <= this._maxx && other.getMinY() >= this._miny && other.getMaxY() <= this._maxy;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet x = arguments[0], y = arguments[1];\n\t\t\tif (this.isNull()) return false;\n\t\t\treturn x >= this._minx && x <= this._maxx && y >= this._miny && y <= this._maxy;\n\t\t}\n\t},\n\tintersects: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Envelope) {\n\t\t\t\tlet other = arguments[0];\n\t\t\t\tif (this.isNull() || other.isNull()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn !(other._minx > this._maxx || other._maxx < this._minx || other._miny > this._maxy || other._maxy < this._miny);\n\t\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\treturn this.intersects(p.x, p.y);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\t\t\tlet a = arguments[0], b = arguments[1];\n\t\t\t\tif (this.isNull()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar envminx = a.x < b.x ? a.x : b.x;\n\t\t\t\tif (envminx > this._maxx) return false;\n\t\t\t\tvar envmaxx = a.x > b.x ? a.x : b.x;\n\t\t\t\tif (envmaxx < this._minx) return false;\n\t\t\t\tvar envminy = a.y < b.y ? a.y : b.y;\n\t\t\t\tif (envminy > this._maxy) return false;\n\t\t\t\tvar envmaxy = a.y > b.y ? a.y : b.y;\n\t\t\t\tif (envmaxy < this._miny) return false;\n\t\t\t\treturn true;\n\t\t\t} else if (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\t\t\tlet x = arguments[0], y = arguments[1];\n\t\t\t\tif (this.isNull()) return false;\n\t\t\t\treturn !(x > this._maxx || x < this._minx || y > this._maxy || y < this._miny);\n\t\t\t}\n\t\t}\n\t},\n\tgetMinY: function () {\n\t\treturn this._miny;\n\t},\n\tgetMinX: function () {\n\t\treturn this._minx;\n\t},\n\texpandToInclude: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\tthis.expandToInclude(p.x, p.y);\n\t\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\t\tlet other = arguments[0];\n\t\t\t\tif (other.isNull()) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (this.isNull()) {\n\t\t\t\t\tthis._minx = other.getMinX();\n\t\t\t\t\tthis._maxx = other.getMaxX();\n\t\t\t\t\tthis._miny = other.getMinY();\n\t\t\t\t\tthis._maxy = other.getMaxY();\n\t\t\t\t} else {\n\t\t\t\t\tif (other._minx < this._minx) {\n\t\t\t\t\t\tthis._minx = other._minx;\n\t\t\t\t\t}\n\t\t\t\t\tif (other._maxx > this._maxx) {\n\t\t\t\t\t\tthis._maxx = other._maxx;\n\t\t\t\t\t}\n\t\t\t\t\tif (other._miny < this._miny) {\n\t\t\t\t\t\tthis._miny = other._miny;\n\t\t\t\t\t}\n\t\t\t\t\tif (other._maxy > this._maxy) {\n\t\t\t\t\t\tthis._maxy = other._maxy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet x = arguments[0], y = arguments[1];\n\t\t\tif (this.isNull()) {\n\t\t\t\tthis._minx = x;\n\t\t\t\tthis._maxx = x;\n\t\t\t\tthis._miny = y;\n\t\t\t\tthis._maxy = y;\n\t\t\t} else {\n\t\t\t\tif (x < this._minx) {\n\t\t\t\t\tthis._minx = x;\n\t\t\t\t}\n\t\t\t\tif (x > this._maxx) {\n\t\t\t\t\tthis._maxx = x;\n\t\t\t\t}\n\t\t\t\tif (y < this._miny) {\n\t\t\t\t\tthis._miny = y;\n\t\t\t\t}\n\t\t\t\tif (y > this._maxy) {\n\t\t\t\t\tthis._maxy = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tminExtent: function () {\n\t\tif (this.isNull()) return 0.0;\n\t\tvar w = this.getWidth();\n\t\tvar h = this.getHeight();\n\t\tif (w < h) return w;\n\t\treturn h;\n\t},\n\tgetWidth: function () {\n\t\tif (this.isNull()) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn this._maxx - this._minx;\n\t},\n\tcompareTo: function (o) {\n\t\tvar env = o;\n\t\tif (this.isNull()) {\n\t\t\tif (env.isNull()) return 0;\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif (env.isNull()) return 1;\n\t\t}\n\t\tif (this._minx < env._minx) return -1;\n\t\tif (this._minx > env._minx) return 1;\n\t\tif (this._miny < env._miny) return -1;\n\t\tif (this._miny > env._miny) return 1;\n\t\tif (this._maxx < env._maxx) return -1;\n\t\tif (this._maxx > env._maxx) return 1;\n\t\tif (this._maxy < env._maxy) return -1;\n\t\tif (this._maxy > env._maxy) return 1;\n\t\treturn 0;\n\t},\n\ttranslate: function (transX, transY) {\n\t\tif (this.isNull()) {\n\t\t\treturn null;\n\t\t}\n\t\tthis.init(this.getMinX() + transX, this.getMaxX() + transX, this.getMinY() + transY, this.getMaxY() + transY);\n\t},\n\ttoString: function () {\n\t\treturn \"Env[\" + this._minx + \" : \" + this._maxx + \", \" + this._miny + \" : \" + this._maxy + \"]\";\n\t},\n\tsetToNull: function () {\n\t\tthis._minx = 0;\n\t\tthis._maxx = -1;\n\t\tthis._miny = 0;\n\t\tthis._maxy = -1;\n\t},\n\tgetHeight: function () {\n\t\tif (this.isNull()) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn this._maxy - this._miny;\n\t},\n\tmaxExtent: function () {\n\t\tif (this.isNull()) return 0.0;\n\t\tvar w = this.getWidth();\n\t\tvar h = this.getHeight();\n\t\tif (w > h) return w;\n\t\treturn h;\n\t},\n\texpandBy: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet distance = arguments[0];\n\t\t\tthis.expandBy(distance, distance);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet deltaX = arguments[0], deltaY = arguments[1];\n\t\t\tif (this.isNull()) return null;\n\t\t\tthis._minx -= deltaX;\n\t\t\tthis._maxx += deltaX;\n\t\t\tthis._miny -= deltaY;\n\t\t\tthis._maxy += deltaY;\n\t\t\tif (this._minx > this._maxx || this._miny > this._maxy) this.setToNull();\n\t\t}\n\t},\n\tcontains: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Envelope) {\n\t\t\t\tlet other = arguments[0];\n\t\t\t\treturn this.covers(other);\n\t\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\treturn this.covers(p);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet x = arguments[0], y = arguments[1];\n\t\t\treturn this.covers(x, y);\n\t\t}\n\t},\n\tcentre: function () {\n\t\tif (this.isNull()) return null;\n\t\treturn new Coordinate((this.getMinX() + this.getMaxX()) / 2.0, (this.getMinY() + this.getMaxY()) / 2.0);\n\t},\n\tinit: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tthis.setToNull();\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\tthis.init(p.x, p.x, p.y, p.y);\n\t\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\t\tlet env = arguments[0];\n\t\t\t\tthis._minx = env._minx;\n\t\t\t\tthis._maxx = env._maxx;\n\t\t\t\tthis._miny = env._miny;\n\t\t\t\tthis._maxy = env._maxy;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p1 = arguments[0], p2 = arguments[1];\n\t\t\tthis.init(p1.x, p2.x, p1.y, p2.y);\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet x1 = arguments[0], x2 = arguments[1], y1 = arguments[2], y2 = arguments[3];\n\t\t\tif (x1 < x2) {\n\t\t\t\tthis._minx = x1;\n\t\t\t\tthis._maxx = x2;\n\t\t\t} else {\n\t\t\t\tthis._minx = x2;\n\t\t\t\tthis._maxx = x1;\n\t\t\t}\n\t\t\tif (y1 < y2) {\n\t\t\t\tthis._miny = y1;\n\t\t\t\tthis._maxy = y2;\n\t\t\t} else {\n\t\t\t\tthis._miny = y2;\n\t\t\t\tthis._maxy = y1;\n\t\t\t}\n\t\t}\n\t},\n\tgetMaxY: function () {\n\t\treturn this._maxy;\n\t},\n\tdistance: function (env) {\n\t\tif (this.intersects(env)) return 0;\n\t\tvar dx = 0.0;\n\t\tif (this._maxx < env._minx) dx = env._minx - this._maxx; else if (this._minx > env._maxx) dx = this._minx - env._maxx;\n\t\tvar dy = 0.0;\n\t\tif (this._maxy < env._miny) dy = env._miny - this._maxy; else if (this._miny > env._maxy) dy = this._miny - env._maxy;\n\t\tif (dx === 0.0) return dy;\n\t\tif (dy === 0.0) return dx;\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t},\n\thashCode: function () {\n\t\tvar result = 17;\n\t\tresult = 37 * result + Coordinate.hashCode(this._minx);\n\t\tresult = 37 * result + Coordinate.hashCode(this._maxx);\n\t\tresult = 37 * result + Coordinate.hashCode(this._miny);\n\t\tresult = 37 * result + Coordinate.hashCode(this._maxy);\n\t\treturn result;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable, Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn Envelope;\n\t}\n});\nEnvelope.intersects = function () {\n\tif (arguments.length === 3) {\n\t\tlet p1 = arguments[0], p2 = arguments[1], q = arguments[2];\n\t\tif (q.x >= (p1.x < p2.x ? p1.x : p2.x) && q.x <= (p1.x > p2.x ? p1.x : p2.x) && (q.y >= (p1.y < p2.y ? p1.y : p2.y) && q.y <= (p1.y > p2.y ? p1.y : p2.y))) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t} else if (arguments.length === 4) {\n\t\tlet p1 = arguments[0], p2 = arguments[1], q1 = arguments[2], q2 = arguments[3];\n\t\tvar minq = Math.min(q1.x, q2.x);\n\t\tvar maxq = Math.max(q1.x, q2.x);\n\t\tvar minp = Math.min(p1.x, p2.x);\n\t\tvar maxp = Math.max(p1.x, p2.x);\n\t\tif (minp > maxq) return false;\n\t\tif (maxp < minq) return false;\n\t\tminq = Math.min(q1.y, q2.y);\n\t\tmaxq = Math.max(q1.y, q2.y);\n\t\tminp = Math.min(p1.y, p2.y);\n\t\tmaxp = Math.max(p1.y, p2.y);\n\t\tif (minp > maxq) return false;\n\t\tif (maxp < minq) return false;\n\t\treturn true;\n\t}\n};\nEnvelope.serialVersionUID = 5873921885273102420;\n","export default function Exception () {}\n","import extend from '../../../../extend';\nimport Exception from '../../../../java/lang/Exception';\nimport inherits from '../../../../inherits';\nexport default function NotRepresentableException() {\n\tException.call(this, \"Projective point not representable on the Cartesian plane.\");\n}\ninherits(NotRepresentableException, Exception);\nextend(NotRepresentableException.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn NotRepresentableException;\n\t}\n});\n","export default function StringBuffer (str) {\n  this.str = str\n}\n\nStringBuffer.prototype.append = function (e) {\n  this.str += e\n}\n\nStringBuffer.prototype.setCharAt = function (i, c) {\n  this.str = this.str.substr(0, i) + c + this.str.substr(i + 1)\n}\n\nStringBuffer.prototype.toString = function (e) {\n  return this.str\n}\n","export default function Integer (value) {\n  this.value = value\n}\n\nInteger.prototype.intValue = function () {\n  return this.value\n}\nInteger.prototype.compareTo = function (o) {\n  if (this.value < o) return -1\n  if (this.value > o) return 1\n  return 0\n}\n\nInteger.isNaN = n => Number.isNaN(n)\n","export default function Character () {}\nCharacter.isWhitespace = c => ((c <= 32 && c >= 0) || c == 127)\nCharacter.toUpperCase = c => c.toUpperCase()\n","import StringBuffer from '../../../../java/lang/StringBuffer';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport Integer from '../../../../java/lang/Integer';\nimport Character from '../../../../java/lang/Character';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Cloneable from '../../../../java/lang/Cloneable';\nimport Serializable from '../../../../java/io/Serializable';\nexport default function DD() {\n\tthis._hi = 0.0;\n\tthis._lo = 0.0;\n\tif (arguments.length === 0) {\n\t\tthis.init(0.0);\n\t} else if (arguments.length === 1) {\n\t\tif (typeof arguments[0] === \"number\") {\n\t\t\tlet x = arguments[0];\n\t\t\tthis.init(x);\n\t\t} else if (arguments[0] instanceof DD) {\n\t\t\tlet dd = arguments[0];\n\t\t\tthis.init(dd);\n\t\t} else if (typeof arguments[0] === \"string\") {\n\t\t\tlet str = arguments[0];\n\t\t\tDD.call(this, DD.parse(str));\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet hi = arguments[0], lo = arguments[1];\n\t\tthis.init(hi, lo);\n\t}\n}\nextend(DD.prototype, {\n\tle: function (y) {\n\t\treturn this._hi < y._hi || this._hi === y._hi && this._lo <= y._lo;\n\t},\n\textractSignificantDigits: function (insertDecimalPoint, magnitude) {\n\t\tvar y = this.abs();\n\t\tvar mag = DD.magnitude(y._hi);\n\t\tvar scale = DD.TEN.pow(mag);\n\t\ty = y.divide(scale);\n\t\tif (y.gt(DD.TEN)) {\n\t\t\ty = y.divide(DD.TEN);\n\t\t\tmag += 1;\n\t\t} else if (y.lt(DD.ONE)) {\n\t\t\ty = y.multiply(DD.TEN);\n\t\t\tmag -= 1;\n\t\t}\n\t\tvar decimalPointPos = mag + 1;\n\t\tvar buf = new StringBuffer();\n\t\tvar numDigits = DD.MAX_PRINT_DIGITS - 1;\n\t\tfor (var i = 0; i <= numDigits; i++) {\n\t\t\tif (insertDecimalPoint && i === decimalPointPos) {\n\t\t\t\tbuf.append('.');\n\t\t\t}\n\t\t\tvar digit = Math.trunc(y._hi);\n\t\t\tif (digit < 0 || digit > 9) {}\n\t\t\tif (digit < 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar rebiasBy10 = false;\n\t\t\tvar digitChar = 0;\n\t\t\tif (digit > 9) {\n\t\t\t\trebiasBy10 = true;\n\t\t\t\tdigitChar = '9';\n\t\t\t} else {\n\t\t\t\tdigitChar = '0' + digit;\n\t\t\t}\n\t\t\tbuf.append(digitChar);\n\t\t\ty = y.subtract(DD.valueOf(digit)).multiply(DD.TEN);\n\t\t\tif (rebiasBy10) y.selfAdd(DD.TEN);\n\t\t\tvar continueExtractingDigits = true;\n\t\t\tvar remMag = DD.magnitude(y._hi);\n\t\t\tif (remMag < 0 && Math.abs(remMag) >= numDigits - i) continueExtractingDigits = false;\n\t\t\tif (!continueExtractingDigits) break;\n\t\t}\n\t\tmagnitude[0] = mag;\n\t\treturn buf.toString();\n\t},\n\tsqr: function () {\n\t\treturn this.multiply(this);\n\t},\n\tdoubleValue: function () {\n\t\treturn this._hi + this._lo;\n\t},\n\tsubtract: function () {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\treturn this.add(y.negate());\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet y = arguments[0];\n\t\t\treturn this.add(-y);\n\t\t}\n\t},\n\tequals: function () {\n\t\tif (arguments.length === 1 && arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\treturn this._hi === y._hi && this._lo === y._lo;\n\t\t}\n\t},\n\tisZero: function () {\n\t\treturn this._hi === 0.0 && this._lo === 0.0;\n\t},\n\tselfSubtract: function () {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\tif (this.isNaN()) return this;\n\t\t\treturn this.selfAdd(-y._hi, -y._lo);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet y = arguments[0];\n\t\t\tif (this.isNaN()) return this;\n\t\t\treturn this.selfAdd(-y, 0.0);\n\t\t}\n\t},\n\tgetSpecialNumberString: function () {\n\t\tif (this.isZero()) return \"0.0\";\n\t\tif (this.isNaN()) return \"NaN \";\n\t\treturn null;\n\t},\n\tmin: function (x) {\n\t\tif (this.le(x)) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn x;\n\t\t}\n\t},\n\tselfDivide: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof DD) {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\treturn this.selfDivide(y._hi, y._lo);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\treturn this.selfDivide(y, 0.0);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet yhi = arguments[0], ylo = arguments[1];\n\t\t\tvar hc = null, tc = null, hy = null, ty = null, C = null, c = null, U = null, u = null;\n\t\t\tC = this._hi / yhi;\n\t\t\tc = DD.SPLIT * C;\n\t\t\thc = c - C;\n\t\t\tu = DD.SPLIT * yhi;\n\t\t\thc = c - hc;\n\t\t\ttc = C - hc;\n\t\t\thy = u - yhi;\n\t\t\tU = C * yhi;\n\t\t\thy = u - hy;\n\t\t\tty = yhi - hy;\n\t\t\tu = hc * hy - U + hc * ty + tc * hy + tc * ty;\n\t\t\tc = (this._hi - U - u + this._lo - C * ylo) / yhi;\n\t\t\tu = C + c;\n\t\t\tthis._hi = u;\n\t\t\tthis._lo = C - u + c;\n\t\t\treturn this;\n\t\t}\n\t},\n\tdump: function () {\n\t\treturn \"DD<\" + this._hi + \", \" + this._lo + \">\";\n\t},\n\tdivide: function () {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\tvar hc = null, tc = null, hy = null, ty = null, C = null, c = null, U = null, u = null;\n\t\t\tC = this._hi / y._hi;\n\t\t\tc = DD.SPLIT * C;\n\t\t\thc = c - C;\n\t\t\tu = DD.SPLIT * y._hi;\n\t\t\thc = c - hc;\n\t\t\ttc = C - hc;\n\t\t\thy = u - y._hi;\n\t\t\tU = C * y._hi;\n\t\t\thy = u - hy;\n\t\t\tty = y._hi - hy;\n\t\t\tu = hc * hy - U + hc * ty + tc * hy + tc * ty;\n\t\t\tc = (this._hi - U - u + this._lo - C * y._lo) / y._hi;\n\t\t\tu = C + c;\n\t\t\tvar zhi = u;\n\t\t\tvar zlo = C - u + c;\n\t\t\treturn new DD(zhi, zlo);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet y = arguments[0];\n\t\t\tif (Double.isNaN(y)) return DD.createNaN();\n\t\t\treturn DD.copy(this).selfDivide(y, 0.0);\n\t\t}\n\t},\n\tge: function (y) {\n\t\treturn this._hi > y._hi || this._hi === y._hi && this._lo >= y._lo;\n\t},\n\tpow: function (exp) {\n\t\tif (exp === 0.0) return DD.valueOf(1.0);\n\t\tvar r = new DD(this);\n\t\tvar s = DD.valueOf(1.0);\n\t\tvar n = Math.abs(exp);\n\t\tif (n > 1) {\n\t\t\twhile (n > 0) {\n\t\t\t\tif (n % 2 === 1) {\n\t\t\t\t\ts.selfMultiply(r);\n\t\t\t\t}\n\t\t\t\tn /= 2;\n\t\t\t\tif (n > 0) r = r.sqr();\n\t\t\t}\n\t\t} else {\n\t\t\ts = r;\n\t\t}\n\t\tif (exp < 0) return s.reciprocal();\n\t\treturn s;\n\t},\n\tceil: function () {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tvar fhi = Math.ceil(this._hi);\n\t\tvar flo = 0.0;\n\t\tif (fhi === this._hi) {\n\t\t\tflo = Math.ceil(this._lo);\n\t\t}\n\t\treturn new DD(fhi, flo);\n\t},\n\tcompareTo: function (o) {\n\t\tvar other = o;\n\t\tif (this._hi < other._hi) return -1;\n\t\tif (this._hi > other._hi) return 1;\n\t\tif (this._lo < other._lo) return -1;\n\t\tif (this._lo > other._lo) return 1;\n\t\treturn 0;\n\t},\n\trint: function () {\n\t\tif (this.isNaN()) return this;\n\t\tvar plus5 = this.add(0.5);\n\t\treturn plus5.floor();\n\t},\n\tsetValue: function () {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet value = arguments[0];\n\t\t\tthis.init(value);\n\t\t\treturn this;\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet value = arguments[0];\n\t\t\tthis.init(value);\n\t\t\treturn this;\n\t\t}\n\t},\n\tmax: function (x) {\n\t\tif (this.ge(x)) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn x;\n\t\t}\n\t},\n\tsqrt: function () {\n\t\tif (this.isZero()) return DD.valueOf(0.0);\n\t\tif (this.isNegative()) {\n\t\t\treturn DD.NaN;\n\t\t}\n\t\tvar x = 1.0 / Math.sqrt(this._hi);\n\t\tvar ax = this._hi * x;\n\t\tvar axdd = DD.valueOf(ax);\n\t\tvar diffSq = this.subtract(axdd.sqr());\n\t\tvar d2 = diffSq._hi * (x * 0.5);\n\t\treturn axdd.add(d2);\n\t},\n\tselfAdd: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof DD) {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\treturn this.selfAdd(y._hi, y._lo);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\tvar H = null, h = null, S = null, s = null, e = null, f = null;\n\t\t\t\tS = this._hi + y;\n\t\t\t\te = S - this._hi;\n\t\t\t\ts = S - e;\n\t\t\t\ts = y - e + (this._hi - s);\n\t\t\t\tf = s + this._lo;\n\t\t\t\tH = S + f;\n\t\t\t\th = f + (S - H);\n\t\t\t\tthis._hi = H + h;\n\t\t\t\tthis._lo = h + (H - this._hi);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet yhi = arguments[0], ylo = arguments[1];\n\t\t\tvar H = null, h = null, T = null, t = null, S = null, s = null, e = null, f = null;\n\t\t\tS = this._hi + yhi;\n\t\t\tT = this._lo + ylo;\n\t\t\te = S - this._hi;\n\t\t\tf = T - this._lo;\n\t\t\ts = S - e;\n\t\t\tt = T - f;\n\t\t\ts = yhi - e + (this._hi - s);\n\t\t\tt = ylo - f + (this._lo - t);\n\t\t\te = s + T;\n\t\t\tH = S + e;\n\t\t\th = e + (S - H);\n\t\t\te = t + h;\n\t\t\tvar zhi = H + e;\n\t\t\tvar zlo = e + (H - zhi);\n\t\t\tthis._hi = zhi;\n\t\t\tthis._lo = zlo;\n\t\t\treturn this;\n\t\t}\n\t},\n\tselfMultiply: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof DD) {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\treturn this.selfMultiply(y._hi, y._lo);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\treturn this.selfMultiply(y, 0.0);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet yhi = arguments[0], ylo = arguments[1];\n\t\t\tvar hx = null, tx = null, hy = null, ty = null, C = null, c = null;\n\t\t\tC = DD.SPLIT * this._hi;\n\t\t\thx = C - this._hi;\n\t\t\tc = DD.SPLIT * yhi;\n\t\t\thx = C - hx;\n\t\t\ttx = this._hi - hx;\n\t\t\thy = c - yhi;\n\t\t\tC = this._hi * yhi;\n\t\t\thy = c - hy;\n\t\t\tty = yhi - hy;\n\t\t\tc = hx * hy - C + hx * ty + tx * hy + tx * ty + (this._hi * ylo + this._lo * yhi);\n\t\t\tvar zhi = C + c;\n\t\t\thx = C - zhi;\n\t\t\tvar zlo = c + hx;\n\t\t\tthis._hi = zhi;\n\t\t\tthis._lo = zlo;\n\t\t\treturn this;\n\t\t}\n\t},\n\tselfSqr: function () {\n\t\treturn this.selfMultiply(this);\n\t},\n\tfloor: function () {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tvar fhi = Math.floor(this._hi);\n\t\tvar flo = 0.0;\n\t\tif (fhi === this._hi) {\n\t\t\tflo = Math.floor(this._lo);\n\t\t}\n\t\treturn new DD(fhi, flo);\n\t},\n\tnegate: function () {\n\t\tif (this.isNaN()) return this;\n\t\treturn new DD(-this._hi, -this._lo);\n\t},\n\tclone: function () {\n\t\ttry {\n\t\t\treturn null;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof CloneNotSupportedException) {\n\t\t\t\treturn null;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t},\n\tmultiply: function () {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\tif (y.isNaN()) return DD.createNaN();\n\t\t\treturn DD.copy(this).selfMultiply(y);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet y = arguments[0];\n\t\t\tif (Double.isNaN(y)) return DD.createNaN();\n\t\t\treturn DD.copy(this).selfMultiply(y, 0.0);\n\t\t}\n\t},\n\tisNaN: function () {\n\t\treturn Double.isNaN(this._hi);\n\t},\n\tintValue: function () {\n\t\treturn Math.trunc(this._hi);\n\t},\n\ttoString: function () {\n\t\tvar mag = DD.magnitude(this._hi);\n\t\tif (mag >= -3 && mag <= 20) return this.toStandardNotation();\n\t\treturn this.toSciNotation();\n\t},\n\ttoStandardNotation: function () {\n\t\tvar specialStr = this.getSpecialNumberString();\n\t\tif (specialStr !== null) return specialStr;\n\t\tvar magnitude = new Array(1).fill(null);\n\t\tvar sigDigits = this.extractSignificantDigits(true, magnitude);\n\t\tvar decimalPointPos = magnitude[0] + 1;\n\t\tvar num = sigDigits;\n\t\tif (sigDigits.charAt(0) === '.') {\n\t\t\tnum = \"0\" + sigDigits;\n\t\t} else if (decimalPointPos < 0) {\n\t\t\tnum = \"0.\" + DD.stringOfChar('0', -decimalPointPos) + sigDigits;\n\t\t} else if (sigDigits.indexOf('.') === -1) {\n\t\t\tvar numZeroes = decimalPointPos - sigDigits.length;\n\t\t\tvar zeroes = DD.stringOfChar('0', numZeroes);\n\t\t\tnum = sigDigits + zeroes + \".0\";\n\t\t}\n\t\tif (this.isNegative()) return \"-\" + num;\n\t\treturn num;\n\t},\n\treciprocal: function () {\n\t\tvar hc = null, tc = null, hy = null, ty = null, C = null, c = null, U = null, u = null;\n\t\tC = 1.0 / this._hi;\n\t\tc = DD.SPLIT * C;\n\t\thc = c - C;\n\t\tu = DD.SPLIT * this._hi;\n\t\thc = c - hc;\n\t\ttc = C - hc;\n\t\thy = u - this._hi;\n\t\tU = C * this._hi;\n\t\thy = u - hy;\n\t\tty = this._hi - hy;\n\t\tu = hc * hy - U + hc * ty + tc * hy + tc * ty;\n\t\tc = (1.0 - U - u - C * this._lo) / this._hi;\n\t\tvar zhi = C + c;\n\t\tvar zlo = C - zhi + c;\n\t\treturn new DD(zhi, zlo);\n\t},\n\ttoSciNotation: function () {\n\t\tif (this.isZero()) return DD.SCI_NOT_ZERO;\n\t\tvar specialStr = this.getSpecialNumberString();\n\t\tif (specialStr !== null) return specialStr;\n\t\tvar magnitude = new Array(1).fill(null);\n\t\tvar digits = this.extractSignificantDigits(false, magnitude);\n\t\tvar expStr = DD.SCI_NOT_EXPONENT_CHAR + magnitude[0];\n\t\tif (digits.charAt(0) === '0') {\n\t\t\tthrow new IllegalStateException(\"Found leading zero: \" + digits);\n\t\t}\n\t\tvar trailingDigits = \"\";\n\t\tif (digits.length > 1) trailingDigits = digits.substring(1);\n\t\tvar digitsWithDecimal = digits.charAt(0) + \".\" + trailingDigits;\n\t\tif (this.isNegative()) return \"-\" + digitsWithDecimal + expStr;\n\t\treturn digitsWithDecimal + expStr;\n\t},\n\tabs: function () {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tif (this.isNegative()) return this.negate();\n\t\treturn new DD(this);\n\t},\n\tisPositive: function () {\n\t\treturn this._hi > 0.0 || this._hi === 0.0 && this._lo > 0.0;\n\t},\n\tlt: function (y) {\n\t\treturn this._hi < y._hi || this._hi === y._hi && this._lo < y._lo;\n\t},\n\tadd: function () {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\treturn DD.copy(this).selfAdd(y);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet y = arguments[0];\n\t\t\treturn DD.copy(this).selfAdd(y);\n\t\t}\n\t},\n\tinit: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (typeof arguments[0] === \"number\") {\n\t\t\t\tlet x = arguments[0];\n\t\t\t\tthis._hi = x;\n\t\t\t\tthis._lo = 0.0;\n\t\t\t} else if (arguments[0] instanceof DD) {\n\t\t\t\tlet dd = arguments[0];\n\t\t\t\tthis._hi = dd._hi;\n\t\t\t\tthis._lo = dd._lo;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet hi = arguments[0], lo = arguments[1];\n\t\t\tthis._hi = hi;\n\t\t\tthis._lo = lo;\n\t\t}\n\t},\n\tgt: function (y) {\n\t\treturn this._hi > y._hi || this._hi === y._hi && this._lo > y._lo;\n\t},\n\tisNegative: function () {\n\t\treturn this._hi < 0.0 || this._hi === 0.0 && this._lo < 0.0;\n\t},\n\ttrunc: function () {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tif (this.isPositive()) return this.floor(); else return this.ceil();\n\t},\n\tsignum: function () {\n\t\tif (this._hi > 0) return 1;\n\t\tif (this._hi < 0) return -1;\n\t\tif (this._lo > 0) return 1;\n\t\tif (this._lo < 0) return -1;\n\t\treturn 0;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Serializable, Comparable, Cloneable];\n\t},\n\tgetClass: function () {\n\t\treturn DD;\n\t}\n});\nDD.sqr = function (x) {\n\treturn DD.valueOf(x).selfMultiply(x);\n};\nDD.valueOf = function () {\n\tif (typeof arguments[0] === \"string\") {\n\t\tlet str = arguments[0];\n\t\treturn DD.parse(str);\n\t} else if (typeof arguments[0] === \"number\") {\n\t\tlet x = arguments[0];\n\t\treturn new DD(x);\n\t}\n};\nDD.sqrt = function (x) {\n\treturn DD.valueOf(x).sqrt();\n};\nDD.parse = function (str) {\n\tvar i = 0;\n\tvar strlen = str.length;\n\twhile (Character.isWhitespace(str.charAt(i))) i++;\n\tvar isNegative = false;\n\tif (i < strlen) {\n\t\tvar signCh = str.charAt(i);\n\t\tif (signCh === '-' || signCh === '+') {\n\t\t\ti++;\n\t\t\tif (signCh === '-') isNegative = true;\n\t\t}\n\t}\n\tvar val = new DD();\n\tvar numDigits = 0;\n\tvar numBeforeDec = 0;\n\tvar exp = 0;\n\twhile (true) {\n\t\tif (i >= strlen) break;\n\t\tvar ch = str.charAt(i);\n\t\ti++;\n\t\tif (Character.isDigit(ch)) {\n\t\t\tvar d = ch - '0';\n\t\t\tval.selfMultiply(DD.TEN);\n\t\t\tval.selfAdd(d);\n\t\t\tnumDigits++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (ch === '.') {\n\t\t\tnumBeforeDec = numDigits;\n\t\t\tcontinue;\n\t\t}\n\t\tif (ch === 'e' || ch === 'E') {\n\t\t\tvar expStr = str.substring(i);\n\t\t\ttry {\n\t\t\t\texp = Integer.parseInt(expStr);\n\t\t\t} catch (ex) {\n\t\t\t\tif (ex instanceof NumberFormatException) {\n\t\t\t\t\tthrow new NumberFormatException(\"Invalid exponent \" + expStr + \" in string \" + str);\n\t\t\t\t} else throw ex;\n\t\t\t} finally {}\n\t\t\tbreak;\n\t\t}\n\t\tthrow new NumberFormatException(\"Unexpected character '\" + ch + \"' at position \" + i + \" in string \" + str);\n\t}\n\tvar val2 = val;\n\tvar numDecPlaces = numDigits - numBeforeDec - exp;\n\tif (numDecPlaces === 0) {\n\t\tval2 = val;\n\t} else if (numDecPlaces > 0) {\n\t\tvar scale = DD.TEN.pow(numDecPlaces);\n\t\tval2 = val.divide(scale);\n\t} else if (numDecPlaces < 0) {\n\t\tvar scale = DD.TEN.pow(-numDecPlaces);\n\t\tval2 = val.multiply(scale);\n\t}\n\tif (isNegative) {\n\t\treturn val2.negate();\n\t}\n\treturn val2;\n};\nDD.createNaN = function () {\n\treturn new DD(Double.NaN, Double.NaN);\n};\nDD.copy = function (dd) {\n\treturn new DD(dd);\n};\nDD.magnitude = function (x) {\n\tvar xAbs = Math.abs(x);\n\tvar xLog10 = Math.log(xAbs) / Math.log(10);\n\tvar xMag = Math.trunc(Math.floor(xLog10));\n\tvar xApprox = Math.pow(10, xMag);\n\tif (xApprox * 10 <= xAbs) xMag += 1;\n\treturn xMag;\n};\nDD.stringOfChar = function (ch, len) {\n\tvar buf = new StringBuffer();\n\tfor (var i = 0; i < len; i++) {\n\t\tbuf.append(ch);\n\t}\n\treturn buf.toString();\n};\nDD.PI = new DD(3.141592653589793116e+00, 1.224646799147353207e-16);\nDD.TWO_PI = new DD(6.283185307179586232e+00, 2.449293598294706414e-16);\nDD.PI_2 = new DD(1.570796326794896558e+00, 6.123233995736766036e-17);\nDD.E = new DD(2.718281828459045091e+00, 1.445646891729250158e-16);\nDD.NaN = new DD(Double.NaN, Double.NaN);\nDD.EPS = 1.23259516440783e-32;\nDD.SPLIT = 134217729.0;\nDD.MAX_PRINT_DIGITS = 32;\nDD.TEN = DD.valueOf(10.0);\nDD.ONE = DD.valueOf(1.0);\nDD.SCI_NOT_EXPONENT_CHAR = \"E\";\nDD.SCI_NOT_ZERO = \"0.0E0\";\n","import Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport DD from '../math/DD';\nexport default function CGAlgorithmsDD() {}\nextend(CGAlgorithmsDD.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CGAlgorithmsDD;\n\t}\n});\nCGAlgorithmsDD.orientationIndex = function (p1, p2, q) {\n\tvar index = CGAlgorithmsDD.orientationIndexFilter(p1, p2, q);\n\tif (index <= 1) return index;\n\tvar dx1 = DD.valueOf(p2.x).selfAdd(-p1.x);\n\tvar dy1 = DD.valueOf(p2.y).selfAdd(-p1.y);\n\tvar dx2 = DD.valueOf(q.x).selfAdd(-p2.x);\n\tvar dy2 = DD.valueOf(q.y).selfAdd(-p2.y);\n\treturn dx1.selfMultiply(dy2).selfSubtract(dy1.selfMultiply(dx2)).signum();\n};\nCGAlgorithmsDD.signOfDet2x2 = function () {\n\tif (arguments[0] instanceof DD) {\n\t\tlet x1 = arguments[0], y1 = arguments[1], x2 = arguments[2], y2 = arguments[3];\n\t\tvar det = x1.multiply(y2).selfSubtract(y1.multiply(x2));\n\t\treturn det.signum();\n\t} else if (typeof arguments[0] === \"number\") {\n\t\tlet dx1 = arguments[0], dy1 = arguments[1], dx2 = arguments[2], dy2 = arguments[3];\n\t\tvar x1 = DD.valueOf(dx1);\n\t\tvar y1 = DD.valueOf(dy1);\n\t\tvar x2 = DD.valueOf(dx2);\n\t\tvar y2 = DD.valueOf(dy2);\n\t\tvar det = x1.multiply(y2).selfSubtract(y1.multiply(x2));\n\t\treturn det.signum();\n\t}\n};\nCGAlgorithmsDD.intersection = function (p1, p2, q1, q2) {\n\tvar denom1 = DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(DD.valueOf(p2.x).selfSubtract(p1.x));\n\tvar denom2 = DD.valueOf(q2.x).selfSubtract(q1.x).selfMultiply(DD.valueOf(p2.y).selfSubtract(p1.y));\n\tvar denom = denom1.subtract(denom2);\n\tvar numx1 = DD.valueOf(q2.x).selfSubtract(q1.x).selfMultiply(DD.valueOf(p1.y).selfSubtract(q1.y));\n\tvar numx2 = DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(DD.valueOf(p1.x).selfSubtract(q1.x));\n\tvar numx = numx1.subtract(numx2);\n\tvar fracP = numx.selfDivide(denom).doubleValue();\n\tvar x = DD.valueOf(p1.x).selfAdd(DD.valueOf(p2.x).selfSubtract(p1.x).selfMultiply(fracP)).doubleValue();\n\tvar numy1 = DD.valueOf(p2.x).selfSubtract(p1.x).selfMultiply(DD.valueOf(p1.y).selfSubtract(q1.y));\n\tvar numy2 = DD.valueOf(p2.y).selfSubtract(p1.y).selfMultiply(DD.valueOf(p1.x).selfSubtract(q1.x));\n\tvar numy = numy1.subtract(numy2);\n\tvar fracQ = numy.selfDivide(denom).doubleValue();\n\tvar y = DD.valueOf(q1.y).selfAdd(DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(fracQ)).doubleValue();\n\treturn new Coordinate(x, y);\n};\nCGAlgorithmsDD.orientationIndexFilter = function (pa, pb, pc) {\n\tvar detsum = null;\n\tvar detleft = (pa.x - pc.x) * (pb.y - pc.y);\n\tvar detright = (pa.y - pc.y) * (pb.x - pc.x);\n\tvar det = detleft - detright;\n\tif (detleft > 0.0) {\n\t\tif (detright <= 0.0) {\n\t\t\treturn CGAlgorithmsDD.signum(det);\n\t\t} else {\n\t\t\tdetsum = detleft + detright;\n\t\t}\n\t} else if (detleft < 0.0) {\n\t\tif (detright >= 0.0) {\n\t\t\treturn CGAlgorithmsDD.signum(det);\n\t\t} else {\n\t\t\tdetsum = -detleft - detright;\n\t\t}\n\t} else {\n\t\treturn CGAlgorithmsDD.signum(det);\n\t}\n\tvar errbound = CGAlgorithmsDD.DP_SAFE_EPSILON * detsum;\n\tif (det >= errbound || -det >= errbound) {\n\t\treturn CGAlgorithmsDD.signum(det);\n\t}\n\treturn 2;\n};\nCGAlgorithmsDD.signum = function (x) {\n\tif (x > 0) return 1;\n\tif (x < 0) return -1;\n\treturn 0;\n};\nCGAlgorithmsDD.DP_SAFE_EPSILON = 1e-15;\n","import IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport CGAlgorithmsDD from './CGAlgorithmsDD';\nexport default function Orientation() {}\nextend(Orientation.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Orientation;\n\t}\n});\nOrientation.index = function (p1, p2, q) {\n\treturn CGAlgorithmsDD.orientationIndex(p1, p2, q);\n};\nOrientation.isCCW = function (ring) {\n\tvar nPts = ring.length - 1;\n\tif (nPts < 3) throw new IllegalArgumentException(\"Ring has fewer than 4 points, so orientation cannot be determined\");\n\tvar hiPt = ring[0];\n\tvar hiIndex = 0;\n\tfor (var i = 1; i <= nPts; i++) {\n\t\tvar p = ring[i];\n\t\tif (p.y > hiPt.y) {\n\t\t\thiPt = p;\n\t\t\thiIndex = i;\n\t\t}\n\t}\n\tvar iPrev = hiIndex;\n\tdo {\n\t\tiPrev = iPrev - 1;\n\t\tif (iPrev < 0) iPrev = nPts;\n\t} while (ring[iPrev].equals2D(hiPt) && iPrev !== hiIndex);\n\tvar iNext = hiIndex;\n\tdo {\n\t\tiNext = (iNext + 1) % nPts;\n\t} while (ring[iNext].equals2D(hiPt) && iNext !== hiIndex);\n\tvar prev = ring[iPrev];\n\tvar next = ring[iNext];\n\tif (prev.equals2D(hiPt) || next.equals2D(hiPt) || prev.equals2D(next)) return false;\n\tvar disc = Orientation.index(prev, hiPt, next);\n\tvar isCCW = null;\n\tif (disc === 0) {\n\t\tisCCW = prev.x > next.x;\n\t} else {\n\t\tisCCW = disc > 0;\n\t}\n\treturn isCCW;\n};\nOrientation.CLOCKWISE = -1;\nOrientation.RIGHT = Orientation.CLOCKWISE;\nOrientation.COUNTERCLOCKWISE = 1;\nOrientation.LEFT = Orientation.COUNTERCLOCKWISE;\nOrientation.COLLINEAR = 0;\nOrientation.STRAIGHT = Orientation.COLLINEAR;\n","export default function System () { }\n\nSystem.arraycopy = (src, srcPos, dest, destPos, len) => {\n  let c = 0\n  for (let i = srcPos; i < srcPos + len; i++) {\n    dest[destPos + c] = src[i]\n    c++\n  }\n}\n\nSystem.getProperty = (name) => {\n  return {\n    'line.separator': '\\n'\n  }[name]\n}\n","import NotRepresentableException from './NotRepresentableException';\nimport Coordinate from '../geom/Coordinate';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nexport default function HCoordinate() {\n\tthis.x = null;\n\tthis.y = null;\n\tthis.w = null;\n\tif (arguments.length === 0) {\n\t\tthis.x = 0.0;\n\t\tthis.y = 0.0;\n\t\tthis.w = 1.0;\n\t} else if (arguments.length === 1) {\n\t\tlet p = arguments[0];\n\t\tthis.x = p.x;\n\t\tthis.y = p.y;\n\t\tthis.w = 1.0;\n\t} else if (arguments.length === 2) {\n\t\tif (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\t\tlet _x = arguments[0], _y = arguments[1];\n\t\t\tthis.x = _x;\n\t\t\tthis.y = _y;\n\t\t\tthis.w = 1.0;\n\t\t} else if (arguments[0] instanceof HCoordinate && arguments[1] instanceof HCoordinate) {\n\t\t\tlet p1 = arguments[0], p2 = arguments[1];\n\t\t\tthis.x = p1.y * p2.w - p2.y * p1.w;\n\t\t\tthis.y = p2.x * p1.w - p1.x * p2.w;\n\t\t\tthis.w = p1.x * p2.y - p2.x * p1.y;\n\t\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\t\tlet p1 = arguments[0], p2 = arguments[1];\n\t\t\tthis.x = p1.y - p2.y;\n\t\t\tthis.y = p2.x - p1.x;\n\t\t\tthis.w = p1.x * p2.y - p2.x * p1.y;\n\t\t}\n\t} else if (arguments.length === 3) {\n\t\tlet _x = arguments[0], _y = arguments[1], _w = arguments[2];\n\t\tthis.x = _x;\n\t\tthis.y = _y;\n\t\tthis.w = _w;\n\t} else if (arguments.length === 4) {\n\t\tlet p1 = arguments[0], p2 = arguments[1], q1 = arguments[2], q2 = arguments[3];\n\t\tvar px = p1.y - p2.y;\n\t\tvar py = p2.x - p1.x;\n\t\tvar pw = p1.x * p2.y - p2.x * p1.y;\n\t\tvar qx = q1.y - q2.y;\n\t\tvar qy = q2.x - q1.x;\n\t\tvar qw = q1.x * q2.y - q2.x * q1.y;\n\t\tthis.x = py * qw - qy * pw;\n\t\tthis.y = qx * pw - px * qw;\n\t\tthis.w = px * qy - qx * py;\n\t}\n}\nextend(HCoordinate.prototype, {\n\tgetY: function () {\n\t\tvar a = this.y / this.w;\n\t\tif (Double.isNaN(a) || Double.isInfinite(a)) {\n\t\t\tthrow new NotRepresentableException();\n\t\t}\n\t\treturn a;\n\t},\n\tgetX: function () {\n\t\tvar a = this.x / this.w;\n\t\tif (Double.isNaN(a) || Double.isInfinite(a)) {\n\t\t\tthrow new NotRepresentableException();\n\t\t}\n\t\treturn a;\n\t},\n\tgetCoordinate: function () {\n\t\tvar p = new Coordinate();\n\t\tp.x = this.getX();\n\t\tp.y = this.getY();\n\t\treturn p;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn HCoordinate;\n\t}\n});\nHCoordinate.intersection = function (p1, p2, q1, q2) {\n\tvar px = p1.y - p2.y;\n\tvar py = p2.x - p1.x;\n\tvar pw = p1.x * p2.y - p2.x * p1.y;\n\tvar qx = q1.y - q2.y;\n\tvar qy = q2.x - q1.x;\n\tvar qw = q1.x * q2.y - q2.x * q1.y;\n\tvar x = py * qw - qy * pw;\n\tvar y = qx * pw - px * qw;\n\tvar w = px * qy - qx * py;\n\tvar xInt = x / w;\n\tvar yInt = y / w;\n\tif (Double.isNaN(xInt) || (Double.isInfinite(xInt) || Double.isNaN(yInt)) || Double.isInfinite(yInt)) {\n\t\tthrow new NotRepresentableException();\n\t}\n\treturn new Coordinate(xInt, yInt);\n};\n","import Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nexport default function MathUtil() {}\nextend(MathUtil.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MathUtil;\n\t}\n});\nMathUtil.log10 = function (x) {\n\tvar ln = Math.log(x);\n\tif (Double.isInfinite(ln)) return ln;\n\tif (Double.isNaN(ln)) return ln;\n\treturn ln / MathUtil.LOG_10;\n};\nMathUtil.min = function (v1, v2, v3, v4) {\n\tvar min = v1;\n\tif (v2 < min) min = v2;\n\tif (v3 < min) min = v3;\n\tif (v4 < min) min = v4;\n\treturn min;\n};\nMathUtil.clamp = function () {\n\tif (typeof arguments[2] === \"number\" && (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\")) {\n\t\tlet x = arguments[0], min = arguments[1], max = arguments[2];\n\t\tif (x < min) return min;\n\t\tif (x > max) return max;\n\t\treturn x;\n\t} else if (Number.isInteger(arguments[2]) && (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1]))) {\n\t\tlet x = arguments[0], min = arguments[1], max = arguments[2];\n\t\tif (x < min) return min;\n\t\tif (x > max) return max;\n\t\treturn x;\n\t}\n};\nMathUtil.wrap = function (index, max) {\n\tif (index < 0) {\n\t\treturn max - -index % max;\n\t}\n\treturn index % max;\n};\nMathUtil.max = function () {\n\tif (arguments.length === 3) {\n\t\tlet v1 = arguments[0], v2 = arguments[1], v3 = arguments[2];\n\t\tvar max = v1;\n\t\tif (v2 > max) max = v2;\n\t\tif (v3 > max) max = v3;\n\t\treturn max;\n\t} else if (arguments.length === 4) {\n\t\tlet v1 = arguments[0], v2 = arguments[1], v3 = arguments[2], v4 = arguments[3];\n\t\tvar max = v1;\n\t\tif (v2 > max) max = v2;\n\t\tif (v3 > max) max = v3;\n\t\tif (v4 > max) max = v4;\n\t\treturn max;\n\t}\n};\nMathUtil.average = function (x1, x2) {\n\treturn (x1 + x2) / 2.0;\n};\nMathUtil.LOG_10 = Math.log(10);\n","import IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport MathUtil from '../math/MathUtil';\nimport Envelope from '../geom/Envelope';\nexport default function Distance() {}\nextend(Distance.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Distance;\n\t}\n});\nDistance.segmentToSegment = function (A, B, C, D) {\n\tif (A.equals(B)) return Distance.pointToSegment(A, C, D);\n\tif (C.equals(D)) return Distance.pointToSegment(D, A, B);\n\tvar noIntersection = false;\n\tif (!Envelope.intersects(A, B, C, D)) {\n\t\tnoIntersection = true;\n\t} else {\n\t\tvar denom = (B.x - A.x) * (D.y - C.y) - (B.y - A.y) * (D.x - C.x);\n\t\tif (denom === 0) {\n\t\t\tnoIntersection = true;\n\t\t} else {\n\t\t\tvar r_num = (A.y - C.y) * (D.x - C.x) - (A.x - C.x) * (D.y - C.y);\n\t\t\tvar s_num = (A.y - C.y) * (B.x - A.x) - (A.x - C.x) * (B.y - A.y);\n\t\t\tvar s = s_num / denom;\n\t\t\tvar r = r_num / denom;\n\t\t\tif (r < 0 || r > 1 || s < 0 || s > 1) {\n\t\t\t\tnoIntersection = true;\n\t\t\t}\n\t\t}\n\t}\n\tif (noIntersection) {\n\t\treturn MathUtil.min(Distance.pointToSegment(A, C, D), Distance.pointToSegment(B, C, D), Distance.pointToSegment(C, A, B), Distance.pointToSegment(D, A, B));\n\t}\n\treturn 0.0;\n};\nDistance.pointToSegment = function (p, A, B) {\n\tif (A.x === B.x && A.y === B.y) return p.distance(A);\n\tvar len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n\tvar r = ((p.x - A.x) * (B.x - A.x) + (p.y - A.y) * (B.y - A.y)) / len2;\n\tif (r <= 0.0) return p.distance(A);\n\tif (r >= 1.0) return p.distance(B);\n\tvar s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n\treturn Math.abs(s) * Math.sqrt(len2);\n};\nDistance.pointToLinePerpendicular = function (p, A, B) {\n\tvar len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n\tvar s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n\treturn Math.abs(s) * Math.sqrt(len2);\n};\nDistance.pointToSegmentString = function (p, line) {\n\tif (line.length === 0) throw new IllegalArgumentException(\"Line array must contain at least one vertex\");\n\tvar minDistance = p.distance(line[0]);\n\tfor (var i = 0; i < line.length - 1; i++) {\n\t\tvar dist = Distance.pointToSegment(p, line[i], line[i + 1]);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t}\n\t}\n\treturn minDistance;\n};\n","import extend from '../../../../extend';\nimport Cloneable from '../../../../java/lang/Cloneable';\nexport default function CoordinateSequence() {}\nextend(CoordinateSequence.prototype, {\n\tsetOrdinate: function (index, ordinateIndex, value) {},\n\tsize: function () {},\n\tgetOrdinate: function (index, ordinateIndex) {},\n\tgetCoordinate: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet i = arguments[0];\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet index = arguments[0], coord = arguments[1];\n\t\t}\n\t},\n\tgetCoordinateCopy: function (i) {},\n\tgetDimension: function () {},\n\tgetX: function (index) {},\n\texpandEnvelope: function (env) {},\n\tcopy: function () {},\n\tgetY: function (index) {},\n\ttoCoordinateArray: function () {},\n\tinterfaces_: function () {\n\t\treturn [Cloneable];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateSequence;\n\t}\n});\nCoordinateSequence.X = 0;\nCoordinateSequence.Y = 1;\nCoordinateSequence.Z = 2;\nCoordinateSequence.M = 3;\n","import hasInterface from '../../../../hasInterface';\nimport extend from '../../../../extend';\nimport CoordinateSequence from './CoordinateSequence';\nexport default function CoordinateSequenceFactory() {}\nextend(CoordinateSequenceFactory.prototype, {\n\tcreate: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordSeq = arguments[0];\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet size = arguments[0], dimension = arguments[1];\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateSequenceFactory;\n\t}\n});\n","import extend from '../../../../extend';\nexport default function GeometryComponentFilter() {}\nextend(GeometryComponentFilter.prototype, {\n\tfilter: function (geom) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryComponentFilter;\n\t}\n});\n","import IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport GeometryComponentFilter from './GeometryComponentFilter';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Cloneable from '../../../../java/lang/Cloneable';\nimport Serializable from '../../../../java/io/Serializable';\nimport Envelope from './Envelope';\nimport Assert from '../util/Assert';\nexport default function Geometry() {\n\tthis._envelope = null;\n\tthis._factory = null;\n\tthis._SRID = null;\n\tthis._userData = null;\n\tlet factory = arguments[0];\n\tthis._factory = factory;\n\tthis._SRID = factory.getSRID();\n}\nextend(Geometry.prototype, {\n\tisGeometryCollection: function () {\n\t\treturn this.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION;\n\t},\n\tgetFactory: function () {\n\t\treturn this._factory;\n\t},\n\tgetGeometryN: function (n) {\n\t\treturn this;\n\t},\n\tgetArea: function () {\n\t\treturn 0.0;\n\t},\n\tisRectangle: function () {\n\t\treturn false;\n\t},\n\tequals: function () {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet g = arguments[0];\n\t\t\tif (g === null) return false;\n\t\t\treturn this.equalsTopo(g);\n\t\t} else if (arguments[0] instanceof Object) {\n\t\t\tlet o = arguments[0];\n\t\t\tif (!(o instanceof Geometry)) return false;\n\t\t\tvar g = o;\n\t\t\treturn this.equalsExact(g);\n\t\t}\n\t},\n\tequalsExact: function (other) {\n\t\treturn this === other || this.equalsExact(other, 0);\n\t},\n\tgeometryChanged: function () {\n\t\tthis.apply(Geometry.geometryChangedFilter);\n\t},\n\tgeometryChangedAction: function () {\n\t\tthis._envelope = null;\n\t},\n\tequalsNorm: function (g) {\n\t\tif (g === null) return false;\n\t\treturn this.norm().equalsExact(g.norm());\n\t},\n\tgetLength: function () {\n\t\treturn 0.0;\n\t},\n\tgetNumGeometries: function () {\n\t\treturn 1;\n\t},\n\tcompareTo: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet o = arguments[0];\n\t\t\tvar other = o;\n\t\t\tif (this.getTypeCode() !== other.getTypeCode()) {\n\t\t\t\treturn this.getTypeCode() - other.getTypeCode();\n\t\t\t}\n\t\t\tif (this.isEmpty() && other.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (other.isEmpty()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn this.compareToSameClass(o);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet o = arguments[0], comp = arguments[1];\n\t\t\tvar other = o;\n\t\t\tif (this.getTypeCode() !== other.getTypeCode()) {\n\t\t\t\treturn this.getTypeCode() - other.getTypeCode();\n\t\t\t}\n\t\t\tif (this.isEmpty() && other.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (other.isEmpty()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn this.compareToSameClass(o, comp);\n\t\t}\n\t},\n\tgetUserData: function () {\n\t\treturn this._userData;\n\t},\n\tgetSRID: function () {\n\t\treturn this._SRID;\n\t},\n\tgetEnvelope: function () {\n\t\treturn this.getFactory().toGeometry(this.getEnvelopeInternal());\n\t},\n\tcheckNotGeometryCollection: function (g) {\n\t\tif (g.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION) {\n\t\t\tthrow new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\t\t}\n\t},\n\tequal: function (a, b, tolerance) {\n\t\tif (tolerance === 0) {\n\t\t\treturn a.equals(b);\n\t\t}\n\t\treturn a.distance(b) <= tolerance;\n\t},\n\tnorm: function () {\n\t\tvar copy = this.copy();\n\t\tcopy.normalize();\n\t\treturn copy;\n\t},\n\tgetPrecisionModel: function () {\n\t\treturn this._factory.getPrecisionModel();\n\t},\n\tgetEnvelopeInternal: function () {\n\t\tif (this._envelope === null) {\n\t\t\tthis._envelope = this.computeEnvelopeInternal();\n\t\t}\n\t\treturn new Envelope(this._envelope);\n\t},\n\tsetSRID: function (SRID) {\n\t\tthis._SRID = SRID;\n\t},\n\tsetUserData: function (userData) {\n\t\tthis._userData = userData;\n\t},\n\tcompare: function (a, b) {\n\t\tvar i = a.iterator();\n\t\tvar j = b.iterator();\n\t\twhile (i.hasNext() && j.hasNext()) {\n\t\t\tvar aElement = i.next();\n\t\t\tvar bElement = j.next();\n\t\t\tvar comparison = aElement.compareTo(bElement);\n\t\t\tif (comparison !== 0) {\n\t\t\t\treturn comparison;\n\t\t\t}\n\t\t}\n\t\tif (i.hasNext()) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (j.hasNext()) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 0;\n\t},\n\thashCode: function () {\n\t\treturn this.getEnvelopeInternal().hashCode();\n\t},\n\tisGeometryCollectionOrDerived: function () {\n\t\tif (this.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION || this.getTypeCode() === Geometry.TYPECODE_MULTIPOINT || this.getTypeCode() === Geometry.TYPECODE_MULTILINESTRING || this.getTypeCode() === Geometry.TYPECODE_MULTIPOLYGON) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Cloneable, Comparable, Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn Geometry;\n\t}\n});\nGeometry.hasNonEmptyElements = function (geometries) {\n\tfor (var i = 0; i < geometries.length; i++) {\n\t\tif (!geometries[i].isEmpty()) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\nGeometry.hasNullElements = function (array) {\n\tfor (var i = 0; i < array.length; i++) {\n\t\tif (array[i] === null) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\nGeometry.serialVersionUID = 8763622679187376702;\nGeometry.TYPECODE_POINT = 0;\nGeometry.TYPECODE_MULTIPOINT = 1;\nGeometry.TYPECODE_LINESTRING = 2;\nGeometry.TYPECODE_LINEARRING = 3;\nGeometry.TYPECODE_MULTILINESTRING = 4;\nGeometry.TYPECODE_POLYGON = 5;\nGeometry.TYPECODE_MULTIPOLYGON = 6;\nGeometry.TYPECODE_GEOMETRYCOLLECTION = 7;\nGeometry.TYPENAME_POINT = \"Point\";\nGeometry.TYPENAME_MULTIPOINT = \"MultiPoint\";\nGeometry.TYPENAME_LINESTRING = \"LineString\";\nGeometry.TYPENAME_LINEARRING = \"LinearRing\";\nGeometry.TYPENAME_MULTILINESTRING = \"MultiLineString\";\nGeometry.TYPENAME_POLYGON = \"Polygon\";\nGeometry.TYPENAME_MULTIPOLYGON = \"MultiPolygon\";\nGeometry.TYPENAME_GEOMETRYCOLLECTION = \"GeometryCollection\";\nGeometry.geometryChangedFilter = {\n\tinterfaces_: function () {\n\t\treturn [GeometryComponentFilter];\n\t},\n\tfilter: function (geom) {\n\t\tgeom.geometryChangedAction();\n\t}\n};\n","import extend from '../../../../extend';\nexport default function CoordinateFilter() {}\nextend(CoordinateFilter.prototype, {\n\tfilter: function (coord) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateFilter;\n\t}\n});\n","import extend from '../../../../extend';\nexport default function BoundaryNodeRule() {}\nextend(BoundaryNodeRule.prototype, {\n\tisInBoundary: function (boundaryCount) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn BoundaryNodeRule;\n\t}\n});\nfunction Mod2BoundaryNodeRule() {}\nextend(Mod2BoundaryNodeRule.prototype, {\n\tisInBoundary: function (boundaryCount) {\n\t\treturn boundaryCount % 2 === 1;\n\t},\n\tinterfaces_: function () {\n\t\treturn [BoundaryNodeRule];\n\t},\n\tgetClass: function () {\n\t\treturn Mod2BoundaryNodeRule;\n\t}\n});\nfunction EndPointBoundaryNodeRule() {}\nextend(EndPointBoundaryNodeRule.prototype, {\n\tisInBoundary: function (boundaryCount) {\n\t\treturn boundaryCount > 0;\n\t},\n\tinterfaces_: function () {\n\t\treturn [BoundaryNodeRule];\n\t},\n\tgetClass: function () {\n\t\treturn EndPointBoundaryNodeRule;\n\t}\n});\nfunction MultiValentEndPointBoundaryNodeRule() {}\nextend(MultiValentEndPointBoundaryNodeRule.prototype, {\n\tisInBoundary: function (boundaryCount) {\n\t\treturn boundaryCount > 1;\n\t},\n\tinterfaces_: function () {\n\t\treturn [BoundaryNodeRule];\n\t},\n\tgetClass: function () {\n\t\treturn MultiValentEndPointBoundaryNodeRule;\n\t}\n});\nfunction MonoValentEndPointBoundaryNodeRule() {}\nextend(MonoValentEndPointBoundaryNodeRule.prototype, {\n\tisInBoundary: function (boundaryCount) {\n\t\treturn boundaryCount === 1;\n\t},\n\tinterfaces_: function () {\n\t\treturn [BoundaryNodeRule];\n\t},\n\tgetClass: function () {\n\t\treturn MonoValentEndPointBoundaryNodeRule;\n\t}\n});\nBoundaryNodeRule.Mod2BoundaryNodeRule = Mod2BoundaryNodeRule;\nBoundaryNodeRule.EndPointBoundaryNodeRule = EndPointBoundaryNodeRule;\nBoundaryNodeRule.MultiValentEndPointBoundaryNodeRule = MultiValentEndPointBoundaryNodeRule;\nBoundaryNodeRule.MonoValentEndPointBoundaryNodeRule = MonoValentEndPointBoundaryNodeRule;\nBoundaryNodeRule.MOD2_BOUNDARY_RULE = new Mod2BoundaryNodeRule();\nBoundaryNodeRule.ENDPOINT_BOUNDARY_RULE = new EndPointBoundaryNodeRule();\nBoundaryNodeRule.MULTIVALENT_ENDPOINT_BOUNDARY_RULE = new MultiValentEndPointBoundaryNodeRule();\nBoundaryNodeRule.MONOVALENT_ENDPOINT_BOUNDARY_RULE = new MonoValentEndPointBoundaryNodeRule();\nBoundaryNodeRule.OGC_SFS_BOUNDARY_RULE = BoundaryNodeRule.MOD2_BOUNDARY_RULE;\n","import CoordinateList from './CoordinateList';\nimport Coordinate from './Coordinate';\nimport extend from '../../../../extend';\nimport MathUtil from '../math/MathUtil';\nimport System from '../../../../java/lang/System';\nimport Comparator from '../../../../java/util/Comparator';\nimport Envelope from './Envelope';\nexport default function CoordinateArrays() {}\nextend(CoordinateArrays.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateArrays;\n\t}\n});\nCoordinateArrays.isRing = function (pts) {\n\tif (pts.length < 4) return false;\n\tif (!pts[0].equals2D(pts[pts.length - 1])) return false;\n\treturn true;\n};\nCoordinateArrays.ptNotInList = function (testPts, pts) {\n\tfor (var i = 0; i < testPts.length; i++) {\n\t\tvar testPt = testPts[i];\n\t\tif (CoordinateArrays.indexOf(testPt, pts) < 0) return testPt;\n\t}\n\treturn null;\n};\nCoordinateArrays.scroll = function (coordinates, firstCoordinate) {\n\tvar i = CoordinateArrays.indexOf(firstCoordinate, coordinates);\n\tif (i < 0) return null;\n\tvar newCoordinates = new Array(coordinates.length).fill(null);\n\tSystem.arraycopy(coordinates, i, newCoordinates, 0, coordinates.length - i);\n\tSystem.arraycopy(coordinates, 0, newCoordinates, coordinates.length - i, i);\n\tSystem.arraycopy(newCoordinates, 0, coordinates, 0, coordinates.length);\n};\nCoordinateArrays.equals = function () {\n\tif (arguments.length === 2) {\n\t\tlet coord1 = arguments[0], coord2 = arguments[1];\n\t\tif (coord1 === coord2) return true;\n\t\tif (coord1 === null || coord2 === null) return false;\n\t\tif (coord1.length !== coord2.length) return false;\n\t\tfor (var i = 0; i < coord1.length; i++) {\n\t\t\tif (!coord1[i].equals(coord2[i])) return false;\n\t\t}\n\t\treturn true;\n\t} else if (arguments.length === 3) {\n\t\tlet coord1 = arguments[0], coord2 = arguments[1], coordinateComparator = arguments[2];\n\t\tif (coord1 === coord2) return true;\n\t\tif (coord1 === null || coord2 === null) return false;\n\t\tif (coord1.length !== coord2.length) return false;\n\t\tfor (var i = 0; i < coord1.length; i++) {\n\t\t\tif (coordinateComparator.compare(coord1[i], coord2[i]) !== 0) return false;\n\t\t}\n\t\treturn true;\n\t}\n};\nCoordinateArrays.intersection = function (coordinates, env) {\n\tvar coordList = new CoordinateList();\n\tfor (var i = 0; i < coordinates.length; i++) {\n\t\tif (env.intersects(coordinates[i])) coordList.add(coordinates[i], true);\n\t}\n\treturn coordList.toCoordinateArray();\n};\nCoordinateArrays.hasRepeatedPoints = function (coord) {\n\tfor (var i = 1; i < coord.length; i++) {\n\t\tif (coord[i - 1].equals(coord[i])) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\nCoordinateArrays.removeRepeatedPoints = function (coord) {\n\tif (!CoordinateArrays.hasRepeatedPoints(coord)) return coord;\n\tvar coordList = new CoordinateList(coord, false);\n\treturn coordList.toCoordinateArray();\n};\nCoordinateArrays.reverse = function (coord) {\n\tvar last = coord.length - 1;\n\tvar mid = Math.trunc(last / 2);\n\tfor (var i = 0; i <= mid; i++) {\n\t\tvar tmp = coord[i];\n\t\tcoord[i] = coord[last - i];\n\t\tcoord[last - i] = tmp;\n\t}\n};\nCoordinateArrays.removeNull = function (coord) {\n\tvar nonNull = 0;\n\tfor (var i = 0; i < coord.length; i++) {\n\t\tif (coord[i] !== null) nonNull++;\n\t}\n\tvar newCoord = new Array(nonNull).fill(null);\n\tif (nonNull === 0) return newCoord;\n\tvar j = 0;\n\tfor (var i = 0; i < coord.length; i++) {\n\t\tif (coord[i] !== null) newCoord[j++] = coord[i];\n\t}\n\treturn newCoord;\n};\nCoordinateArrays.copyDeep = function () {\n\tif (arguments.length === 1) {\n\t\tlet coordinates = arguments[0];\n\t\tvar copy = new Array(coordinates.length).fill(null);\n\t\tfor (var i = 0; i < coordinates.length; i++) {\n\t\t\tcopy[i] = new Coordinate(coordinates[i]);\n\t\t}\n\t\treturn copy;\n\t} else if (arguments.length === 5) {\n\t\tlet src = arguments[0], srcStart = arguments[1], dest = arguments[2], destStart = arguments[3], length = arguments[4];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tdest[destStart + i] = new Coordinate(src[srcStart + i]);\n\t\t}\n\t}\n};\nCoordinateArrays.isEqualReversed = function (pts1, pts2) {\n\tfor (var i = 0; i < pts1.length; i++) {\n\t\tvar p1 = pts1[i];\n\t\tvar p2 = pts2[pts1.length - i - 1];\n\t\tif (p1.compareTo(p2) !== 0) return false;\n\t}\n\treturn true;\n};\nCoordinateArrays.envelope = function (coordinates) {\n\tvar env = new Envelope();\n\tfor (var i = 0; i < coordinates.length; i++) {\n\t\tenv.expandToInclude(coordinates[i]);\n\t}\n\treturn env;\n};\nCoordinateArrays.toCoordinateArray = function (coordList) {\n\treturn coordList.toArray(CoordinateArrays.coordArrayType);\n};\nCoordinateArrays.atLeastNCoordinatesOrNothing = function (n, c) {\n\treturn c.length >= n ? c : [];\n};\nCoordinateArrays.indexOf = function (coordinate, coordinates) {\n\tfor (var i = 0; i < coordinates.length; i++) {\n\t\tif (coordinate.equals(coordinates[i])) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nCoordinateArrays.increasingDirection = function (pts) {\n\tfor (var i = 0; i < Math.trunc(pts.length / 2); i++) {\n\t\tvar j = pts.length - 1 - i;\n\t\tvar comp = pts[i].compareTo(pts[j]);\n\t\tif (comp !== 0) return comp;\n\t}\n\treturn 1;\n};\nCoordinateArrays.compare = function (pts1, pts2) {\n\tvar i = 0;\n\twhile (i < pts1.length && i < pts2.length) {\n\t\tvar compare = pts1[i].compareTo(pts2[i]);\n\t\tif (compare !== 0) return compare;\n\t\ti++;\n\t}\n\tif (i < pts2.length) return -1;\n\tif (i < pts1.length) return 1;\n\treturn 0;\n};\nCoordinateArrays.minCoordinate = function (coordinates) {\n\tvar minCoord = null;\n\tfor (var i = 0; i < coordinates.length; i++) {\n\t\tif (minCoord === null || minCoord.compareTo(coordinates[i]) > 0) {\n\t\t\tminCoord = coordinates[i];\n\t\t}\n\t}\n\treturn minCoord;\n};\nCoordinateArrays.extract = function (pts, start, end) {\n\tstart = MathUtil.clamp(start, 0, pts.length);\n\tend = MathUtil.clamp(end, -1, pts.length);\n\tvar npts = end - start + 1;\n\tif (end < 0) npts = 0;\n\tif (start >= pts.length) npts = 0;\n\tif (end < start) npts = 0;\n\tvar extractPts = new Array(npts).fill(null);\n\tif (npts === 0) return extractPts;\n\tvar iPts = 0;\n\tfor (var i = start; i <= end; i++) {\n\t\textractPts[iPts++] = pts[i];\n\t}\n\treturn extractPts;\n};\nfunction ForwardComparator() {}\nextend(ForwardComparator.prototype, {\n\tcompare: function (o1, o2) {\n\t\tvar pts1 = o1;\n\t\tvar pts2 = o2;\n\t\treturn CoordinateArrays.compare(pts1, pts2);\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function () {\n\t\treturn ForwardComparator;\n\t}\n});\nfunction BidirectionalComparator() {}\nextend(BidirectionalComparator.prototype, {\n\tcompare: function (o1, o2) {\n\t\tvar pts1 = o1;\n\t\tvar pts2 = o2;\n\t\tif (pts1.length < pts2.length) return -1;\n\t\tif (pts1.length > pts2.length) return 1;\n\t\tif (pts1.length === 0) return 0;\n\t\tvar forwardComp = CoordinateArrays.compare(pts1, pts2);\n\t\tvar isEqualRev = CoordinateArrays.isEqualReversed(pts1, pts2);\n\t\tif (isEqualRev) return 0;\n\t\treturn forwardComp;\n\t},\n\tOLDcompare: function (o1, o2) {\n\t\tvar pts1 = o1;\n\t\tvar pts2 = o2;\n\t\tif (pts1.length < pts2.length) return -1;\n\t\tif (pts1.length > pts2.length) return 1;\n\t\tif (pts1.length === 0) return 0;\n\t\tvar dir1 = CoordinateArrays.increasingDirection(pts1);\n\t\tvar dir2 = CoordinateArrays.increasingDirection(pts2);\n\t\tvar i1 = dir1 > 0 ? 0 : pts1.length - 1;\n\t\tvar i2 = dir2 > 0 ? 0 : pts1.length - 1;\n\t\tfor (var i = 0; i < pts1.length; i++) {\n\t\t\tvar comparePt = pts1[i1].compareTo(pts2[i2]);\n\t\t\tif (comparePt !== 0) return comparePt;\n\t\t\ti1 += dir1;\n\t\t\ti2 += dir2;\n\t\t}\n\t\treturn 0;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function () {\n\t\treturn BidirectionalComparator;\n\t}\n});\nCoordinateArrays.ForwardComparator = ForwardComparator;\nCoordinateArrays.BidirectionalComparator = BidirectionalComparator;\nCoordinateArrays.coordArrayType = new Array(0).fill(null);\n","/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Map.html\n *\n * @constructor\n * @private\n */\nexport default function Map() {};\n\n\n/**\n * Returns the value to which the specified key is mapped, or null if this map\n * contains no mapping for the key.\n * @param {Object} key\n * @return {Object}\n */\nMap.prototype.get = function() {};\n\n\n/**\n * Associates the specified value with the specified key in this map (optional\n * operation).\n * @param {Object} key\n * @param {Object} value\n * @return {Object}\n */\nMap.prototype.put = function() {};\n\n\n/**\n * Returns the number of key-value mappings in this map.\n * @return {number}\n */\nMap.prototype.size = function() {};\n\n\n/**\n * Returns a Collection view of the values contained in this map.\n * @return {javascript.util.Collection}\n */\nMap.prototype.values = function() {};\n\n/**\n * Returns a {@link Set} view of the mappings contained in this map.\n * The set is backed by the map, so changes to the map are\n * reflected in the set, and vice-versa.  If the map is modified\n * while an iteration over the set is in progress (except through\n * the iterator's own <tt>remove</tt> operation, or through the\n * <tt>setValue</tt> operation on a map entry returned by the\n * iterator) the results of the iteration are undefined.  The set\n * supports element removal, which removes the corresponding\n * mapping from the map, via the <tt>Iterator.remove</tt>,\n * <tt>Set.remove</tt>, <tt>removeAll</tt>, <tt>retainAll</tt> and\n * <tt>clear</tt> operations.  It does not support the\n * <tt>add</tt> or <tt>addAll</tt> operations.\n *\n * @return {Set} a set view of the mappings contained in this map\n */\nMap.prototype.entrySet = function() {};\n","import Map from './Map'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/SortedMap.html\n *\n * @extends {Map}\n * @constructor\n * @private\n */\nexport default function SortedMap() {};\nSortedMap.prototype = new Map();\n","import Collection from './Collection'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Set.html\n *\n * @extends {Collection}\n * @constructor\n * @private\n */\nexport default function Set() {};\nSet.prototype = new Collection();\n\n\n/**\n * Returns true if this set contains the specified element. More formally,\n * returns true if and only if this set contains an element e such that (o==null ?\n * e==null : o.equals(e)).\n * @param {Object} e\n * @return {boolean}\n */\nSet.prototype.contains = function() {};\n","import Collection from './Collection'\nimport Iterator from './Iterator'\nimport NoSuchElementException from './NoSuchElementException'\nimport OperationNotSupported from './OperationNotSupported'\nimport Set from './Set'\n\n/**\n * @see http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html\n *\n * @extends {javascript.util.Set}\n * @constructor\n * @private\n */\nexport default function HashSet() {\n  /**\n   * @type {Array}\n   * @private\n  */\n  this.array_ = [];\n\n  if (arguments[0] instanceof Collection) {\n    this.addAll(arguments[0]);\n  }\n};\nHashSet.prototype = new Set();\n\n\n/**\n * @override\n */\nHashSet.prototype.contains = function(o) {\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this.array_[i];\n    if (e === o) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.add = function(o) {\n  if (this.contains(o)) {\n    return false;\n  }\n\n  this.array_.push(o);\n\n  return true;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.addAll = function(c) {\n  for (var i = c.iterator(); i.hasNext();) {\n    this.add(i.next());\n  }\n  return true;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.remove = function(o) {\n  throw new javascript.util.OperationNotSupported();\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.size = function() {\n  return this.array_.length;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.isEmpty = function() {\n  return this.array_.length === 0;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.toArray = function() {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.iterator = function() {\n  return new Iterator_(this);\n};\n\n\n\n/**\n * @extends {Iterator}\n * @param {HashSet} hashSet\n * @constructor\n * @private\n */\nvar Iterator_ = function(hashSet) {\n  /**\n   * @type {HashSet}\n   * @private\n   */\n  this.hashSet_ = hashSet;\n  /**\n   * @type {number}\n   * @private\n   */\n  this.position_ = 0;\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.next = function() {\n  if (this.position_ === this.hashSet_.size()) {\n    throw new NoSuchElementException();\n  }\n  return this.hashSet_.array_[this.position_++];\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.hasNext = function() {\n  if (this.position_ < this.hashSet_.size()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.remove = function() {\n  throw new OperationNotSupported();\n};\n","import ArrayList from './ArrayList'\nimport SortedMap from './SortedMap'\nimport HashSet from './HashSet'\n\nconst BLACK = 0\nconst RED = 1\nfunction colorOf (p) { return (p == null ? BLACK : p.color) }\nfunction parentOf (p) { return (p == null ? null : p.parent) }\nfunction setColor (p, c) { if (p !== null) p.color = c }\nfunction leftOf (p) { return (p == null ? null : p.left) }\nfunction rightOf (p) { return (p == null ? null : p.right) }\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html\n *\n * @extends {SortedMap}\n * @constructor\n * @private\n */\nexport default function TreeMap() {\n  /**\n   * @type {Object}\n   * @private\n   */\n  this.root_ = null;\n  /**\n   * @type {number}\n   * @private\n  */\n  this.size_ = 0;\n};\nTreeMap.prototype = new SortedMap();\n\n\n/**\n * @override\n */\nTreeMap.prototype.get = function(key) {\n  var p = this.root_;\n  while (p !== null) {\n    var cmp = key['compareTo'](p.key);\n    if (cmp < 0) {\n      p = p.left;\n    } else if (cmp > 0) {\n      p = p.right;\n    } else {\n      return p.value;\n    }\n  }\n  return null;\n};\n\n\n/**\n * @override\n */\nTreeMap.prototype.put = function(key, value) {\n  if (this.root_ === null) {\n    this.root_ = {\n      key: key,\n      value: value,\n      left: null,\n      right: null,\n      parent: null,\n      color: BLACK,\n      getValue() { return this.value },\n      getKey() { return this.key }\n    };\n    this.size_ = 1;\n    return null;\n  }\n  var t = this.root_, parent, cmp;\n  do {\n    parent = t;\n    cmp = key['compareTo'](t.key);\n    if (cmp < 0) {\n      t = t.left;\n    } else if (cmp > 0) {\n      t = t.right;\n    } else {\n      var oldValue = t.value;\n      t.value = value;\n      return oldValue;\n    }\n  } while (t !== null);\n  var e = {\n    key: key,\n    left: null,\n    right: null,\n    value: value,\n    parent: parent,\n    color: BLACK,\n    getValue() { return this.value },\n    getKey() { return this.key }\n  };\n  if (cmp < 0) {\n    parent.left = e;\n  } else {\n    parent.right = e;\n  }\n  this.fixAfterInsertion(e);\n  this.size_++;\n  return null;\n};\n\n\n/**\n * @param {Object} x\n */\nTreeMap.prototype.fixAfterInsertion = function(x) {\n  x.color = RED;\n  while (x != null && x != this.root_ && x.parent.color == RED) {\n    if (parentOf(x) == leftOf(parentOf(parentOf(x)))) {\n      var y = rightOf(parentOf(parentOf(x)));\n      if (colorOf(y) == RED) {\n        setColor(parentOf(x), BLACK);\n        setColor(y, BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        x = parentOf(parentOf(x));\n      } else {\n        if (x == rightOf(parentOf(x))) {\n          x = parentOf(x);\n          this.rotateLeft(x);\n        }\n        setColor(parentOf(x), BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        this.rotateRight(parentOf(parentOf(x)));\n      }\n    } else {\n      var y = leftOf(parentOf(parentOf(x)));\n      if (colorOf(y) == RED) {\n        setColor(parentOf(x), BLACK);\n        setColor(y, BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        x = parentOf(parentOf(x));\n      } else {\n        if (x == leftOf(parentOf(x))) {\n          x = parentOf(x);\n          this.rotateRight(x);\n        }\n        setColor(parentOf(x), BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        this.rotateLeft(parentOf(parentOf(x)));\n      }\n    }\n  }\n  this.root_.color = BLACK;\n};\n\n\n/**\n * @override\n */\nTreeMap.prototype.values = function() {\n  var arrayList = new ArrayList();\n  var p = this.getFirstEntry();\n  if (p !== null) {\n    arrayList.add(p.value);\n    while ((p = TreeMap.successor(p)) !== null) {\n      arrayList.add(p.value);\n    }\n  }\n  return arrayList;\n};\n\n\n/**\n * @override\n */\nTreeMap.prototype.entrySet = function() {\n  var hashSet = new HashSet();\n  var p = this.getFirstEntry();\n  if (p !== null) {\n    hashSet.add(p);\n    while ((p = TreeMap.successor(p)) !== null) {\n      hashSet.add(p);\n    }\n  }\n  return hashSet;\n};\n\n\n/**\n * @param {Object} p\n */\nTreeMap.prototype.rotateLeft = function(p) {\n  if (p != null) {\n    var r = p.right;\n    p.right = r.left;\n    if (r.left != null)\n      r.left.parent = p;\n    r.parent = p.parent;\n    if (p.parent == null)\n      this.root_ = r;\n    else if (p.parent.left == p)\n      p.parent.left = r;\n    else\n      p.parent.right = r;\n    r.left = p;\n    p.parent = r;\n  }\n};\n\n\n/**\n * @param {Object} p\n */\nTreeMap.prototype.rotateRight = function(p) {\n  if (p != null) {\n    var l = p.left;\n    p.left = l.right;\n    if (l.right != null) l.right.parent = p;\n    l.parent = p.parent;\n    if (p.parent == null)\n      this.root_ = l;\n    else if (p.parent.right == p)\n      p.parent.right = l;\n    else p.parent.left = l;\n    l.right = p;\n    p.parent = l;\n  }\n};\n\n\n/**\n * @return {Object}\n */\nTreeMap.prototype.getFirstEntry = function() {\n  var p = this.root_;\n  if (p != null) {\n    while (p.left != null) {\n      p = p.left;\n    }\n  }\n  return p;\n};\n\n\n/**\n * @param {Object} t\n * @return {Object}\n * @private\n */\nTreeMap.successor = function(t) {\n  if (t === null)\n    return null;\n  else if (t.right !== null) {\n    var p = t.right;\n    while (p.left !== null) {\n      p = p.left;\n    }\n    return p;\n  } else {\n    var p = t.parent;\n    var ch = t;\n    while (p !== null && ch === p.right) {\n      ch = p;\n      p = p.parent;\n    }\n    return p;\n  }\n};\n\n\n/**\n * @override\n */\nTreeMap.prototype.size = function() {\n  return this.size_;\n};\n","import extend from '../../../../extend';\nexport default function Lineal() {}\nextend(Lineal.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Lineal;\n\t}\n});\n","import Set from './Set'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/SortedSet.html\n *\n * @extends {Set}\n * @constructor\n * @private\n */\nexport default function SortedSet() {};\nSortedSet.prototype = new Set();\n","import Collection from './Collection'\nimport Iterator from './Iterator'\nimport NoSuchElementException from './NoSuchElementException'\nimport OperationNotSupported from './OperationNotSupported'\nimport SortedSet from './SortedSet'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/TreeSet.html\n *\n * @extends {SortedSet}\n * @constructor\n * @private\n */\nexport default function TreeSet() {\n  /**\n   * @type {Array}\n   * @private\n  */\n  this.array_ = [];\n\n  if (arguments[0] instanceof Collection) {\n    this.addAll(arguments[0]);\n  }\n};\nTreeSet.prototype = new SortedSet();\n\n\n/**\n * @override\n */\nTreeSet.prototype.contains = function(o) {\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this.array_[i];\n    if (e['compareTo'](o) === 0) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.add = function(o) {\n  if (this.contains(o)) {\n    return false;\n  }\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this.array_[i];\n    if (e['compareTo'](o) === 1) {\n      this.array_.splice(i, 0, o);\n      return true;\n    }\n  }\n\n  this.array_.push(o);\n\n  return true;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.addAll = function(c) {\n  for (var i = c.iterator(); i.hasNext();) {\n    this.add(i.next());\n  }\n  return true;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.remove = function(e) {\n  throw new OperationNotSupported();\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.size = function() {\n  return this.array_.length;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.isEmpty = function() {\n  return this.array_.length === 0;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.toArray = function() {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.iterator = function() {\n  return new Iterator_(this);\n};\n\n\n\n/**\n * @extends {javascript.util.Iterator}\n * @param {javascript.util.TreeSet} treeSet\n * @constructor\n * @private\n */\nvar Iterator_ = function(treeSet) {\n  /**\n   * @type {javascript.util.TreeSet}\n   * @private\n   */\n  this.treeSet_ = treeSet;\n  /**\n   * @type {number}\n   * @private\n   */\n  this.position_ = 0;\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.next = function() {\n  if (this.position_ === this.treeSet_.size()) {\n    throw new NoSuchElementException();\n  }\n  return this.treeSet_.array_[this.position_++];\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.hasNext = function() {\n  if (this.position_ < this.treeSet_.size()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.remove = function() {\n  throw new OperationNotSupported();\n};\n","import ArrayList from './ArrayList'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\n *\n * @constructor\n * @private\n */\nexport default function Arrays() {};\n\n/**\n */\nArrays.sort = function() {\n  var a = arguments[0], i, t, comparator, compare;\n  if (arguments.length === 1) {\n    compare = function(a, b) {\n      return a.compareTo(b);\n    }\n    a.sort(compare);\n    return;\n  } else if (arguments.length === 2) {\n    comparator = arguments[1];\n    compare = function(a, b) {\n      return comparator['compare'](a, b);\n    };\n    a.sort(compare);\n  } else if (arguments.length === 3) {\n    t = a.slice(arguments[1], arguments[2]);\n    t.sort();\n    var r = a.slice(0, arguments[1]).concat(t, a.slice(arguments[2], a.length));\n    a.splice(0, a.length);\n    for (i = 0; i < r.length; i++) {\n      a.push(r[i]);\n    }\n    return;\n  } else if (arguments.length === 4) {\n    t = a.slice(arguments[1], arguments[2]);\n    comparator = arguments[3];\n    compare = function(a, b) {\n      return comparator['compare'](a, b);\n    };\n    t.sort(compare);\n    r = a.slice(0, arguments[1]).concat(t, a.slice(arguments[2], a.length));\n    a.splice(0, a.length);\n    for (i = 0; i < r.length; i++) {\n      a.push(r[i]);\n    }\n    return;\n  }\n};\n\n\n/**\n * @param {Array} array\n * @return {ArrayList}\n */\nArrays.asList = function(array) {\n  var arrayList = new ArrayList();\n  for (var i = 0, len = array.length; i < len; i++) {\n    arrayList.add(array[i]);\n  }\n  return arrayList;\n};\n","import IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport Character from '../../../../java/lang/Character';\nexport default function Dimension() {}\nextend(Dimension.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Dimension;\n\t}\n});\nDimension.toDimensionSymbol = function (dimensionValue) {\n\tswitch (dimensionValue) {\n\t\tcase Dimension.FALSE:\n\t\t\treturn Dimension.SYM_FALSE;\n\t\tcase Dimension.TRUE:\n\t\t\treturn Dimension.SYM_TRUE;\n\t\tcase Dimension.DONTCARE:\n\t\t\treturn Dimension.SYM_DONTCARE;\n\t\tcase Dimension.P:\n\t\t\treturn Dimension.SYM_P;\n\t\tcase Dimension.L:\n\t\t\treturn Dimension.SYM_L;\n\t\tcase Dimension.A:\n\t\t\treturn Dimension.SYM_A;\n\t}\n\tthrow new IllegalArgumentException(\"Unknown dimension value: \" + dimensionValue);\n};\nDimension.toDimensionValue = function (dimensionSymbol) {\n\tswitch (Character.toUpperCase(dimensionSymbol)) {\n\t\tcase Dimension.SYM_FALSE:\n\t\t\treturn Dimension.FALSE;\n\t\tcase Dimension.SYM_TRUE:\n\t\t\treturn Dimension.TRUE;\n\t\tcase Dimension.SYM_DONTCARE:\n\t\t\treturn Dimension.DONTCARE;\n\t\tcase Dimension.SYM_P:\n\t\t\treturn Dimension.P;\n\t\tcase Dimension.SYM_L:\n\t\t\treturn Dimension.L;\n\t\tcase Dimension.SYM_A:\n\t\t\treturn Dimension.A;\n\t}\n\tthrow new IllegalArgumentException(\"Unknown dimension symbol: \" + dimensionSymbol);\n};\nDimension.P = 0;\nDimension.L = 1;\nDimension.A = 2;\nDimension.FALSE = -1;\nDimension.TRUE = -2;\nDimension.DONTCARE = -3;\nDimension.SYM_FALSE = 'F';\nDimension.SYM_TRUE = 'T';\nDimension.SYM_DONTCARE = '*';\nDimension.SYM_P = '0';\nDimension.SYM_L = '1';\nDimension.SYM_A = '2';\n","import extend from '../../../../extend';\nexport default function GeometryFilter() {}\nextend(GeometryFilter.prototype, {\n\tfilter: function (geom) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryFilter;\n\t}\n});\n","import extend from '../../../../extend';\nexport default function CoordinateSequenceFilter() {}\nextend(CoordinateSequenceFilter.prototype, {\n\tfilter: function (seq, i) {},\n\tisDone: function () {},\n\tisGeometryChanged: function () {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateSequenceFilter;\n\t}\n});\n","import TreeSet from '../../../../java/util/TreeSet';\nimport Geometry from './Geometry';\nimport Arrays from '../../../../java/util/Arrays';\nimport CoordinateFilter from './CoordinateFilter';\nimport hasInterface from '../../../../hasInterface';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport GeometryComponentFilter from './GeometryComponentFilter';\nimport Dimension from './Dimension';\nimport GeometryFilter from './GeometryFilter';\nimport CoordinateSequenceFilter from './CoordinateSequenceFilter';\nimport Envelope from './Envelope';\nimport Assert from '../util/Assert';\nimport inherits from '../../../../inherits';\nexport default function GeometryCollection() {\n\tthis._geometries = null;\n\tlet geometries = arguments[0], factory = arguments[1];\n\tGeometry.call(this, factory);\n\tif (geometries === null) {\n\t\tgeometries = [];\n\t}\n\tif (Geometry.hasNullElements(geometries)) {\n\t\tthrow new IllegalArgumentException(\"geometries must not contain null elements\");\n\t}\n\tthis._geometries = geometries;\n}\ninherits(GeometryCollection, Geometry);\nextend(GeometryCollection.prototype, {\n\tcomputeEnvelopeInternal: function () {\n\t\tvar envelope = new Envelope();\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tenvelope.expandToInclude(this._geometries[i].getEnvelopeInternal());\n\t\t}\n\t\treturn envelope;\n\t},\n\tgetGeometryN: function (n) {\n\t\treturn this._geometries[n];\n\t},\n\tgetCoordinates: function () {\n\t\tvar coordinates = new Array(this.getNumPoints()).fill(null);\n\t\tvar k = -1;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tvar childCoordinates = this._geometries[i].getCoordinates();\n\t\t\tfor (var j = 0; j < childCoordinates.length; j++) {\n\t\t\t\tk++;\n\t\t\t\tcoordinates[k] = childCoordinates[j];\n\t\t\t}\n\t\t}\n\t\treturn coordinates;\n\t},\n\tgetArea: function () {\n\t\tvar area = 0.0;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tarea += this._geometries[i].getArea();\n\t\t}\n\t\treturn area;\n\t},\n\tequalsExact: function () {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar otherCollection = other;\n\t\t\tif (this._geometries.length !== otherCollection._geometries.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tif (!this._geometries[i].equalsExact(otherCollection._geometries[i], tolerance)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else return Geometry.prototype.equalsExact.apply(this, arguments);\n\t},\n\tnormalize: function () {\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tthis._geometries[i].normalize();\n\t\t}\n\t\tArrays.sort(this._geometries);\n\t},\n\tgetCoordinate: function () {\n\t\tif (this.isEmpty()) return null;\n\t\treturn this._geometries[0].getCoordinate();\n\t},\n\tgetBoundaryDimension: function () {\n\t\tvar dimension = Dimension.FALSE;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tdimension = Math.max(dimension, this._geometries[i].getBoundaryDimension());\n\t\t}\n\t\treturn dimension;\n\t},\n\tgetTypeCode: function () {\n\t\treturn Geometry.TYPECODE_GEOMETRYCOLLECTION;\n\t},\n\tgetDimension: function () {\n\t\tvar dimension = Dimension.FALSE;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tdimension = Math.max(dimension, this._geometries[i].getDimension());\n\t\t}\n\t\treturn dimension;\n\t},\n\tgetLength: function () {\n\t\tvar sum = 0.0;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tsum += this._geometries[i].getLength();\n\t\t}\n\t\treturn sum;\n\t},\n\tgetNumPoints: function () {\n\t\tvar numPoints = 0;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tnumPoints += this._geometries[i].getNumPoints();\n\t\t}\n\t\treturn numPoints;\n\t},\n\tgetNumGeometries: function () {\n\t\treturn this._geometries.length;\n\t},\n\treverse: function () {\n\t\tvar n = this._geometries.length;\n\t\tvar revGeoms = new Array(n).fill(null);\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\trevGeoms[i] = this._geometries[i].reverse();\n\t\t}\n\t\treturn this.getFactory().createGeometryCollection(revGeoms);\n\t},\n\tcompareToSameClass: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet o = arguments[0];\n\t\t\tvar theseElements = new TreeSet(Arrays.asList(this._geometries));\n\t\t\tvar otherElements = new TreeSet(Arrays.asList(o._geometries));\n\t\t\treturn this.compare(theseElements, otherElements);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet o = arguments[0], comp = arguments[1];\n\t\t\tvar gc = o;\n\t\t\tvar n1 = this.getNumGeometries();\n\t\t\tvar n2 = gc.getNumGeometries();\n\t\t\tvar i = 0;\n\t\t\twhile (i < n1 && i < n2) {\n\t\t\t\tvar thisGeom = this.getGeometryN(i);\n\t\t\t\tvar otherGeom = gc.getGeometryN(i);\n\t\t\t\tvar holeComp = thisGeom.compareToSameClass(otherGeom, comp);\n\t\t\t\tif (holeComp !== 0) return holeComp;\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < n1) return 1;\n\t\t\tif (i < n2) return -1;\n\t\t\treturn 0;\n\t\t}\n\t},\n\tapply: function () {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(filter);\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tif (this._geometries.length === 0) return null;\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(filter);\n\t\t\t\tif (filter.isDone()) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(filter);\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(filter);\n\t\t\t}\n\t\t}\n\t},\n\tgetBoundary: function () {\n\t\tthis.checkNotGeometryCollection(this);\n\t\tAssert.shouldNeverReachHere();\n\t\treturn null;\n\t},\n\tgetGeometryType: function () {\n\t\treturn Geometry.TYPENAME_GEOMETRYCOLLECTION;\n\t},\n\tcopy: function () {\n\t\tvar geometries = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < geometries.length; i++) {\n\t\t\tgeometries[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new GeometryCollection(geometries, this._factory);\n\t},\n\tisEmpty: function () {\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tif (!this._geometries[i].isEmpty()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryCollection;\n\t}\n});\nGeometryCollection.serialVersionUID = -5694727726395021467;\n","import Geometry from './Geometry';\nimport BoundaryOp from '../operation/BoundaryOp';\nimport extend from '../../../../extend';\nimport Lineal from './Lineal';\nimport GeometryCollection from './GeometryCollection';\nimport Dimension from './Dimension';\nimport inherits from '../../../../inherits';\nexport default function MultiLineString() {\n\tlet lineStrings = arguments[0], factory = arguments[1];\n\tGeometryCollection.call(this, lineStrings, factory);\n}\ninherits(MultiLineString, GeometryCollection);\nextend(MultiLineString.prototype, {\n\tequalsExact: function () {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn GeometryCollection.prototype.equalsExact.call(this, other, tolerance);\n\t\t} else return GeometryCollection.prototype.equalsExact.apply(this, arguments);\n\t},\n\tgetBoundaryDimension: function () {\n\t\tif (this.isClosed()) {\n\t\t\treturn Dimension.FALSE;\n\t\t}\n\t\treturn 0;\n\t},\n\tisClosed: function () {\n\t\tif (this.isEmpty()) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tif (!this._geometries[i].isClosed()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tgetTypeCode: function () {\n\t\treturn Geometry.TYPECODE_MULTILINESTRING;\n\t},\n\tgetDimension: function () {\n\t\treturn 1;\n\t},\n\treverse: function () {\n\t\tvar nLines = this._geometries.length;\n\t\tvar revLines = new Array(nLines).fill(null);\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\trevLines[nLines - 1 - i] = this._geometries[i].reverse();\n\t\t}\n\t\treturn this.getFactory().createMultiLineString(revLines);\n\t},\n\tgetBoundary: function () {\n\t\treturn new BoundaryOp(this).getBoundary();\n\t},\n\tgetGeometryType: function () {\n\t\treturn Geometry.TYPENAME_MULTILINESTRING;\n\t},\n\tcopy: function () {\n\t\tvar lineStrings = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < lineStrings.length; i++) {\n\t\t\tlineStrings[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new MultiLineString(lineStrings, this._factory);\n\t},\n\tinterfaces_: function () {\n\t\treturn [Lineal];\n\t},\n\tgetClass: function () {\n\t\treturn MultiLineString;\n\t}\n});\nMultiLineString.serialVersionUID = 8166665132445433741;\n","import LineString from '../geom/LineString';\nimport BoundaryNodeRule from '../algorithm/BoundaryNodeRule';\nimport extend from '../../../../extend';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport TreeMap from '../../../../java/util/TreeMap';\nimport MultiLineString from '../geom/MultiLineString';\nexport default function BoundaryOp() {\n\tthis._geom = null;\n\tthis._geomFact = null;\n\tthis._bnRule = null;\n\tthis._endpointMap = null;\n\tif (arguments.length === 1) {\n\t\tlet geom = arguments[0];\n\t\tBoundaryOp.call(this, geom, BoundaryNodeRule.MOD2_BOUNDARY_RULE);\n\t} else if (arguments.length === 2) {\n\t\tlet geom = arguments[0], bnRule = arguments[1];\n\t\tthis._geom = geom;\n\t\tthis._geomFact = geom.getFactory();\n\t\tthis._bnRule = bnRule;\n\t}\n}\nextend(BoundaryOp.prototype, {\n\tboundaryMultiLineString: function (mLine) {\n\t\tif (this._geom.isEmpty()) {\n\t\t\treturn this.getEmptyMultiPoint();\n\t\t}\n\t\tvar bdyPts = this.computeBoundaryCoordinates(mLine);\n\t\tif (bdyPts.length === 1) {\n\t\t\treturn this._geomFact.createPoint(bdyPts[0]);\n\t\t}\n\t\treturn this._geomFact.createMultiPointFromCoords(bdyPts);\n\t},\n\tgetBoundary: function () {\n\t\tif (this._geom instanceof LineString) return this.boundaryLineString(this._geom);\n\t\tif (this._geom instanceof MultiLineString) return this.boundaryMultiLineString(this._geom);\n\t\treturn this._geom.getBoundary();\n\t},\n\tboundaryLineString: function (line) {\n\t\tif (this._geom.isEmpty()) {\n\t\t\treturn this.getEmptyMultiPoint();\n\t\t}\n\t\tif (line.isClosed()) {\n\t\t\tvar closedEndpointOnBoundary = this._bnRule.isInBoundary(2);\n\t\t\tif (closedEndpointOnBoundary) {\n\t\t\t\treturn line.getStartPoint();\n\t\t\t} else {\n\t\t\t\treturn this._geomFact.createMultiPoint();\n\t\t\t}\n\t\t}\n\t\treturn this._geomFact.createMultiPoint([line.getStartPoint(), line.getEndPoint()]);\n\t},\n\tgetEmptyMultiPoint: function () {\n\t\treturn this._geomFact.createMultiPoint();\n\t},\n\tcomputeBoundaryCoordinates: function (mLine) {\n\t\tvar bdyPts = new ArrayList();\n\t\tthis._endpointMap = new TreeMap();\n\t\tfor (var i = 0; i < mLine.getNumGeometries(); i++) {\n\t\t\tvar line = mLine.getGeometryN(i);\n\t\t\tif (line.getNumPoints() === 0) continue;\n\t\t\tthis.addEndpoint(line.getCoordinateN(0));\n\t\t\tthis.addEndpoint(line.getCoordinateN(line.getNumPoints() - 1));\n\t\t}\n\t\tfor (var it = this._endpointMap.entrySet().iterator(); it.hasNext(); ) {\n\t\t\tvar entry = it.next();\n\t\t\tvar counter = entry.getValue();\n\t\t\tvar valence = counter.count;\n\t\t\tif (this._bnRule.isInBoundary(valence)) {\n\t\t\t\tbdyPts.add(entry.getKey());\n\t\t\t}\n\t\t}\n\t\treturn CoordinateArrays.toCoordinateArray(bdyPts);\n\t},\n\taddEndpoint: function (pt) {\n\t\tvar counter = this._endpointMap.get(pt);\n\t\tif (counter === null) {\n\t\t\tcounter = new Counter();\n\t\t\tthis._endpointMap.put(pt, counter);\n\t\t}\n\t\tcounter.count++;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn BoundaryOp;\n\t}\n});\nBoundaryOp.getBoundary = function () {\n\tif (arguments.length === 1) {\n\t\tlet g = arguments[0];\n\t\tvar bop = new BoundaryOp(g);\n\t\treturn bop.getBoundary();\n\t} else if (arguments.length === 2) {\n\t\tlet g = arguments[0], bnRule = arguments[1];\n\t\tvar bop = new BoundaryOp(g, bnRule);\n\t\treturn bop.getBoundary();\n\t}\n};\nfunction Counter() {\n\tthis.count = null;\n}\nextend(Counter.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Counter;\n\t}\n});\n","import Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nexport default function Length() {}\nextend(Length.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Length;\n\t}\n});\nLength.ofLine = function (pts) {\n\tvar n = pts.size();\n\tif (n <= 1) return 0.0;\n\tvar len = 0.0;\n\tvar p = new Coordinate();\n\tpts.getCoordinate(0, p);\n\tvar x0 = p.x;\n\tvar y0 = p.y;\n\tfor (var i = 1; i < n; i++) {\n\t\tpts.getCoordinate(i, p);\n\t\tvar x1 = p.x;\n\t\tvar y1 = p.y;\n\t\tvar dx = x1 - x0;\n\t\tvar dy = y1 - y0;\n\t\tlen += Math.sqrt(dx * dx + dy * dy);\n\t\tx0 = x1;\n\t\ty0 = y1;\n\t}\n\treturn len;\n};\n","export default function PrintStream () {}\n","export default function StringReader () {}\n","export default function DecimalFormat () {}\n","export default function ByteArrayOutputStream () {}\n","export default function IOException () {}\n","export default function LineNumberReader () {}\n","import PrintStream from '../../../../java/io/PrintStream';\nimport StringReader from '../../../../java/io/StringReader';\nimport DecimalFormat from '../../../../java/text/DecimalFormat';\nimport extend from '../../../../extend';\nimport System from '../../../../java/lang/System';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport ByteArrayOutputStream from '../../../../java/io/ByteArrayOutputStream';\nimport Assert from './Assert';\nimport IOException from '../../../../java/io/IOException';\nimport LineNumberReader from '../../../../java/io/LineNumberReader';\nexport default function StringUtil() {}\nextend(StringUtil.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn StringUtil;\n\t}\n});\nStringUtil.chars = function (c, n) {\n\tvar ch = new Array(n).fill(null);\n\tfor (var i = 0; i < n; i++) {\n\t\tch[i] = c;\n\t}\n\treturn new String(ch);\n};\nStringUtil.getStackTrace = function () {\n\tif (arguments.length === 1) {\n\t\tlet t = arguments[0];\n\t\tvar os = new ByteArrayOutputStream();\n\t\tvar ps = new PrintStream(os);\n\t\tt.printStackTrace(ps);\n\t\treturn os.toString();\n\t} else if (arguments.length === 2) {\n\t\tlet t = arguments[0], depth = arguments[1];\n\t\tvar stackTrace = \"\";\n\t\tvar stringReader = new StringReader(StringUtil.getStackTrace(t));\n\t\tvar lineNumberReader = new LineNumberReader(stringReader);\n\t\tfor (var i = 0; i < depth; i++) {\n\t\t\ttry {\n\t\t\t\tstackTrace += lineNumberReader.readLine() + StringUtil.NEWLINE;\n\t\t\t} catch (e) {\n\t\t\t\tif (e instanceof IOException) {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t} else throw e;\n\t\t\t} finally {}\n\t\t}\n\t\treturn stackTrace;\n\t}\n};\nStringUtil.split = function (s, separator) {\n\tvar separatorlen = separator.length;\n\tvar tokenList = new ArrayList();\n\tvar tmpString = \"\" + s;\n\tvar pos = tmpString.indexOf(separator);\n\twhile (pos >= 0) {\n\t\tvar token = tmpString.substring(0, pos);\n\t\ttokenList.add(token);\n\t\ttmpString = tmpString.substring(pos + separatorlen);\n\t\tpos = tmpString.indexOf(separator);\n\t}\n\tif (tmpString.length > 0) tokenList.add(tmpString);\n\tvar res = new Array(tokenList.size()).fill(null);\n\tfor (var i = 0; i < res.length; i++) {\n\t\tres[i] = tokenList.get(i);\n\t}\n\treturn res;\n};\nStringUtil.toString = function () {\n\tif (arguments.length === 1 && typeof arguments[0] === \"number\") {\n\t\tlet d = arguments[0];\n\t\treturn StringUtil.SIMPLE_ORDINATE_FORMAT.format(d);\n\t}\n};\nStringUtil.spaces = function (n) {\n\treturn StringUtil.chars(' ', n);\n};\nStringUtil.NEWLINE = System.getProperty(\"line.separator\");\nStringUtil.SIMPLE_ORDINATE_FORMAT = new DecimalFormat(\"0.#\");\n","export default function StringBuilder (str) {\n    this.str = str\n  }\n  \n  StringBuilder.prototype.append = function (e) {\n    this.str += e\n  }\n  \n  StringBuilder.prototype.setCharAt = function (i, c) {\n    this.str = this.str.substr(0, i) + c + this.str.substr(i + 1)\n  }\n  \n  StringBuilder.prototype.toString = function (e) {\n    return this.str\n  }\n  ","import hasInterface from '../../../../hasInterface';\nimport StringUtil from '../util/StringUtil';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport CoordinateSequence from './CoordinateSequence';\nimport StringBuilder from '../../../../java/lang/StringBuilder';\nexport default function CoordinateSequences() {}\nextend(CoordinateSequences.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateSequences;\n\t}\n});\nCoordinateSequences.copyCoord = function (src, srcPos, dest, destPos) {\n\tvar minDim = Math.min(src.getDimension(), dest.getDimension());\n\tfor (var dim = 0; dim < minDim; dim++) {\n\t\tdest.setOrdinate(destPos, dim, src.getOrdinate(srcPos, dim));\n\t}\n};\nCoordinateSequences.isRing = function (seq) {\n\tvar n = seq.size();\n\tif (n === 0) return true;\n\tif (n <= 3) return false;\n\treturn seq.getOrdinate(0, CoordinateSequence.X) === seq.getOrdinate(n - 1, CoordinateSequence.X) && seq.getOrdinate(0, CoordinateSequence.Y) === seq.getOrdinate(n - 1, CoordinateSequence.Y);\n};\nCoordinateSequences.isEqual = function (cs1, cs2) {\n\tvar cs1Size = cs1.size();\n\tvar cs2Size = cs2.size();\n\tif (cs1Size !== cs2Size) return false;\n\tvar dim = Math.min(cs1.getDimension(), cs2.getDimension());\n\tfor (var i = 0; i < cs1Size; i++) {\n\t\tfor (var d = 0; d < dim; d++) {\n\t\t\tvar v1 = cs1.getOrdinate(i, d);\n\t\t\tvar v2 = cs2.getOrdinate(i, d);\n\t\t\tif (cs1.getOrdinate(i, d) === cs2.getOrdinate(i, d)) continue;\n\t\t\tif (Double.isNaN(v1) && Double.isNaN(v2)) continue;\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\nCoordinateSequences.extend = function (fact, seq, size) {\n\tvar newseq = fact.create(size, seq.getDimension());\n\tvar n = seq.size();\n\tCoordinateSequences.copy(seq, 0, newseq, 0, n);\n\tif (n > 0) {\n\t\tfor (var i = n; i < size; i++) CoordinateSequences.copy(seq, n - 1, newseq, i, 1);\n\t}\n\treturn newseq;\n};\nCoordinateSequences.reverse = function (seq) {\n\tvar last = seq.size() - 1;\n\tvar mid = Math.trunc(last / 2);\n\tfor (var i = 0; i <= mid; i++) {\n\t\tCoordinateSequences.swap(seq, i, last - i);\n\t}\n};\nCoordinateSequences.swap = function (seq, i, j) {\n\tif (i === j) return null;\n\tfor (var dim = 0; dim < seq.getDimension(); dim++) {\n\t\tvar tmp = seq.getOrdinate(i, dim);\n\t\tseq.setOrdinate(i, dim, seq.getOrdinate(j, dim));\n\t\tseq.setOrdinate(j, dim, tmp);\n\t}\n};\nCoordinateSequences.copy = function (src, srcPos, dest, destPos, length) {\n\tfor (var i = 0; i < length; i++) {\n\t\tCoordinateSequences.copyCoord(src, srcPos + i, dest, destPos + i);\n\t}\n};\nCoordinateSequences.toString = function () {\n\tif (arguments.length === 1 && hasInterface(arguments[0], CoordinateSequence)) {\n\t\tlet cs = arguments[0];\n\t\tvar size = cs.size();\n\t\tif (size === 0) return \"()\";\n\t\tvar dim = cs.getDimension();\n\t\tvar builder = new StringBuilder();\n\t\tbuilder.append('(');\n\t\tfor (var i = 0; i < size; i++) {\n\t\t\tif (i > 0) builder.append(\" \");\n\t\t\tfor (var d = 0; d < dim; d++) {\n\t\t\t\tif (d > 0) builder.append(\",\");\n\t\t\t\tbuilder.append(StringUtil.toString(cs.getOrdinate(i, d)));\n\t\t\t}\n\t\t}\n\t\tbuilder.append(')');\n\t\treturn builder.toString();\n\t}\n};\nCoordinateSequences.ensureValidRing = function (fact, seq) {\n\tvar n = seq.size();\n\tif (n === 0) return seq;\n\tif (n <= 3) return CoordinateSequences.createClosedRing(fact, seq, 4);\n\tvar isClosed = seq.getOrdinate(0, CoordinateSequence.X) === seq.getOrdinate(n - 1, CoordinateSequence.X) && seq.getOrdinate(0, CoordinateSequence.Y) === seq.getOrdinate(n - 1, CoordinateSequence.Y);\n\tif (isClosed) return seq;\n\treturn CoordinateSequences.createClosedRing(fact, seq, n + 1);\n};\nCoordinateSequences.createClosedRing = function (fact, seq, size) {\n\tvar newseq = fact.create(size, seq.getDimension());\n\tvar n = seq.size();\n\tCoordinateSequences.copy(seq, 0, newseq, 0, n);\n\tfor (var i = n; i < size; i++) CoordinateSequences.copy(seq, 0, newseq, i, 1);\n\treturn newseq;\n};\n","import Geometry from './Geometry';\nimport CoordinateFilter from './CoordinateFilter';\nimport hasInterface from '../../../../hasInterface';\nimport BoundaryOp from '../operation/BoundaryOp';\nimport Length from '../algorithm/Length';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport Lineal from './Lineal';\nimport CoordinateSequences from './CoordinateSequences';\nimport GeometryComponentFilter from './GeometryComponentFilter';\nimport Dimension from './Dimension';\nimport GeometryFilter from './GeometryFilter';\nimport CoordinateSequenceFilter from './CoordinateSequenceFilter';\nimport Envelope from './Envelope';\nimport inherits from '../../../../inherits';\nexport default function LineString() {\n\tthis._points = null;\n\tlet points = arguments[0], factory = arguments[1];\n\tGeometry.call(this, factory);\n\tthis.init(points);\n}\ninherits(LineString, Geometry);\nextend(LineString.prototype, {\n\tcomputeEnvelopeInternal: function () {\n\t\tif (this.isEmpty()) {\n\t\t\treturn new Envelope();\n\t\t}\n\t\treturn this._points.expandEnvelope(new Envelope());\n\t},\n\tisRing: function () {\n\t\treturn this.isClosed() && this.isSimple();\n\t},\n\tgetCoordinates: function () {\n\t\treturn this._points.toCoordinateArray();\n\t},\n\tequalsExact: function () {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar otherLineString = other;\n\t\t\tif (this._points.size() !== otherLineString._points.size()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\t\tif (!this.equal(this._points.getCoordinate(i), otherLineString._points.getCoordinate(i), tolerance)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else return Geometry.prototype.equalsExact.apply(this, arguments);\n\t},\n\tnormalize: function () {\n\t\tfor (var i = 0; i < Math.trunc(this._points.size() / 2); i++) {\n\t\t\tvar j = this._points.size() - 1 - i;\n\t\t\tif (!this._points.getCoordinate(i).equals(this._points.getCoordinate(j))) {\n\t\t\t\tif (this._points.getCoordinate(i).compareTo(this._points.getCoordinate(j)) > 0) {\n\t\t\t\t\tvar copy = this._points.copy();\n\t\t\t\t\tCoordinateSequences.reverse(copy);\n\t\t\t\t\tthis._points = copy;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinate: function () {\n\t\tif (this.isEmpty()) return null;\n\t\treturn this._points.getCoordinate(0);\n\t},\n\tgetBoundaryDimension: function () {\n\t\tif (this.isClosed()) {\n\t\t\treturn Dimension.FALSE;\n\t\t}\n\t\treturn 0;\n\t},\n\tisClosed: function () {\n\t\tif (this.isEmpty()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints() - 1));\n\t},\n\tgetEndPoint: function () {\n\t\tif (this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.getPointN(this.getNumPoints() - 1);\n\t},\n\tgetTypeCode: function () {\n\t\treturn Geometry.TYPECODE_LINESTRING;\n\t},\n\tgetDimension: function () {\n\t\treturn 1;\n\t},\n\tgetLength: function () {\n\t\treturn Length.ofLine(this._points);\n\t},\n\tgetNumPoints: function () {\n\t\treturn this._points.size();\n\t},\n\treverse: function () {\n\t\tvar seq = this._points.copy();\n\t\tCoordinateSequences.reverse(seq);\n\t\tvar revLine = this.getFactory().createLineString(seq);\n\t\treturn revLine;\n\t},\n\tcompareToSameClass: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet o = arguments[0];\n\t\t\tvar line = o;\n\t\t\tvar i = 0;\n\t\t\tvar j = 0;\n\t\t\twhile (i < this._points.size() && j < line._points.size()) {\n\t\t\t\tvar comparison = this._points.getCoordinate(i).compareTo(line._points.getCoordinate(j));\n\t\t\t\tif (comparison !== 0) {\n\t\t\t\t\treturn comparison;\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tj++;\n\t\t\t}\n\t\t\tif (i < this._points.size()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (j < line._points.size()) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet o = arguments[0], comp = arguments[1];\n\t\t\tvar line = o;\n\t\t\treturn comp.compare(this._points, line._points);\n\t\t}\n\t},\n\tapply: function () {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\t\tfilter.filter(this._points.getCoordinate(i));\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tif (this._points.size() === 0) return null;\n\t\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\t\tfilter.filter(this._points, i);\n\t\t\t\tif (filter.isDone()) break;\n\t\t\t}\n\t\t\tif (filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t}\n\t},\n\tgetBoundary: function () {\n\t\treturn new BoundaryOp(this).getBoundary();\n\t},\n\tisEquivalentClass: function (other) {\n\t\treturn other instanceof LineString;\n\t},\n\tgetCoordinateN: function (n) {\n\t\treturn this._points.getCoordinate(n);\n\t},\n\tgetGeometryType: function () {\n\t\treturn Geometry.TYPENAME_LINESTRING;\n\t},\n\tcopy: function () {\n\t\treturn new LineString(this._points.copy(), this._factory);\n\t},\n\tgetCoordinateSequence: function () {\n\t\treturn this._points;\n\t},\n\tisEmpty: function () {\n\t\treturn this._points.size() === 0;\n\t},\n\tinit: function (points) {\n\t\tif (points === null) {\n\t\t\tpoints = this.getFactory().getCoordinateSequenceFactory().create([]);\n\t\t}\n\t\tif (points.size() === 1) {\n\t\t\tthrow new IllegalArgumentException(\"Invalid number of points in LineString (found \" + points.size() + \" - must be 0 or >= 2)\");\n\t\t}\n\t\tthis._points = points;\n\t},\n\tisCoordinate: function (pt) {\n\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\tif (this._points.getCoordinate(i).equals(pt)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tgetStartPoint: function () {\n\t\tif (this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.getPointN(0);\n\t},\n\tgetPointN: function (n) {\n\t\treturn this.getFactory().createPoint(this._points.getCoordinate(n));\n\t},\n\tinterfaces_: function () {\n\t\treturn [Lineal];\n\t},\n\tgetClass: function () {\n\t\treturn LineString;\n\t}\n});\nLineString.serialVersionUID = 3110669828065365560;\n","import extend from '../../../../extend';\nexport default function Puntal() {}\nextend(Puntal.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Puntal;\n\t}\n});\n","import Geometry from './Geometry';\nimport CoordinateFilter from './CoordinateFilter';\nimport hasInterface from '../../../../hasInterface';\nimport extend from '../../../../extend';\nimport GeometryComponentFilter from './GeometryComponentFilter';\nimport Dimension from './Dimension';\nimport GeometryFilter from './GeometryFilter';\nimport CoordinateSequenceFilter from './CoordinateSequenceFilter';\nimport Puntal from './Puntal';\nimport Envelope from './Envelope';\nimport Assert from '../util/Assert';\nimport inherits from '../../../../inherits';\nexport default function Point() {\n\tthis._coordinates = null;\n\tlet coordinates = arguments[0], factory = arguments[1];\n\tGeometry.call(this, factory);\n\tthis.init(coordinates);\n}\ninherits(Point, Geometry);\nextend(Point.prototype, {\n\tcomputeEnvelopeInternal: function () {\n\t\tif (this.isEmpty()) {\n\t\t\treturn new Envelope();\n\t\t}\n\t\tvar env = new Envelope();\n\t\tenv.expandToInclude(this._coordinates.getX(0), this._coordinates.getY(0));\n\t\treturn env;\n\t},\n\tgetCoordinates: function () {\n\t\treturn this.isEmpty() ? [] : [this.getCoordinate()];\n\t},\n\tequalsExact: function () {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.isEmpty() && other.isEmpty()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (this.isEmpty() !== other.isEmpty()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn this.equal(other.getCoordinate(), this.getCoordinate(), tolerance);\n\t\t} else return Geometry.prototype.equalsExact.apply(this, arguments);\n\t},\n\tnormalize: function () {},\n\tgetCoordinate: function () {\n\t\treturn this._coordinates.size() !== 0 ? this._coordinates.getCoordinate(0) : null;\n\t},\n\tgetBoundaryDimension: function () {\n\t\treturn Dimension.FALSE;\n\t},\n\tgetTypeCode: function () {\n\t\treturn Geometry.TYPECODE_POINT;\n\t},\n\tgetDimension: function () {\n\t\treturn 0;\n\t},\n\tgetNumPoints: function () {\n\t\treturn this.isEmpty() ? 0 : 1;\n\t},\n\treverse: function () {\n\t\treturn this.copy();\n\t},\n\tgetX: function () {\n\t\tif (this.getCoordinate() === null) {\n\t\t\tthrow new IllegalStateException(\"getX called on empty Point\");\n\t\t}\n\t\treturn this.getCoordinate().x;\n\t},\n\tcompareToSameClass: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet other = arguments[0];\n\t\t\tvar point = other;\n\t\t\treturn this.getCoordinate().compareTo(point.getCoordinate());\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet other = arguments[0], comp = arguments[1];\n\t\t\tvar point = other;\n\t\t\treturn comp.compare(this._coordinates, point._coordinates);\n\t\t}\n\t},\n\tapply: function () {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tfilter.filter(this.getCoordinate());\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tif (this.isEmpty()) return null;\n\t\t\tfilter.filter(this._coordinates, 0);\n\t\t\tif (filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t}\n\t},\n\tgetBoundary: function () {\n\t\treturn this.getFactory().createGeometryCollection();\n\t},\n\tgetGeometryType: function () {\n\t\treturn Geometry.TYPENAME_POINT;\n\t},\n\tcopy: function () {\n\t\treturn new Point(this._coordinates.copy(), this._factory);\n\t},\n\tgetCoordinateSequence: function () {\n\t\treturn this._coordinates;\n\t},\n\tgetY: function () {\n\t\tif (this.getCoordinate() === null) {\n\t\t\tthrow new IllegalStateException(\"getY called on empty Point\");\n\t\t}\n\t\treturn this.getCoordinate().y;\n\t},\n\tisEmpty: function () {\n\t\treturn this._coordinates.size() === 0;\n\t},\n\tinit: function (coordinates) {\n\t\tif (coordinates === null) {\n\t\t\tcoordinates = this.getFactory().getCoordinateSequenceFactory().create([]);\n\t\t}\n\t\tAssert.isTrue(coordinates.size() <= 1);\n\t\tthis._coordinates = coordinates;\n\t},\n\tisSimple: function () {\n\t\treturn true;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Puntal];\n\t},\n\tgetClass: function () {\n\t\treturn Point;\n\t}\n});\nPoint.serialVersionUID = 4902022702746614570;\n","import hasInterface from '../../../../hasInterface';\nimport Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport CoordinateSequence from '../geom/CoordinateSequence';\nexport default function Area() {}\nextend(Area.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Area;\n\t}\n});\nArea.ofRing = function () {\n\tif (arguments[0] instanceof Array) {\n\t\tlet ring = arguments[0];\n\t\treturn Math.abs(Area.ofRingSigned(ring));\n\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\tlet ring = arguments[0];\n\t\treturn Math.abs(Area.ofRingSigned(ring));\n\t}\n};\nArea.ofRingSigned = function () {\n\tif (arguments[0] instanceof Array) {\n\t\tlet ring = arguments[0];\n\t\tif (ring.length < 3) return 0.0;\n\t\tvar sum = 0.0;\n\t\tvar x0 = ring[0].x;\n\t\tfor (var i = 1; i < ring.length - 1; i++) {\n\t\t\tvar x = ring[i].x - x0;\n\t\t\tvar y1 = ring[i + 1].y;\n\t\t\tvar y2 = ring[i - 1].y;\n\t\t\tsum += x * (y2 - y1);\n\t\t}\n\t\treturn sum / 2.0;\n\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\tlet ring = arguments[0];\n\t\tvar n = ring.size();\n\t\tif (n < 3) return 0.0;\n\t\tvar p0 = new Coordinate();\n\t\tvar p1 = new Coordinate();\n\t\tvar p2 = new Coordinate();\n\t\tring.getCoordinate(0, p1);\n\t\tring.getCoordinate(1, p2);\n\t\tvar x0 = p1.x;\n\t\tp2.x -= x0;\n\t\tvar sum = 0.0;\n\t\tfor (var i = 1; i < n - 1; i++) {\n\t\t\tp0.y = p1.y;\n\t\t\tp1.x = p2.x;\n\t\t\tp1.y = p2.y;\n\t\t\tring.getCoordinate(i + 1, p2);\n\t\t\tp2.x -= x0;\n\t\t\tsum += p1.x * (p0.y - p2.y);\n\t\t}\n\t\treturn sum / 2.0;\n\t}\n};\n","import extend from '../../../../extend';\nexport default function Polygonal() {}\nextend(Polygonal.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Polygonal;\n\t}\n});\n","import Area from '../algorithm/Area';\nimport Geometry from './Geometry';\nimport Arrays from '../../../../java/util/Arrays';\nimport CoordinateFilter from './CoordinateFilter';\nimport hasInterface from '../../../../hasInterface';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport Orientation from '../algorithm/Orientation';\nimport System from '../../../../java/lang/System';\nimport GeometryComponentFilter from './GeometryComponentFilter';\nimport CoordinateArrays from './CoordinateArrays';\nimport Polygonal from './Polygonal';\nimport GeometryFilter from './GeometryFilter';\nimport CoordinateSequenceFilter from './CoordinateSequenceFilter';\nimport inherits from '../../../../inherits';\nexport default function Polygon() {\n\tthis._shell = null;\n\tthis._holes = null;\n\tlet shell = arguments[0], holes = arguments[1], factory = arguments[2];\n\tGeometry.call(this, factory);\n\tif (shell === null) {\n\t\tshell = this.getFactory().createLinearRing();\n\t}\n\tif (holes === null) {\n\t\tholes = [];\n\t}\n\tif (Geometry.hasNullElements(holes)) {\n\t\tthrow new IllegalArgumentException(\"holes must not contain null elements\");\n\t}\n\tif (shell.isEmpty() && Geometry.hasNonEmptyElements(holes)) {\n\t\tthrow new IllegalArgumentException(\"shell is empty but holes are not\");\n\t}\n\tthis._shell = shell;\n\tthis._holes = holes;\n}\ninherits(Polygon, Geometry);\nextend(Polygon.prototype, {\n\tcomputeEnvelopeInternal: function () {\n\t\treturn this._shell.getEnvelopeInternal();\n\t},\n\tgetCoordinates: function () {\n\t\tif (this.isEmpty()) {\n\t\t\treturn [];\n\t\t}\n\t\tvar coordinates = new Array(this.getNumPoints()).fill(null);\n\t\tvar k = -1;\n\t\tvar shellCoordinates = this._shell.getCoordinates();\n\t\tfor (var x = 0; x < shellCoordinates.length; x++) {\n\t\t\tk++;\n\t\t\tcoordinates[k] = shellCoordinates[x];\n\t\t}\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tvar childCoordinates = this._holes[i].getCoordinates();\n\t\t\tfor (var j = 0; j < childCoordinates.length; j++) {\n\t\t\t\tk++;\n\t\t\t\tcoordinates[k] = childCoordinates[j];\n\t\t\t}\n\t\t}\n\t\treturn coordinates;\n\t},\n\tgetArea: function () {\n\t\tvar area = 0.0;\n\t\tarea += Area.ofRing(this._shell.getCoordinateSequence());\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tarea -= Area.ofRing(this._holes[i].getCoordinateSequence());\n\t\t}\n\t\treturn area;\n\t},\n\tisRectangle: function () {\n\t\tif (this.getNumInteriorRing() !== 0) return false;\n\t\tif (this._shell === null) return false;\n\t\tif (this._shell.getNumPoints() !== 5) return false;\n\t\tvar seq = this._shell.getCoordinateSequence();\n\t\tvar env = this.getEnvelopeInternal();\n\t\tfor (var i = 0; i < 5; i++) {\n\t\t\tvar x = seq.getX(i);\n\t\t\tif (!(x === env.getMinX() || x === env.getMaxX())) return false;\n\t\t\tvar y = seq.getY(i);\n\t\t\tif (!(y === env.getMinY() || y === env.getMaxY())) return false;\n\t\t}\n\t\tvar prevX = seq.getX(0);\n\t\tvar prevY = seq.getY(0);\n\t\tfor (var i = 1; i <= 4; i++) {\n\t\t\tvar x = seq.getX(i);\n\t\t\tvar y = seq.getY(i);\n\t\t\tvar xChanged = x !== prevX;\n\t\t\tvar yChanged = y !== prevY;\n\t\t\tif (xChanged === yChanged) return false;\n\t\t\tprevX = x;\n\t\t\tprevY = y;\n\t\t}\n\t\treturn true;\n\t},\n\tequalsExact: function () {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar otherPolygon = other;\n\t\t\tvar thisShell = this._shell;\n\t\t\tvar otherPolygonShell = otherPolygon._shell;\n\t\t\tif (!thisShell.equalsExact(otherPolygonShell, tolerance)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this._holes.length !== otherPolygon._holes.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tif (!this._holes[i].equalsExact(otherPolygon._holes[i], tolerance)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else return Geometry.prototype.equalsExact.apply(this, arguments);\n\t},\n\tnormalize: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tthis.normalize(this._shell, true);\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tthis.normalize(this._holes[i], false);\n\t\t\t}\n\t\t\tArrays.sort(this._holes);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet ring = arguments[0], clockwise = arguments[1];\n\t\t\tif (ring.isEmpty()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar uniqueCoordinates = new Array(ring.getCoordinates().length - 1).fill(null);\n\t\t\tSystem.arraycopy(ring.getCoordinates(), 0, uniqueCoordinates, 0, uniqueCoordinates.length);\n\t\t\tvar minCoordinate = CoordinateArrays.minCoordinate(ring.getCoordinates());\n\t\t\tCoordinateArrays.scroll(uniqueCoordinates, minCoordinate);\n\t\t\tSystem.arraycopy(uniqueCoordinates, 0, ring.getCoordinates(), 0, uniqueCoordinates.length);\n\t\t\tring.getCoordinates()[uniqueCoordinates.length] = uniqueCoordinates[0];\n\t\t\tif (Orientation.isCCW(ring.getCoordinates()) === clockwise) {\n\t\t\t\tCoordinateArrays.reverse(ring.getCoordinates());\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._shell.getCoordinate();\n\t},\n\tgetNumInteriorRing: function () {\n\t\treturn this._holes.length;\n\t},\n\tgetBoundaryDimension: function () {\n\t\treturn 1;\n\t},\n\tgetTypeCode: function () {\n\t\treturn Geometry.TYPECODE_POLYGON;\n\t},\n\tgetDimension: function () {\n\t\treturn 2;\n\t},\n\tgetLength: function () {\n\t\tvar len = 0.0;\n\t\tlen += this._shell.getLength();\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tlen += this._holes[i].getLength();\n\t\t}\n\t\treturn len;\n\t},\n\tgetNumPoints: function () {\n\t\tvar numPoints = this._shell.getNumPoints();\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tnumPoints += this._holes[i].getNumPoints();\n\t\t}\n\t\treturn numPoints;\n\t},\n\treverse: function () {\n\t\tvar poly = this.copy();\n\t\tpoly._shell = this._shell.copy().reverse();\n\t\tpoly._holes = new Array(this._holes.length).fill(null);\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tpoly._holes[i] = this._holes[i].copy().reverse();\n\t\t}\n\t\treturn poly;\n\t},\n\tconvexHull: function () {\n\t\treturn this.getExteriorRing().convexHull();\n\t},\n\tcompareToSameClass: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet o = arguments[0];\n\t\t\tvar thisShell = this._shell;\n\t\t\tvar otherShell = o._shell;\n\t\t\treturn thisShell.compareToSameClass(otherShell);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet o = arguments[0], comp = arguments[1];\n\t\t\tvar poly = o;\n\t\t\tvar thisShell = this._shell;\n\t\t\tvar otherShell = poly._shell;\n\t\t\tvar shellComp = thisShell.compareToSameClass(otherShell, comp);\n\t\t\tif (shellComp !== 0) return shellComp;\n\t\t\tvar nHole1 = this.getNumInteriorRing();\n\t\t\tvar nHole2 = poly.getNumInteriorRing();\n\t\t\tvar i = 0;\n\t\t\twhile (i < nHole1 && i < nHole2) {\n\t\t\t\tvar thisHole = this.getInteriorRingN(i);\n\t\t\t\tvar otherHole = poly.getInteriorRingN(i);\n\t\t\t\tvar holeComp = thisHole.compareToSameClass(otherHole, comp);\n\t\t\t\tif (holeComp !== 0) return holeComp;\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < nHole1) return 1;\n\t\t\tif (i < nHole2) return -1;\n\t\t\treturn 0;\n\t\t}\n\t},\n\tapply: function () {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tthis._shell.apply(filter);\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tthis._holes[i].apply(filter);\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tthis._shell.apply(filter);\n\t\t\tif (!filter.isDone()) {\n\t\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\t\tthis._holes[i].apply(filter);\n\t\t\t\t\tif (filter.isDone()) break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t\tthis._shell.apply(filter);\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tthis._holes[i].apply(filter);\n\t\t\t}\n\t\t}\n\t},\n\tgetBoundary: function () {\n\t\tif (this.isEmpty()) {\n\t\t\treturn this.getFactory().createMultiLineString();\n\t\t}\n\t\tvar rings = new Array(this._holes.length + 1).fill(null);\n\t\trings[0] = this._shell;\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\trings[i + 1] = this._holes[i];\n\t\t}\n\t\tif (rings.length <= 1) return this.getFactory().createLinearRing(rings[0].getCoordinateSequence());\n\t\treturn this.getFactory().createMultiLineString(rings);\n\t},\n\tgetGeometryType: function () {\n\t\treturn Geometry.TYPENAME_POLYGON;\n\t},\n\tcopy: function () {\n\t\tvar shellCopy = this._shell.copy();\n\t\tvar holeCopies = new Array(this._holes.length).fill(null);\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tholeCopies[i] = this._holes[i].copy();\n\t\t}\n\t\treturn new Polygon(shellCopy, holeCopies, this._factory);\n\t},\n\tgetExteriorRing: function () {\n\t\treturn this._shell;\n\t},\n\tisEmpty: function () {\n\t\treturn this._shell.isEmpty();\n\t},\n\tgetInteriorRingN: function (n) {\n\t\treturn this._holes[n];\n\t},\n\tinterfaces_: function () {\n\t\treturn [Polygonal];\n\t},\n\tgetClass: function () {\n\t\treturn Polygon;\n\t}\n});\nPolygon.serialVersionUID = -3494792200821764533;\n","import Geometry from './Geometry';\nimport extend from '../../../../extend';\nimport GeometryCollection from './GeometryCollection';\nimport Dimension from './Dimension';\nimport Puntal from './Puntal';\nimport inherits from '../../../../inherits';\nexport default function MultiPoint() {\n\tlet points = arguments[0], factory = arguments[1];\n\tGeometryCollection.call(this, points, factory);\n}\ninherits(MultiPoint, GeometryCollection);\nextend(MultiPoint.prototype, {\n\tisValid: function () {\n\t\treturn true;\n\t},\n\tequalsExact: function () {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn GeometryCollection.prototype.equalsExact.call(this, other, tolerance);\n\t\t} else return GeometryCollection.prototype.equalsExact.apply(this, arguments);\n\t},\n\tgetCoordinate: function () {\n\t\tif (arguments.length === 1 && Number.isInteger(arguments[0])) {\n\t\t\tlet n = arguments[0];\n\t\t\treturn this._geometries[n].getCoordinate();\n\t\t} else return GeometryCollection.prototype.getCoordinate.apply(this, arguments);\n\t},\n\tgetBoundaryDimension: function () {\n\t\treturn Dimension.FALSE;\n\t},\n\tgetTypeCode: function () {\n\t\treturn Geometry.TYPECODE_MULTIPOINT;\n\t},\n\tgetDimension: function () {\n\t\treturn 0;\n\t},\n\tgetBoundary: function () {\n\t\treturn this.getFactory().createGeometryCollection();\n\t},\n\tgetGeometryType: function () {\n\t\treturn Geometry.TYPENAME_MULTIPOINT;\n\t},\n\tcopy: function () {\n\t\tvar points = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < points.length; i++) {\n\t\t\tpoints[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new MultiPoint(points, this._factory);\n\t},\n\tinterfaces_: function () {\n\t\treturn [Puntal];\n\t},\n\tgetClass: function () {\n\t\treturn MultiPoint;\n\t}\n});\nMultiPoint.serialVersionUID = -8048474874175355449;\n","import LineString from './LineString';\nimport Geometry from './Geometry';\nimport hasInterface from '../../../../hasInterface';\nimport GeometryFactory from './GeometryFactory';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport CoordinateSequences from './CoordinateSequences';\nimport CoordinateSequence from './CoordinateSequence';\nimport Dimension from './Dimension';\nimport inherits from '../../../../inherits';\nexport default function LinearRing() {\n\tif (arguments[0] instanceof Array && arguments[1] instanceof GeometryFactory) {\n\t\tlet points = arguments[0], factory = arguments[1];\n\t\tLinearRing.call(this, factory.getCoordinateSequenceFactory().create(points), factory);\n\t} else if (hasInterface(arguments[0], CoordinateSequence) && arguments[1] instanceof GeometryFactory) {\n\t\tlet points = arguments[0], factory = arguments[1];\n\t\tLineString.call(this, points, factory);\n\t\tthis.validateConstruction();\n\t}\n}\ninherits(LinearRing, LineString);\nextend(LinearRing.prototype, {\n\tgetBoundaryDimension: function () {\n\t\treturn Dimension.FALSE;\n\t},\n\tisClosed: function () {\n\t\tif (this.isEmpty()) {\n\t\t\treturn true;\n\t\t}\n\t\treturn LineString.prototype.isClosed.call(this);\n\t},\n\tgetTypeCode: function () {\n\t\treturn Geometry.TYPECODE_LINEARRING;\n\t},\n\treverse: function () {\n\t\tvar seq = this._points.copy();\n\t\tCoordinateSequences.reverse(seq);\n\t\tvar rev = this.getFactory().createLinearRing(seq);\n\t\treturn rev;\n\t},\n\tvalidateConstruction: function () {\n\t\tif (!this.isEmpty() && !LineString.prototype.isClosed.call(this)) {\n\t\t\tthrow new IllegalArgumentException(\"Points of LinearRing do not form a closed linestring\");\n\t\t}\n\t\tif (this.getCoordinateSequence().size() >= 1 && this.getCoordinateSequence().size() < LinearRing.MINIMUM_VALID_SIZE) {\n\t\t\tthrow new IllegalArgumentException(\"Invalid number of points in LinearRing (found \" + this.getCoordinateSequence().size() + \" - must be 0 or >= 4)\");\n\t\t}\n\t},\n\tgetGeometryType: function () {\n\t\treturn Geometry.TYPENAME_LINEARRING;\n\t},\n\tcopy: function () {\n\t\treturn new LinearRing(this._points.copy(), this._factory);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LinearRing;\n\t}\n});\nLinearRing.MINIMUM_VALID_SIZE = 4;\nLinearRing.serialVersionUID = -4261142084085851829;\n","import Geometry from './Geometry';\nimport extend from '../../../../extend';\nimport GeometryCollection from './GeometryCollection';\nimport Polygonal from './Polygonal';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport inherits from '../../../../inherits';\nexport default function MultiPolygon() {\n\tlet polygons = arguments[0], factory = arguments[1];\n\tGeometryCollection.call(this, polygons, factory);\n}\ninherits(MultiPolygon, GeometryCollection);\nextend(MultiPolygon.prototype, {\n\tequalsExact: function () {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn GeometryCollection.prototype.equalsExact.call(this, other, tolerance);\n\t\t} else return GeometryCollection.prototype.equalsExact.apply(this, arguments);\n\t},\n\tgetBoundaryDimension: function () {\n\t\treturn 1;\n\t},\n\tgetTypeCode: function () {\n\t\treturn Geometry.TYPECODE_MULTIPOLYGON;\n\t},\n\tgetDimension: function () {\n\t\treturn 2;\n\t},\n\treverse: function () {\n\t\tvar n = this._geometries.length;\n\t\tvar revGeoms = new Array(n).fill(null);\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\trevGeoms[i] = this._geometries[i].reverse();\n\t\t}\n\t\treturn this.getFactory().createMultiPolygon(revGeoms);\n\t},\n\tgetBoundary: function () {\n\t\tif (this.isEmpty()) {\n\t\t\treturn this.getFactory().createMultiLineString();\n\t\t}\n\t\tvar allRings = new ArrayList();\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tvar polygon = this._geometries[i];\n\t\t\tvar rings = polygon.getBoundary();\n\t\t\tfor (var j = 0; j < rings.getNumGeometries(); j++) {\n\t\t\t\tallRings.add(rings.getGeometryN(j));\n\t\t\t}\n\t\t}\n\t\tvar allRingsArray = new Array(allRings.size()).fill(null);\n\t\treturn this.getFactory().createMultiLineString(allRings.toArray(allRingsArray));\n\t},\n\tgetGeometryType: function () {\n\t\treturn Geometry.TYPENAME_MULTIPOLYGON;\n\t},\n\tcopy: function () {\n\t\tvar polygons = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < polygons.length; i++) {\n\t\t\tpolygons[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new MultiPolygon(polygons, this._factory);\n\t},\n\tinterfaces_: function () {\n\t\treturn [Polygonal];\n\t},\n\tgetClass: function () {\n\t\treturn MultiPolygon;\n\t}\n});\nMultiPolygon.serialVersionUID = -551033529766975875;\n","import LineString from '../LineString';\nimport Point from '../Point';\nimport Polygon from '../Polygon';\nimport MultiPoint from '../MultiPoint';\nimport LinearRing from '../LinearRing';\nimport extend from '../../../../../extend';\nimport MultiPolygon from '../MultiPolygon';\nimport GeometryCollection from '../GeometryCollection';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport MultiLineString from '../MultiLineString';\nexport default function GeometryEditor() {\n\tthis._factory = null;\n\tthis._isUserDataCopied = false;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet factory = arguments[0];\n\t\tthis._factory = factory;\n\t}\n}\nextend(GeometryEditor.prototype, {\n\tsetCopyUserData: function (isUserDataCopied) {\n\t\tthis._isUserDataCopied = isUserDataCopied;\n\t},\n\tedit: function (geometry, operation) {\n\t\tif (geometry === null) return null;\n\t\tvar result = this.editInternal(geometry, operation);\n\t\tif (this._isUserDataCopied) {\n\t\t\tresult.setUserData(geometry.getUserData());\n\t\t}\n\t\treturn result;\n\t},\n\teditInternal: function (geometry, operation) {\n\t\tif (this._factory === null) this._factory = geometry.getFactory();\n\t\tif (geometry instanceof GeometryCollection) {\n\t\t\treturn this.editGeometryCollection(geometry, operation);\n\t\t}\n\t\tif (geometry instanceof Polygon) {\n\t\t\treturn this.editPolygon(geometry, operation);\n\t\t}\n\t\tif (geometry instanceof Point) {\n\t\t\treturn operation.edit(geometry, this._factory);\n\t\t}\n\t\tif (geometry instanceof LineString) {\n\t\t\treturn operation.edit(geometry, this._factory);\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"Unsupported Geometry class: \" + geometry.getClass().getName());\n\t\treturn null;\n\t},\n\teditGeometryCollection: function (collection, operation) {\n\t\tvar collectionForType = operation.edit(collection, this._factory);\n\t\tvar geometries = new ArrayList();\n\t\tfor (var i = 0; i < collectionForType.getNumGeometries(); i++) {\n\t\t\tvar geometry = this.edit(collectionForType.getGeometryN(i), operation);\n\t\t\tif (geometry === null || geometry.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tgeometries.add(geometry);\n\t\t}\n\t\tif (collectionForType.getClass() === MultiPoint) {\n\t\t\treturn this._factory.createMultiPoint(geometries.toArray([]));\n\t\t}\n\t\tif (collectionForType.getClass() === MultiLineString) {\n\t\t\treturn this._factory.createMultiLineString(geometries.toArray([]));\n\t\t}\n\t\tif (collectionForType.getClass() === MultiPolygon) {\n\t\t\treturn this._factory.createMultiPolygon(geometries.toArray([]));\n\t\t}\n\t\treturn this._factory.createGeometryCollection(geometries.toArray([]));\n\t},\n\teditPolygon: function (polygon, operation) {\n\t\tvar newPolygon = operation.edit(polygon, this._factory);\n\t\tif (newPolygon === null) newPolygon = this._factory.createPolygon();\n\t\tif (newPolygon.isEmpty()) {\n\t\t\treturn newPolygon;\n\t\t}\n\t\tvar shell = this.edit(newPolygon.getExteriorRing(), operation);\n\t\tif (shell === null || shell.isEmpty()) {\n\t\t\treturn this._factory.createPolygon();\n\t\t}\n\t\tvar holes = new ArrayList();\n\t\tfor (var i = 0; i < newPolygon.getNumInteriorRing(); i++) {\n\t\t\tvar hole = this.edit(newPolygon.getInteriorRingN(i), operation);\n\t\t\tif (hole === null || hole.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tholes.add(hole);\n\t\t}\n\t\treturn this._factory.createPolygon(shell, holes.toArray([]));\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryEditor;\n\t}\n});\nfunction GeometryEditorOperation() {}\nGeometryEditor.GeometryEditorOperation = GeometryEditorOperation;\nfunction NoOpGeometryOperation() {}\nextend(NoOpGeometryOperation.prototype, {\n\tedit: function (geometry, factory) {\n\t\treturn geometry;\n\t},\n\tinterfaces_: function () {\n\t\treturn [GeometryEditorOperation];\n\t},\n\tgetClass: function () {\n\t\treturn NoOpGeometryOperation;\n\t}\n});\nfunction CoordinateOperation() {}\nextend(CoordinateOperation.prototype, {\n\tedit: function (geometry, factory) {\n\t\tvar coordinates = this.edit(geometry.getCoordinates(), geometry);\n\t\tif (geometry instanceof LinearRing) {\n\t\t\tif (coordinates === null) return factory.createLinearRing(); else return factory.createLinearRing(coordinates);\n\t\t}\n\t\tif (geometry instanceof LineString) {\n\t\t\tif (coordinates === null) return factory.createLineString(); else return factory.createLineString(coordinates);\n\t\t}\n\t\tif (geometry instanceof Point) {\n\t\t\tif (coordinates === null || coordinates.length === 0) return factory.createPoint(); else return factory.createPoint(coordinates[0]);\n\t\t}\n\t\treturn geometry;\n\t},\n\tinterfaces_: function () {\n\t\treturn [GeometryEditorOperation];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateOperation;\n\t}\n});\nfunction CoordinateSequenceOperation() {}\nextend(CoordinateSequenceOperation.prototype, {\n\tedit: function (geometry, factory) {\n\t\tif (geometry instanceof LinearRing) {\n\t\t\treturn factory.createLinearRing(this.edit(geometry.getCoordinateSequence(), geometry));\n\t\t}\n\t\tif (geometry instanceof LineString) {\n\t\t\treturn factory.createLineString(this.edit(geometry.getCoordinateSequence(), geometry));\n\t\t}\n\t\tif (geometry instanceof Point) {\n\t\t\treturn factory.createPoint(this.edit(geometry.getCoordinateSequence(), geometry));\n\t\t}\n\t\treturn geometry;\n\t},\n\tinterfaces_: function () {\n\t\treturn [GeometryEditorOperation];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateSequenceOperation;\n\t}\n});\nGeometryEditor.NoOpGeometryOperation = NoOpGeometryOperation;\nGeometryEditor.CoordinateOperation = CoordinateOperation;\nGeometryEditor.CoordinateSequenceOperation = CoordinateSequenceOperation;\n","import hasInterface from '../../../../../hasInterface';\nimport Coordinate from '../Coordinate';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport Double from '../../../../../java/lang/Double';\nimport extend from '../../../../../extend';\nimport CoordinateSequence from '../CoordinateSequence';\nimport Serializable from '../../../../../java/io/Serializable';\nimport StringBuilder from '../../../../../java/lang/StringBuilder';\nexport default function CoordinateArraySequence() {\n\tthis._dimension = 3;\n\tthis._coordinates = null;\n\tif (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tlet coordinates = arguments[0];\n\t\t\tCoordinateArraySequence.call(this, coordinates, 3);\n\t\t} else if (Number.isInteger(arguments[0])) {\n\t\t\tlet size = arguments[0];\n\t\t\tthis._coordinates = new Array(size).fill(null);\n\t\t\tfor (var i = 0; i < size; i++) {\n\t\t\t\tthis._coordinates[i] = new Coordinate();\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\tlet coordSeq = arguments[0];\n\t\t\tif (coordSeq === null) {\n\t\t\t\tthis._coordinates = new Array(0).fill(null);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._dimension = coordSeq.getDimension();\n\t\t\tthis._coordinates = new Array(coordSeq.size()).fill(null);\n\t\t\tfor (var i = 0; i < this._coordinates.length; i++) {\n\t\t\t\tthis._coordinates[i] = coordSeq.getCoordinateCopy(i);\n\t\t\t}\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tif (arguments[0] instanceof Array && Number.isInteger(arguments[1])) {\n\t\t\tlet coordinates = arguments[0], dimension = arguments[1];\n\t\t\tthis._coordinates = coordinates;\n\t\t\tthis._dimension = dimension;\n\t\t\tif (coordinates === null) this._coordinates = new Array(0).fill(null);\n\t\t} else if (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {\n\t\t\tlet size = arguments[0], dimension = arguments[1];\n\t\t\tthis._coordinates = new Array(size).fill(null);\n\t\t\tthis._dimension = dimension;\n\t\t\tfor (var i = 0; i < size; i++) {\n\t\t\t\tthis._coordinates[i] = new Coordinate();\n\t\t\t}\n\t\t}\n\t}\n}\nextend(CoordinateArraySequence.prototype, {\n\tsetOrdinate: function (index, ordinateIndex, value) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase CoordinateSequence.X:\n\t\t\t\tthis._coordinates[index].x = value;\n\t\t\t\tbreak;\n\t\t\tcase CoordinateSequence.Y:\n\t\t\t\tthis._coordinates[index].y = value;\n\t\t\t\tbreak;\n\t\t\tcase CoordinateSequence.Z:\n\t\t\t\tthis._coordinates[index].z = value;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new IllegalArgumentException(\"invalid ordinateIndex\");\n\t\t}\n\t},\n\tsize: function () {\n\t\treturn this._coordinates.length;\n\t},\n\tgetOrdinate: function (index, ordinateIndex) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase CoordinateSequence.X:\n\t\t\t\treturn this._coordinates[index].x;\n\t\t\tcase CoordinateSequence.Y:\n\t\t\t\treturn this._coordinates[index].y;\n\t\t\tcase CoordinateSequence.Z:\n\t\t\t\treturn this._coordinates[index].z;\n\t\t}\n\t\treturn Double.NaN;\n\t},\n\tgetCoordinate: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet i = arguments[0];\n\t\t\treturn this._coordinates[i];\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet index = arguments[0], coord = arguments[1];\n\t\t\tcoord.x = this._coordinates[index].x;\n\t\t\tcoord.y = this._coordinates[index].y;\n\t\t\tcoord.z = this._coordinates[index].z;\n\t\t}\n\t},\n\tgetCoordinateCopy: function (i) {\n\t\treturn new Coordinate(this._coordinates[i]);\n\t},\n\tgetDimension: function () {\n\t\treturn this._dimension;\n\t},\n\tgetX: function (index) {\n\t\treturn this._coordinates[index].x;\n\t},\n\texpandEnvelope: function (env) {\n\t\tfor (var i = 0; i < this._coordinates.length; i++) {\n\t\t\tenv.expandToInclude(this._coordinates[i]);\n\t\t}\n\t\treturn env;\n\t},\n\tcopy: function () {\n\t\tvar cloneCoordinates = new Array(this.size()).fill(null);\n\t\tfor (var i = 0; i < this._coordinates.length; i++) {\n\t\t\tcloneCoordinates[i] = this._coordinates[i].copy();\n\t\t}\n\t\treturn new CoordinateArraySequence(cloneCoordinates, this._dimension);\n\t},\n\ttoString: function () {\n\t\tif (this._coordinates.length > 0) {\n\t\t\tvar strBuilder = new StringBuilder(17 * this._coordinates.length);\n\t\t\tstrBuilder.append('(');\n\t\t\tstrBuilder.append(this._coordinates[0]);\n\t\t\tfor (var i = 1; i < this._coordinates.length; i++) {\n\t\t\t\tstrBuilder.append(\", \");\n\t\t\t\tstrBuilder.append(this._coordinates[i]);\n\t\t\t}\n\t\t\tstrBuilder.append(')');\n\t\t\treturn strBuilder.toString();\n\t\t} else {\n\t\t\treturn \"()\";\n\t\t}\n\t},\n\tgetY: function (index) {\n\t\treturn this._coordinates[index].y;\n\t},\n\ttoCoordinateArray: function () {\n\t\treturn this._coordinates;\n\t},\n\tinterfaces_: function () {\n\t\treturn [CoordinateSequence, Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateArraySequence;\n\t}\n});\nCoordinateArraySequence.serialVersionUID = -915438501601840650;\n","import CoordinateSequenceFactory from '../CoordinateSequenceFactory';\nimport hasInterface from '../../../../../hasInterface';\nimport CoordinateArraySequence from './CoordinateArraySequence';\nimport extend from '../../../../../extend';\nimport CoordinateSequence from '../CoordinateSequence';\nimport Serializable from '../../../../../java/io/Serializable';\nexport default function CoordinateArraySequenceFactory() {}\nextend(CoordinateArraySequenceFactory.prototype, {\n\treadResolve: function () {\n\t\treturn CoordinateArraySequenceFactory.instance();\n\t},\n\tcreate: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn new CoordinateArraySequence(coordinates);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordSeq = arguments[0];\n\t\t\t\treturn new CoordinateArraySequence(coordSeq);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet size = arguments[0], dimension = arguments[1];\n\t\t\tif (dimension > 3) dimension = 3;\n\t\t\tif (dimension < 2) return new CoordinateArraySequence(size);\n\t\t\treturn new CoordinateArraySequence(size, dimension);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [CoordinateSequenceFactory, Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn CoordinateArraySequenceFactory;\n\t}\n});\nCoordinateArraySequenceFactory.instance = function () {\n\treturn CoordinateArraySequenceFactory.instanceObject;\n};\nCoordinateArraySequenceFactory.serialVersionUID = -4099577099607551657;\nCoordinateArraySequenceFactory.instanceObject = new CoordinateArraySequenceFactory();\n","// shared pointer\nvar i\n// shortcuts\nvar defineProperty = Object.defineProperty\nfunction is (a, b) { return (a === b) || (a !== a && b !== b) } // eslint-disable-line\n\nexport default createCollection({\n  // WeakMap#delete(key:void*):boolean\n  'delete': sharedDelete,\n  // :was Map#get(key:void*[, d3fault:void*]):void*\n  // Map#has(key:void*):boolean\n  has: mapHas,\n  // Map#get(key:void*):boolean\n  get: sharedGet,\n  // Map#set(key:void*, value:void*):void\n  set: sharedSet,\n  // Map#keys(void):Iterator\n  keys: sharedKeys,\n  // Map#values(void):Iterator\n  values: sharedValues,\n  // Map#entries(void):Iterator\n  entries: mapEntries,\n  // Map#forEach(callback:Function, context:void*):void ==> callback.call(context, key, value, mapObject) === not in specs`\n  forEach: sharedForEach,\n  // Map#clear():\n  clear: sharedClear\n})\n\nfunction createCollection (proto, objectOnly) {\n  function Collection (a) {\n    if (!this || this.constructor !== Collection) return new Collection(a)\n    this._keys = []\n    this._values = []\n    this._itp = [] // iteration pointers\n    this.objectOnly = objectOnly\n\n    // parse initial iterable argument passed\n    if (a) init.call(this, a)\n  }\n\n  // define size for non object-only collections\n  if (!objectOnly) {\n    defineProperty(proto, 'size', {\n      get: sharedSize\n    })\n  }\n\n  // set prototype\n  proto.constructor = Collection\n  Collection.prototype = proto\n\n  return Collection\n}\n\nfunction init (a) {\n  // init Set argument, like `[1,2,3,{}]`\n  if (this.add) a.forEach(this.add, this)\n  // init Map argument like `[[1,2], [{}, 4]]`\n  else a.forEach(function (a) { this.set(a[0], a[1]) }, this)\n}\n\nfunction sharedDelete (key) {\n  if (this.has(key)) {\n    this._keys.splice(i, 1)\n    this._values.splice(i, 1)\n    // update iteration pointers\n    this._itp.forEach(function (p) { if (i < p[0]) p[0]-- })\n  }\n  // Aurora here does it while Canary doesn't\n  return i > -1\n}\n\nfunction sharedGet (key) {\n  return this.has(key) ? this._values[i] : undefined\n}\n\nfunction has (list, key) {\n  if (this.objectOnly && key !== Object(key)) throw new TypeError('Invalid value used as weak collection key')\n  // NaN or 0 passed\n  if (key !== key || key === 0) for (i = list.length; i-- && !is(list[i], key);) {} // eslint-disable-line\n  else i = list.indexOf(key)\n  return i > -1\n}\n\nfunction mapHas (value) {\n  return has.call(this, this._keys, value)\n}\n\nfunction sharedSet (key, value) {\n  this.has(key) ? this._values[i] = value : this._values[this._keys.push(key) - 1] = value\n  return this\n}\n\nfunction sharedClear () {\n  (this._keys || 0).length =\n    this._values.length = 0\n}\n\nfunction sharedKeys () {\n  return sharedIterator(this._itp, this._keys)\n}\n\nfunction sharedValues () {\n  return sharedIterator(this._itp, this._values)\n}\n\nfunction mapEntries () {\n  return sharedIterator(this._itp, this._keys, this._values)\n}\n\nfunction sharedIterator (itp, array, array2) {\n  var p = [0]\n  var done = false\n  itp.push(p)\n  return {\n    next: function () {\n      var v\n      var k = p[0]\n      if (!done && k < array.length) {\n        v = array2 ? [array[k], array2[k]] : array[k]\n        p[0]++\n      } else {\n        done = true\n        itp.splice(itp.indexOf(p), 1)\n      }\n      return { done: done, value: v }\n    }\n  }\n}\n\nfunction sharedSize () {\n  return this._values.length\n}\n\nfunction sharedForEach (callback, context) {\n  var it = this.entries()\n  for (;;) {\n    var r = it.next()\n    if (r.done) break\n    callback.call(context, r.value[1], r.value[0], this)\n  }\n}\n","import ArrayList from './ArrayList'\nimport MapInterface from './Map'\nimport HashSet from './HashSet'\nimport MapPolyfill from '../../Map'\n\nlet MapImpl = typeof Map === 'undefined' || !Map.prototype.values ? MapPolyfill : Map\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html\n *\n * @extends {javascript.util.Map}\n * @constructor\n * @private\n */\nexport default function HashMap () {\n  /**\n   * @type {Object}\n   * @private\n  */\n  this.map_ = new MapImpl()\n}\nHashMap.prototype = new MapInterface()\n\n/**\n * @override\n */\nHashMap.prototype.get = function (key) {\n  return this.map_.get(key) || null\n}\n\n/**\n * @override\n */\nHashMap.prototype.put = function (key, value) {\n  this.map_.set(key, value)\n  return value\n}\n\n/**\n * @override\n */\nHashMap.prototype.values = function () {\n  const arrayList = new ArrayList()\n  const it = this.map_.values()\n  let o = it.next()\n  while (!o.done) {\n    arrayList.add(o.value)\n    o = it.next()\n  }\n  return arrayList\n}\n\n/**\n * @override\n */\nHashMap.prototype.entrySet = function () {\n  const hashSet = new HashSet()\n  this.map_.entries().forEach(entry => hashSet.add(entry))\n  return hashSet\n}\n\n/**\n * @override\n */\nHashMap.prototype.size = function () {\n  return this.map_.size()\n}\n","import HashMap from '../../../../java/util/HashMap';\nimport Coordinate from './Coordinate';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport Integer from '../../../../java/lang/Integer';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Serializable from '../../../../java/io/Serializable';\nexport default function PrecisionModel() {\n\tthis._modelType = null;\n\tthis._scale = null;\n\tif (arguments.length === 0) {\n\t\tthis._modelType = PrecisionModel.FLOATING;\n\t} else if (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Type) {\n\t\t\tlet modelType = arguments[0];\n\t\t\tthis._modelType = modelType;\n\t\t\tif (modelType === PrecisionModel.FIXED) {\n\t\t\t\tthis.setScale(1.0);\n\t\t\t}\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet scale = arguments[0];\n\t\t\tthis._modelType = PrecisionModel.FIXED;\n\t\t\tthis.setScale(scale);\n\t\t} else if (arguments[0] instanceof PrecisionModel) {\n\t\t\tlet pm = arguments[0];\n\t\t\tthis._modelType = pm._modelType;\n\t\t\tthis._scale = pm._scale;\n\t\t}\n\t}\n}\nextend(PrecisionModel.prototype, {\n\tequals: function (other) {\n\t\tif (!(other instanceof PrecisionModel)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar otherPrecisionModel = other;\n\t\treturn this._modelType === otherPrecisionModel._modelType && this._scale === otherPrecisionModel._scale;\n\t},\n\tcompareTo: function (o) {\n\t\tvar other = o;\n\t\tvar sigDigits = this.getMaximumSignificantDigits();\n\t\tvar otherSigDigits = other.getMaximumSignificantDigits();\n\t\treturn new Integer(sigDigits).compareTo(new Integer(otherSigDigits));\n\t},\n\tgetScale: function () {\n\t\treturn this._scale;\n\t},\n\tisFloating: function () {\n\t\treturn this._modelType === PrecisionModel.FLOATING || this._modelType === PrecisionModel.FLOATING_SINGLE;\n\t},\n\tgetType: function () {\n\t\treturn this._modelType;\n\t},\n\ttoString: function () {\n\t\tvar description = \"UNKNOWN\";\n\t\tif (this._modelType === PrecisionModel.FLOATING) {\n\t\t\tdescription = \"Floating\";\n\t\t} else if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n\t\t\tdescription = \"Floating-Single\";\n\t\t} else if (this._modelType === PrecisionModel.FIXED) {\n\t\t\tdescription = \"Fixed (Scale=\" + this.getScale() + \")\";\n\t\t}\n\t\treturn description;\n\t},\n\tmakePrecise: function () {\n\t\tif (typeof arguments[0] === \"number\") {\n\t\t\tlet val = arguments[0];\n\t\t\tif (Double.isNaN(val)) return val;\n\t\t\tif (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n\t\t\t\tvar floatSingleVal = val;\n\t\t\t\treturn floatSingleVal;\n\t\t\t}\n\t\t\tif (this._modelType === PrecisionModel.FIXED) {\n\t\t\t\treturn Math.round(val * this._scale) / this._scale;\n\t\t\t}\n\t\t\treturn val;\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet coord = arguments[0];\n\t\t\tif (this._modelType === PrecisionModel.FLOATING) return null;\n\t\t\tcoord.x = this.makePrecise(coord.x);\n\t\t\tcoord.y = this.makePrecise(coord.y);\n\t\t}\n\t},\n\tgetMaximumSignificantDigits: function () {\n\t\tvar maxSigDigits = 16;\n\t\tif (this._modelType === PrecisionModel.FLOATING) {\n\t\t\tmaxSigDigits = 16;\n\t\t} else if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n\t\t\tmaxSigDigits = 6;\n\t\t} else if (this._modelType === PrecisionModel.FIXED) {\n\t\t\tmaxSigDigits = 1 + Math.trunc(Math.ceil(Math.log(this.getScale()) / Math.log(10)));\n\t\t}\n\t\treturn maxSigDigits;\n\t},\n\tsetScale: function (scale) {\n\t\tthis._scale = Math.abs(scale);\n\t},\n\tinterfaces_: function () {\n\t\treturn [Serializable, Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn PrecisionModel;\n\t}\n});\nPrecisionModel.mostPrecise = function (pm1, pm2) {\n\tif (pm1.compareTo(pm2) >= 0) return pm1;\n\treturn pm2;\n};\nfunction Type() {\n\tthis._name = null;\n\tlet name = arguments[0];\n\tthis._name = name;\n\tType.nameToTypeMap.put(name, this);\n}\nextend(Type.prototype, {\n\treadResolve: function () {\n\t\treturn Type.nameToTypeMap.get(this._name);\n\t},\n\ttoString: function () {\n\t\treturn this._name;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn Type;\n\t}\n});\nType.serialVersionUID = -5528602631731589822;\nType.nameToTypeMap = new HashMap();\nPrecisionModel.Type = Type;\nPrecisionModel.serialVersionUID = 7777263578777803835;\nPrecisionModel.FIXED = new Type(\"FIXED\");\nPrecisionModel.FLOATING = new Type(\"FLOATING\");\nPrecisionModel.FLOATING_SINGLE = new Type(\"FLOATING SINGLE\");\nPrecisionModel.maximumPreciseValue = 9007199254740992.0;\n","import CoordinateSequenceFactory from './CoordinateSequenceFactory';\nimport LineString from './LineString';\nimport Geometry from './Geometry';\nimport hasInterface from '../../../../hasInterface';\nimport Coordinate from './Coordinate';\nimport Point from './Point';\nimport Polygon from './Polygon';\nimport MultiPoint from './MultiPoint';\nimport GeometryEditor from './util/GeometryEditor';\nimport LinearRing from './LinearRing';\nimport extend from '../../../../extend';\nimport CoordinateArraySequenceFactory from './impl/CoordinateArraySequenceFactory';\nimport MultiPolygon from './MultiPolygon';\nimport CoordinateSequences from './CoordinateSequences';\nimport CoordinateSequence from './CoordinateSequence';\nimport GeometryCollection from './GeometryCollection';\nimport PrecisionModel from './PrecisionModel';\nimport Serializable from '../../../../java/io/Serializable';\nimport Assert from '../util/Assert';\nimport MultiLineString from './MultiLineString';\nexport default function GeometryFactory() {\n\tthis._precisionModel = null;\n\tthis._coordinateSequenceFactory = null;\n\tthis._SRID = null;\n\tif (arguments.length === 0) {\n\t\tGeometryFactory.call(this, new PrecisionModel(), 0);\n\t} else if (arguments.length === 1) {\n\t\tif (hasInterface(arguments[0], CoordinateSequenceFactory)) {\n\t\t\tlet coordinateSequenceFactory = arguments[0];\n\t\t\tGeometryFactory.call(this, new PrecisionModel(), 0, coordinateSequenceFactory);\n\t\t} else if (arguments[0] instanceof PrecisionModel) {\n\t\t\tlet precisionModel = arguments[0];\n\t\t\tGeometryFactory.call(this, precisionModel, 0, GeometryFactory.getDefaultCoordinateSequenceFactory());\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet precisionModel = arguments[0], SRID = arguments[1];\n\t\tGeometryFactory.call(this, precisionModel, SRID, GeometryFactory.getDefaultCoordinateSequenceFactory());\n\t} else if (arguments.length === 3) {\n\t\tlet precisionModel = arguments[0], SRID = arguments[1], coordinateSequenceFactory = arguments[2];\n\t\tthis._precisionModel = precisionModel;\n\t\tthis._coordinateSequenceFactory = coordinateSequenceFactory;\n\t\tthis._SRID = SRID;\n\t}\n}\nextend(GeometryFactory.prototype, {\n\ttoGeometry: function (envelope) {\n\t\tif (envelope.isNull()) {\n\t\t\treturn this.createPoint();\n\t\t}\n\t\tif (envelope.getMinX() === envelope.getMaxX() && envelope.getMinY() === envelope.getMaxY()) {\n\t\t\treturn this.createPoint(new Coordinate(envelope.getMinX(), envelope.getMinY()));\n\t\t}\n\t\tif (envelope.getMinX() === envelope.getMaxX() || envelope.getMinY() === envelope.getMaxY()) {\n\t\t\treturn this.createLineString([new Coordinate(envelope.getMinX(), envelope.getMinY()), new Coordinate(envelope.getMaxX(), envelope.getMaxY())]);\n\t\t}\n\t\treturn this.createPolygon(this.createLinearRing([new Coordinate(envelope.getMinX(), envelope.getMinY()), new Coordinate(envelope.getMinX(), envelope.getMaxY()), new Coordinate(envelope.getMaxX(), envelope.getMaxY()), new Coordinate(envelope.getMaxX(), envelope.getMinY()), new Coordinate(envelope.getMinX(), envelope.getMinY())]), null);\n\t},\n\tcreateLineString: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createLineString(this.getCoordinateSequenceFactory().create([]));\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn this.createLineString(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn new LineString(coordinates, this);\n\t\t\t}\n\t\t}\n\t},\n\tcreateMultiLineString: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new MultiLineString(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet lineStrings = arguments[0];\n\t\t\treturn new MultiLineString(lineStrings, this);\n\t\t}\n\t},\n\tbuildGeometry: function (geomList) {\n\t\tvar geomClass = null;\n\t\tvar isHeterogeneous = false;\n\t\tvar hasGeometryCollection = false;\n\t\tfor (var i = geomList.iterator(); i.hasNext(); ) {\n\t\t\tvar geom = i.next();\n\t\t\tvar partClass = geom.getClass();\n\t\t\tif (geomClass === null) {\n\t\t\t\tgeomClass = partClass;\n\t\t\t}\n\t\t\tif (partClass !== geomClass) {\n\t\t\t\tisHeterogeneous = true;\n\t\t\t}\n\t\t\tif (geom instanceof GeometryCollection) hasGeometryCollection = true;\n\t\t}\n\t\tif (geomClass === null) {\n\t\t\treturn this.createGeometryCollection();\n\t\t}\n\t\tif (isHeterogeneous || hasGeometryCollection) {\n\t\t\treturn this.createGeometryCollection(GeometryFactory.toGeometryArray(geomList));\n\t\t}\n\t\tvar geom0 = geomList.iterator().next();\n\t\tvar isCollection = geomList.size() > 1;\n\t\tif (isCollection) {\n\t\t\tif (geom0 instanceof Polygon) {\n\t\t\t\treturn this.createMultiPolygon(GeometryFactory.toPolygonArray(geomList));\n\t\t\t} else if (geom0 instanceof LineString) {\n\t\t\t\treturn this.createMultiLineString(GeometryFactory.toLineStringArray(geomList));\n\t\t\t} else if (geom0 instanceof Point) {\n\t\t\t\treturn this.createMultiPoint(GeometryFactory.toPointArray(geomList));\n\t\t\t}\n\t\t\tAssert.shouldNeverReachHere(\"Unhandled class: \" + geom0.getClass().getName());\n\t\t}\n\t\treturn geom0;\n\t},\n\tcreateMultiPointFromCoords: function (coordinates) {\n\t\treturn this.createMultiPoint(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n\t},\n\tcreatePoint: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createPoint(this.getCoordinateSequenceFactory().create([]));\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet coordinate = arguments[0];\n\t\t\t\treturn this.createPoint(coordinate !== null ? this.getCoordinateSequenceFactory().create([coordinate]) : null);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn new Point(coordinates, this);\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinateSequenceFactory: function () {\n\t\treturn this._coordinateSequenceFactory;\n\t},\n\tcreatePolygon: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createPolygon(null, null);\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet shell = arguments[0];\n\t\t\t\treturn this.createPolygon(this.createLinearRing(shell));\n\t\t\t} else if (arguments[0] instanceof Array) {\n\t\t\t\tlet shell = arguments[0];\n\t\t\t\treturn this.createPolygon(this.createLinearRing(shell));\n\t\t\t} else if (arguments[0] instanceof LinearRing) {\n\t\t\t\tlet shell = arguments[0];\n\t\t\t\treturn this.createPolygon(shell, null);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet shell = arguments[0], holes = arguments[1];\n\t\t\treturn new Polygon(shell, holes, this);\n\t\t}\n\t},\n\tgetSRID: function () {\n\t\treturn this._SRID;\n\t},\n\tcreateGeometryCollection: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new GeometryCollection(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet geometries = arguments[0];\n\t\t\treturn new GeometryCollection(geometries, this);\n\t\t}\n\t},\n\tcreateGeometry: function (g) {\n\t\tvar editor = new GeometryEditor(this);\n\t\treturn editor.edit(g, {\n\t\t\tedit: function () {\n\t\t\t\tif (arguments.length === 2 && (arguments[1] instanceof Geometry && hasInterface(arguments[0], CoordinateSequence))) {\n\t\t\t\t\tlet coordSeq = arguments[0], geometry = arguments[1];\n\t\t\t\t\treturn this._coordinateSequenceFactory.create(coordSeq);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tgetPrecisionModel: function () {\n\t\treturn this._precisionModel;\n\t},\n\tcreateLinearRing: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createLinearRing(this.getCoordinateSequenceFactory().create([]));\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn this.createLinearRing(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn new LinearRing(coordinates, this);\n\t\t\t}\n\t\t}\n\t},\n\tcreateMultiPolygon: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new MultiPolygon(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet polygons = arguments[0];\n\t\t\treturn new MultiPolygon(polygons, this);\n\t\t}\n\t},\n\tcreateMultiPoint: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new MultiPoint(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tlet point = arguments[0];\n\t\t\t\treturn new MultiPoint(point, this);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\tif (coordinates === null) {\n\t\t\t\t\treturn this.createMultiPoint(new Array(0).fill(null));\n\t\t\t\t}\n\t\t\t\tvar points = new Array(coordinates.size()).fill(null);\n\t\t\t\tfor (var i = 0; i < coordinates.size(); i++) {\n\t\t\t\t\tvar ptSeq = this.getCoordinateSequenceFactory().create(1, coordinates.getDimension());\n\t\t\t\t\tCoordinateSequences.copy(coordinates, i, ptSeq, 0, 1);\n\t\t\t\t\tpoints[i] = this.createPoint(ptSeq);\n\t\t\t\t}\n\t\t\t\treturn this.createMultiPoint(points);\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryFactory;\n\t}\n});\nGeometryFactory.toMultiPolygonArray = function (multiPolygons) {\n\tvar multiPolygonArray = new Array(multiPolygons.size()).fill(null);\n\treturn multiPolygons.toArray(multiPolygonArray);\n};\nGeometryFactory.toGeometryArray = function (geometries) {\n\tif (geometries === null) return null;\n\tvar geometryArray = new Array(geometries.size()).fill(null);\n\treturn geometries.toArray(geometryArray);\n};\nGeometryFactory.getDefaultCoordinateSequenceFactory = function () {\n\treturn CoordinateArraySequenceFactory.instance();\n};\nGeometryFactory.toMultiLineStringArray = function (multiLineStrings) {\n\tvar multiLineStringArray = new Array(multiLineStrings.size()).fill(null);\n\treturn multiLineStrings.toArray(multiLineStringArray);\n};\nGeometryFactory.toLineStringArray = function (lineStrings) {\n\tvar lineStringArray = new Array(lineStrings.size()).fill(null);\n\treturn lineStrings.toArray(lineStringArray);\n};\nGeometryFactory.toMultiPointArray = function (multiPoints) {\n\tvar multiPointArray = new Array(multiPoints.size()).fill(null);\n\treturn multiPoints.toArray(multiPointArray);\n};\nGeometryFactory.toLinearRingArray = function (linearRings) {\n\tvar linearRingArray = new Array(linearRings.size()).fill(null);\n\treturn linearRings.toArray(linearRingArray);\n};\nGeometryFactory.toPointArray = function (points) {\n\tvar pointArray = new Array(points.size()).fill(null);\n\treturn points.toArray(pointArray);\n};\nGeometryFactory.toPolygonArray = function (polygons) {\n\tvar polygonArray = new Array(polygons.size()).fill(null);\n\treturn polygons.toArray(polygonArray);\n};\nGeometryFactory.createPointFromInternalCoord = function (coord, exemplar) {\n\texemplar.getPrecisionModel().makePrecise(coord);\n\treturn exemplar.getFactory().createPoint(coord);\n};\nGeometryFactory.serialVersionUID = -6820524753094095635;\n","import Coordinate from '../geom/Coordinate'\nimport GeometryFactory from '../geom/GeometryFactory'\nimport extend from '../../../../extend'\n\nconst regExes = {\n  'typeStr': /^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,\n  'emptyTypeStr': /^\\s*(\\w+)\\s*EMPTY\\s*$/,\n  'spaces': /\\s+/,\n  'parenComma': /\\)\\s*,\\s*\\(/,\n  'doubleParenComma': /\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/, // can't use {2} here\n  'trimParens': /^\\s*\\(?(.*?)\\)?\\s*$/\n}\n\n/**\n * Class for reading and writing Well-Known Text.\n *\n * NOTE: Adapted from OpenLayers 2.11 implementation.\n */\n\n/** Create a new parser for WKT\n *\n * @param {GeometryFactory} geometryFactory\n * @return An instance of WKTParser.\n * @constructor\n * @private\n */\nexport default function WKTParser (geometryFactory) {\n  this.geometryFactory = geometryFactory || new GeometryFactory()\n  this.precisionModel = this.geometryFactory.getPrecisionModel()\n}\n\nextend(WKTParser.prototype, {\n  /**\n   * Deserialize a WKT string and return a geometry. Supports WKT for POINT,\n   * MULTIPOINT, LINESTRING, LINEARRING, MULTILINESTRING, POLYGON, MULTIPOLYGON,\n   * and GEOMETRYCOLLECTION.\n   *\n   * @param {String} wkt A WKT string.\n   * @return {Geometry} A geometry instance.\n   * @private\n   */\n  read (wkt) {\n    var geometry, type, str\n    wkt = wkt.replace(/[\\n\\r]/g, ' ')\n    var matches = regExes.typeStr.exec(wkt)\n    if (wkt.search('EMPTY') !== -1) {\n      matches = regExes.emptyTypeStr.exec(wkt)\n      matches[2] = undefined\n    }\n    if (matches) {\n      type = matches[1].toLowerCase()\n      str = matches[2]\n      if (parse[type]) {\n        geometry = parse[type].call(this, str)\n      }\n    }\n\n    if (geometry === undefined) throw new Error('Could not parse WKT ' + wkt)\n\n    return geometry\n  },\n\n  /**\n   * Serialize a geometry into a WKT string.\n   *\n   * @param {Geometry} geometry A feature or array of features.\n   * @return {String} The WKT string representation of the input geometries.\n   * @private\n   */\n  write (geometry) {\n    return this.extractGeometry(geometry)\n  },\n\n  /**\n   * Entry point to construct the WKT for a single Geometry object.\n   *\n   * @param {Geometry} geometry\n   * @return {String} A WKT string of representing the geometry.\n   * @private\n   */\n  extractGeometry (geometry) {\n    var type = geometry.getGeometryType().toLowerCase()\n    if (!extract[type]) {\n      return null\n    }\n    var wktType = type.toUpperCase()\n    var data\n    if (geometry.isEmpty()) {\n      data = wktType + ' EMPTY'\n    } else {\n      data = wktType + '(' + extract[type].call(this, geometry) + ')'\n    }\n    return data\n  }\n})\n\n/**\n * Object with properties corresponding to the geometry types. Property values\n * are functions that do the actual data extraction.\n * @private\n */\nconst extract = {\n  coordinate (coordinate) {\n    return coordinate.x + ' ' + coordinate.y\n  },\n\n  /**\n   * Return a space delimited string of point coordinates.\n   *\n   * @param {Point}\n   *          point\n   * @return {String} A string of coordinates representing the point.\n   */\n  point (point) {\n    return extract.coordinate.call(this, point._coordinates._coordinates[0])\n  },\n\n  /**\n   * Return a comma delimited string of point coordinates from a multipoint.\n   *\n   * @param {MultiPoint}\n   *          multipoint\n   * @return {String} A string of point coordinate strings representing the\n   *         multipoint.\n   */\n  multipoint (multipoint) {\n    var array = []\n    for (let i = 0, len = multipoint._geometries.length; i < len; ++i) {\n      array.push('(' + extract.point.call(this, multipoint._geometries[i]) + ')')\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return a comma delimited string of point coordinates from a line.\n   *\n   * @param {LineString} linestring\n   * @return {String} A string of point coordinate strings representing the linestring.\n   */\n  linestring (linestring) {\n    var array = []\n    for (let i = 0, len = linestring._points._coordinates.length; i < len; ++i) {\n      array.push(extract.coordinate.call(this, linestring._points._coordinates[i]))\n    }\n    return array.join(',')\n  },\n\n  linearring (linearring) {\n    var array = []\n    for (let i = 0, len = linearring._points._coordinates.length; i < len; ++i) {\n      array.push(extract.coordinate.call(this, linearring._points._coordinates[i]))\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return a comma delimited string of linestring strings from a\n   * multilinestring.\n   *\n   * @param {MultiLineString} multilinestring\n   * @return {String} A string of of linestring strings representing the multilinestring.\n   */\n  multilinestring (multilinestring) {\n    var array = []\n    for (let i = 0, len = multilinestring._geometries.length; i < len; ++i) {\n      array.push('(' +\n        extract.linestring.call(this, multilinestring._geometries[i]) +\n        ')')\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return a comma delimited string of linear ring arrays from a polygon.\n   *\n   * @param {Polygon} polygon\n   * @return {String} An array of linear ring arrays representing the polygon.\n   */\n  polygon (polygon) {\n    var array = []\n    array.push('(' + extract.linestring.call(this, polygon._shell) + ')')\n    for (let i = 0, len = polygon._holes.length; i < len; ++i) {\n      array.push('(' + extract.linestring.call(this, polygon._holes[i]) + ')')\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return an array of polygon arrays from a multipolygon.\n   *\n   * @param {MultiPolygon} multipolygon\n   * @return {String} An array of polygon arrays representing the multipolygon.\n   */\n  multipolygon (multipolygon) {\n    var array = []\n    for (let i = 0, len = multipolygon._geometries.length; i < len; ++i) {\n      array.push('(' + extract.polygon.call(this, multipolygon._geometries[i]) + ')')\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return the WKT portion between 'GEOMETRYCOLLECTION(' and ')' for an\n   * geometrycollection.\n   *\n   * @param {GeometryCollection} collection\n   * @return {String} internal WKT representation of the collection.\n   */\n  geometrycollection (collection) {\n    var array = []\n    for (let i = 0, len = collection._geometries.length; i < len; ++i) {\n      array.push(this.extractGeometry(collection._geometries[i]))\n    }\n    return array.join(',')\n  }\n}\n\n/**\n * Object with properties corresponding to the geometry types. Property values\n * are functions that do the actual parsing.\n * @private\n */\nconst parse = {\n  \n  coord (str) {\n    var coords = str.trim().split(regExes.spaces)\n    var coord = new Coordinate(Number.parseFloat(coords[0]), Number.parseFloat(coords[1]))\n    this.precisionModel.makePrecise(coord)\n    return coord\n  },\n\n  /**\n   * Return point geometry given a point WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the point.\n   * @return {Point} A point geometry.\n   * @private\n   */\n  point (str) {\n    if (str === undefined)\n      return this.geometryFactory.createPoint()\n    return this.geometryFactory.createPoint(parse.coord.call(this, str))\n  },\n\n  /**\n   * Return a multipoint geometry given a multipoint WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multipoint.\n   * @return {Point} A multipoint feature.\n   * @private\n   */\n  multipoint (str) {\n    if (str === undefined)\n      return this.geometryFactory.createMultiPoint()\n    var point\n    var points = str.trim().split(',')\n    var components = []\n    for (let i = 0, len = points.length; i < len; ++i) {\n      point = points[i].replace(regExes.trimParens, '$1')\n      components.push(parse.point.call(this, point))\n    }\n    return this.geometryFactory.createMultiPoint(components)\n  },\n\n  /**\n   * Return a linestring geometry given a linestring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the linestring.\n   * @return {LineString} A linestring geometry.\n   * @private\n   */\n  linestring (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createLineString()\n    }\n\n    var points = str.trim().split(',')\n    var components = []\n    var coords\n    for (let i = 0, len = points.length; i < len; ++i) {\n      components.push(parse.coord.call(this, points[i]))\n    }\n    return this.geometryFactory.createLineString(components)\n  },\n\n  /**\n   * Return a linearring geometry given a linearring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the linearring.\n   * @return {LinearRing} A linearring geometry.\n   * @private\n   */\n  linearring (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createLinearRing()\n    }\n\n    var points = str.trim().split(',')\n    var components = []\n    var coords\n    for (let i = 0, len = points.length; i < len; ++i) {\n      components.push(parse.coord.call(this, points[i]))\n    }\n    return this.geometryFactory.createLinearRing(components)\n  },\n\n  /**\n   * Return a multilinestring geometry given a multilinestring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multilinestring.\n   * @return {MultiLineString} A multilinestring geometry.\n   * @private\n   */\n  multilinestring (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createMultiLineString()\n    }\n\n    var line\n    var lines = str.trim().split(regExes.parenComma)\n    var components = []\n    for (let i = 0, len = lines.length; i < len; ++i) {\n      line = lines[i].replace(regExes.trimParens, '$1')\n      components.push(parse.linestring.call(this, line))\n    }\n    return this.geometryFactory.createMultiLineString(components)\n  },\n\n  /**\n   * Return a polygon geometry given a polygon WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the polygon.\n   * @return {Polygon} A polygon geometry.\n   * @private\n   */\n  polygon (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createPolygon()\n    }\n\n    var ring, linestring, linearring\n    var rings = str.trim().split(regExes.parenComma)\n    var shell\n    var holes = []\n    for (let i = 0, len = rings.length; i < len; ++i) {\n      ring = rings[i].replace(regExes.trimParens, '$1')\n      linestring = parse.linestring.call(this, ring)\n      linearring = this.geometryFactory.createLinearRing(linestring._points)\n      if (i === 0) {\n        shell = linearring\n      } else {\n        holes.push(linearring)\n      }\n    }\n    return this.geometryFactory.createPolygon(shell, holes)\n  },\n\n  /**\n   * Return a multipolygon geometry given a multipolygon WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multipolygon.\n   * @return {MultiPolygon} A multipolygon geometry.\n   * @private\n   */\n  multipolygon (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createMultiPolygon()\n    }\n\n    var polygon\n    var polygons = str.trim().split(regExes.doubleParenComma)\n    var components = []\n    for (let i = 0, len = polygons.length; i < len; ++i) {\n      polygon = polygons[i].replace(regExes.trimParens, '$1')\n      components.push(parse.polygon.call(this, polygon))\n    }\n    return this.geometryFactory.createMultiPolygon(components)\n  },\n\n  /**\n   * Return a geometrycollection given a geometrycollection WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the geometrycollection.\n   * @return {GeometryCollection}\n   * @private\n   */\n  geometrycollection (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createGeometryCollection()\n    }\n\n    // separate components of the collection with |\n    str = str.replace(/,\\s*([A-Za-z])/g, '|$1')\n    var wktArray = str.trim().split('|')\n    var components = []\n    for (let i = 0, len = wktArray.length; i < len; ++i) {\n      components.push(this.read(wktArray[i]))\n    }\n    return this.geometryFactory.createGeometryCollection(components)\n  }\n}\n","/**\n * @module org/locationtech/jts/io/WKTWriter\n */\n\nimport WKTParser from './WKTParser'\nimport extend from '../../../../extend'\n\n/**\n * Writes the Well-Known Text representation of a {@link Geometry}. The\n * Well-Known Text format is defined in the <A\n * HREF=\"http://www.opengis.org/techno/specs.htm\"> OGC Simple Features\n * Specification for SQL</A>.\n * <p>\n * The <code>WKTWriter</code> outputs coordinates rounded to the precision\n * model. Only the maximum number of decimal places necessary to represent the\n * ordinates to the required precision will be output.\n * <p>\n * The SFS WKT spec does not define a special tag for {@link LinearRing}s.\n * Under the spec, rings are output as <code>LINESTRING</code>s.\n */\n\n/**\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nexport default function WKTWriter (geometryFactory) {\n  this.parser = new WKTParser(geometryFactory)\n}\n\nextend(WKTWriter.prototype, {\n  /**\n   * Converts a <code>Geometry</code> to its Well-known Text representation.\n   *\n   * @param {Geometry} geometry a <code>Geometry</code> to process.\n   * @return {string} a <Geometry Tagged Text> string (see the OpenGIS Simple\n   *         Features Specification).\n   * @memberof module:org/locationtech/jts/io/WKTWriter#\n   */\n  write (geometry) {\n    return this.parser.write(geometry)\n  }\n})\n\nextend(WKTWriter, {\n  /**\n   * Generates the WKT for a <tt>LINESTRING</tt> specified by two\n   * {@link Coordinate}s.\n   *\n   * @param p0 the first coordinate.\n   * @param p1 the second coordinate.\n   *\n   * @return the WKT.\n   * @private\n   */\n  toLineString (p0, p1) {\n    if (arguments.length !== 2) {\n      throw new Error('Not implemented')\n    }\n\n    return 'LINESTRING ( ' + p0.x + ' ' + p0.y + ', ' + p1.x + ' ' + p1.y + ' )'\n  }\n})\n","import WKTWriter from '../io/WKTWriter';\nimport Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport Assert from '../util/Assert';\nimport StringBuilder from '../../../../java/lang/StringBuilder';\nexport default function LineIntersector() {\n\tthis._result = null;\n\tthis._inputLines = Array(2).fill().map(() => Array(2));\n\tthis._intPt = new Array(2).fill(null);\n\tthis._intLineIndex = null;\n\tthis._isProper = null;\n\tthis._pa = null;\n\tthis._pb = null;\n\tthis._precisionModel = null;\n\tthis._intPt[0] = new Coordinate();\n\tthis._intPt[1] = new Coordinate();\n\tthis._pa = this._intPt[0];\n\tthis._pb = this._intPt[1];\n\tthis._result = 0;\n}\nextend(LineIntersector.prototype, {\n\tgetIndexAlongSegment: function (segmentIndex, intIndex) {\n\t\tthis.computeIntLineIndex();\n\t\treturn this._intLineIndex[segmentIndex][intIndex];\n\t},\n\tgetTopologySummary: function () {\n\t\tvar catBuilder = new StringBuilder();\n\t\tif (this.isEndPoint()) catBuilder.append(\" endpoint\");\n\t\tif (this._isProper) catBuilder.append(\" proper\");\n\t\tif (this.isCollinear()) catBuilder.append(\" collinear\");\n\t\treturn catBuilder.toString();\n\t},\n\tcomputeIntersection: function (p1, p2, p3, p4) {\n\t\tthis._inputLines[0][0] = p1;\n\t\tthis._inputLines[0][1] = p2;\n\t\tthis._inputLines[1][0] = p3;\n\t\tthis._inputLines[1][1] = p4;\n\t\tthis._result = this.computeIntersect(p1, p2, p3, p4);\n\t},\n\tgetIntersectionNum: function () {\n\t\treturn this._result;\n\t},\n\tcomputeIntLineIndex: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this._intLineIndex === null) {\n\t\t\t\tthis._intLineIndex = Array(2).fill().map(() => Array(2));\n\t\t\t\tthis.computeIntLineIndex(0);\n\t\t\t\tthis.computeIntLineIndex(1);\n\t\t\t}\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet segmentIndex = arguments[0];\n\t\t\tvar dist0 = this.getEdgeDistance(segmentIndex, 0);\n\t\t\tvar dist1 = this.getEdgeDistance(segmentIndex, 1);\n\t\t\tif (dist0 > dist1) {\n\t\t\t\tthis._intLineIndex[segmentIndex][0] = 0;\n\t\t\t\tthis._intLineIndex[segmentIndex][1] = 1;\n\t\t\t} else {\n\t\t\t\tthis._intLineIndex[segmentIndex][0] = 1;\n\t\t\t\tthis._intLineIndex[segmentIndex][1] = 0;\n\t\t\t}\n\t\t}\n\t},\n\tisProper: function () {\n\t\treturn this.hasIntersection() && this._isProper;\n\t},\n\tsetPrecisionModel: function (precisionModel) {\n\t\tthis._precisionModel = precisionModel;\n\t},\n\tisInteriorIntersection: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.isInteriorIntersection(0)) return true;\n\t\t\tif (this.isInteriorIntersection(1)) return true;\n\t\t\treturn false;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet inputLineIndex = arguments[0];\n\t\t\tfor (var i = 0; i < this._result; i++) {\n\t\t\t\tif (!(this._intPt[i].equals2D(this._inputLines[inputLineIndex][0]) || this._intPt[i].equals2D(this._inputLines[inputLineIndex][1]))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t},\n\tgetIntersection: function (intIndex) {\n\t\treturn this._intPt[intIndex];\n\t},\n\tisEndPoint: function () {\n\t\treturn this.hasIntersection() && !this._isProper;\n\t},\n\thasIntersection: function () {\n\t\treturn this._result !== LineIntersector.NO_INTERSECTION;\n\t},\n\tgetEdgeDistance: function (segmentIndex, intIndex) {\n\t\tvar dist = LineIntersector.computeEdgeDistance(this._intPt[intIndex], this._inputLines[segmentIndex][0], this._inputLines[segmentIndex][1]);\n\t\treturn dist;\n\t},\n\tisCollinear: function () {\n\t\treturn this._result === LineIntersector.COLLINEAR_INTERSECTION;\n\t},\n\ttoString: function () {\n\t\treturn WKTWriter.toLineString(this._inputLines[0][0], this._inputLines[0][1]) + \" - \" + WKTWriter.toLineString(this._inputLines[1][0], this._inputLines[1][1]) + this.getTopologySummary();\n\t},\n\tgetEndpoint: function (segmentIndex, ptIndex) {\n\t\treturn this._inputLines[segmentIndex][ptIndex];\n\t},\n\tisIntersection: function (pt) {\n\t\tfor (var i = 0; i < this._result; i++) {\n\t\t\tif (this._intPt[i].equals2D(pt)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tgetIntersectionAlongSegment: function (segmentIndex, intIndex) {\n\t\tthis.computeIntLineIndex();\n\t\treturn this._intPt[this._intLineIndex[segmentIndex][intIndex]];\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LineIntersector;\n\t}\n});\nLineIntersector.computeEdgeDistance = function (p, p0, p1) {\n\tvar dx = Math.abs(p1.x - p0.x);\n\tvar dy = Math.abs(p1.y - p0.y);\n\tvar dist = -1.0;\n\tif (p.equals(p0)) {\n\t\tdist = 0.0;\n\t} else if (p.equals(p1)) {\n\t\tif (dx > dy) dist = dx; else dist = dy;\n\t} else {\n\t\tvar pdx = Math.abs(p.x - p0.x);\n\t\tvar pdy = Math.abs(p.y - p0.y);\n\t\tif (dx > dy) dist = pdx; else dist = pdy;\n\t\tif (dist === 0.0 && !p.equals(p0)) {\n\t\t\tdist = Math.max(pdx, pdy);\n\t\t}\n\t}\n\tAssert.isTrue(!(dist === 0.0 && !p.equals(p0)), \"Bad distance calculation\");\n\treturn dist;\n};\nLineIntersector.nonRobustComputeEdgeDistance = function (p, p1, p2) {\n\tvar dx = p.x - p1.x;\n\tvar dy = p.y - p1.y;\n\tvar dist = Math.sqrt(dx * dx + dy * dy);\n\tAssert.isTrue(!(dist === 0.0 && !p.equals(p1)), \"Invalid distance calculation\");\n\treturn dist;\n};\nLineIntersector.DONT_INTERSECT = 0;\nLineIntersector.DO_INTERSECT = 1;\nLineIntersector.COLLINEAR = 2;\nLineIntersector.NO_INTERSECTION = 0;\nLineIntersector.POINT_INTERSECTION = 1;\nLineIntersector.COLLINEAR_INTERSECTION = 2;\n","import NotRepresentableException from './NotRepresentableException';\nimport Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport Orientation from './Orientation';\nimport CGAlgorithmsDD from './CGAlgorithmsDD';\nimport System from '../../../../java/lang/System';\nimport HCoordinate from './HCoordinate';\nimport Envelope from '../geom/Envelope';\nimport inherits from '../../../../inherits';\nimport Distance from './Distance';\nimport LineIntersector from './LineIntersector';\nexport default function RobustLineIntersector() {\n\tLineIntersector.apply(this);\n}\ninherits(RobustLineIntersector, LineIntersector);\nextend(RobustLineIntersector.prototype, {\n\tisInSegmentEnvelopes: function (intPt) {\n\t\tvar env0 = new Envelope(this._inputLines[0][0], this._inputLines[0][1]);\n\t\tvar env1 = new Envelope(this._inputLines[1][0], this._inputLines[1][1]);\n\t\treturn env0.contains(intPt) && env1.contains(intPt);\n\t},\n\tcomputeIntersection: function () {\n\t\tif (arguments.length === 3) {\n\t\t\tlet p = arguments[0], p1 = arguments[1], p2 = arguments[2];\n\t\t\tthis._isProper = false;\n\t\t\tif (Envelope.intersects(p1, p2, p)) {\n\t\t\t\tif (Orientation.index(p1, p2, p) === 0 && Orientation.index(p2, p1, p) === 0) {\n\t\t\t\t\tthis._isProper = true;\n\t\t\t\t\tif (p.equals(p1) || p.equals(p2)) {\n\t\t\t\t\t\tthis._isProper = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis._result = LineIntersector.POINT_INTERSECTION;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._result = LineIntersector.NO_INTERSECTION;\n\t\t} else return LineIntersector.prototype.computeIntersection.apply(this, arguments);\n\t},\n\tnormalizeToMinimum: function (n1, n2, n3, n4, normPt) {\n\t\tnormPt.x = this.smallestInAbsValue(n1.x, n2.x, n3.x, n4.x);\n\t\tnormPt.y = this.smallestInAbsValue(n1.y, n2.y, n3.y, n4.y);\n\t\tn1.x -= normPt.x;\n\t\tn1.y -= normPt.y;\n\t\tn2.x -= normPt.x;\n\t\tn2.y -= normPt.y;\n\t\tn3.x -= normPt.x;\n\t\tn3.y -= normPt.y;\n\t\tn4.x -= normPt.x;\n\t\tn4.y -= normPt.y;\n\t},\n\tsafeHCoordinateIntersection: function (p1, p2, q1, q2) {\n\t\tvar intPt = null;\n\t\ttry {\n\t\t\tintPt = HCoordinate.intersection(p1, p2, q1, q2);\n\t\t} catch (e) {\n\t\t\tif (e instanceof NotRepresentableException) {\n\t\t\t\tintPt = RobustLineIntersector.nearestEndpoint(p1, p2, q1, q2);\n\t\t\t} else throw e;\n\t\t} finally {}\n\t\treturn intPt;\n\t},\n\tintersection: function (p1, p2, q1, q2) {\n\t\tvar intPt = this.intersectionWithNormalization(p1, p2, q1, q2);\n\t\tif (!this.isInSegmentEnvelopes(intPt)) {\n\t\t\tintPt = new Coordinate(RobustLineIntersector.nearestEndpoint(p1, p2, q1, q2));\n\t\t}\n\t\tif (this._precisionModel !== null) {\n\t\t\tthis._precisionModel.makePrecise(intPt);\n\t\t}\n\t\treturn intPt;\n\t},\n\tsmallestInAbsValue: function (x1, x2, x3, x4) {\n\t\tvar x = x1;\n\t\tvar xabs = Math.abs(x);\n\t\tif (Math.abs(x2) < xabs) {\n\t\t\tx = x2;\n\t\t\txabs = Math.abs(x2);\n\t\t}\n\t\tif (Math.abs(x3) < xabs) {\n\t\t\tx = x3;\n\t\t\txabs = Math.abs(x3);\n\t\t}\n\t\tif (Math.abs(x4) < xabs) {\n\t\t\tx = x4;\n\t\t}\n\t\treturn x;\n\t},\n\tcheckDD: function (p1, p2, q1, q2, intPt) {\n\t\tvar intPtDD = CGAlgorithmsDD.intersection(p1, p2, q1, q2);\n\t\tvar isIn = this.isInSegmentEnvelopes(intPtDD);\n\t\tSystem.out.println(\"DD in env = \" + isIn + \"  --------------------- \" + intPtDD);\n\t\tif (intPt.distance(intPtDD) > 0.0001) {\n\t\t\tSystem.out.println(\"Distance = \" + intPt.distance(intPtDD));\n\t\t}\n\t},\n\tintersectionWithNormalization: function (p1, p2, q1, q2) {\n\t\tvar n1 = new Coordinate(p1);\n\t\tvar n2 = new Coordinate(p2);\n\t\tvar n3 = new Coordinate(q1);\n\t\tvar n4 = new Coordinate(q2);\n\t\tvar normPt = new Coordinate();\n\t\tthis.normalizeToEnvCentre(n1, n2, n3, n4, normPt);\n\t\tvar intPt = this.safeHCoordinateIntersection(n1, n2, n3, n4);\n\t\tintPt.x += normPt.x;\n\t\tintPt.y += normPt.y;\n\t\treturn intPt;\n\t},\n\tcomputeCollinearIntersection: function (p1, p2, q1, q2) {\n\t\tvar p1q1p2 = Envelope.intersects(p1, p2, q1);\n\t\tvar p1q2p2 = Envelope.intersects(p1, p2, q2);\n\t\tvar q1p1q2 = Envelope.intersects(q1, q2, p1);\n\t\tvar q1p2q2 = Envelope.intersects(q1, q2, p2);\n\t\tif (p1q1p2 && p1q2p2) {\n\t\t\tthis._intPt[0] = q1;\n\t\t\tthis._intPt[1] = q2;\n\t\t\treturn LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (q1p1q2 && q1p2q2) {\n\t\t\tthis._intPt[0] = p1;\n\t\t\tthis._intPt[1] = p2;\n\t\t\treturn LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q1p2 && q1p1q2) {\n\t\t\tthis._intPt[0] = q1;\n\t\t\tthis._intPt[1] = p1;\n\t\t\treturn q1.equals(p1) && !p1q2p2 && !q1p2q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q1p2 && q1p2q2) {\n\t\t\tthis._intPt[0] = q1;\n\t\t\tthis._intPt[1] = p2;\n\t\t\treturn q1.equals(p2) && !p1q2p2 && !q1p1q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q2p2 && q1p1q2) {\n\t\t\tthis._intPt[0] = q2;\n\t\t\tthis._intPt[1] = p1;\n\t\t\treturn q2.equals(p1) && !p1q1p2 && !q1p2q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q2p2 && q1p2q2) {\n\t\t\tthis._intPt[0] = q2;\n\t\t\tthis._intPt[1] = p2;\n\t\t\treturn q2.equals(p2) && !p1q1p2 && !q1p1q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\treturn LineIntersector.NO_INTERSECTION;\n\t},\n\tnormalizeToEnvCentre: function (n00, n01, n10, n11, normPt) {\n\t\tvar minX0 = n00.x < n01.x ? n00.x : n01.x;\n\t\tvar minY0 = n00.y < n01.y ? n00.y : n01.y;\n\t\tvar maxX0 = n00.x > n01.x ? n00.x : n01.x;\n\t\tvar maxY0 = n00.y > n01.y ? n00.y : n01.y;\n\t\tvar minX1 = n10.x < n11.x ? n10.x : n11.x;\n\t\tvar minY1 = n10.y < n11.y ? n10.y : n11.y;\n\t\tvar maxX1 = n10.x > n11.x ? n10.x : n11.x;\n\t\tvar maxY1 = n10.y > n11.y ? n10.y : n11.y;\n\t\tvar intMinX = minX0 > minX1 ? minX0 : minX1;\n\t\tvar intMaxX = maxX0 < maxX1 ? maxX0 : maxX1;\n\t\tvar intMinY = minY0 > minY1 ? minY0 : minY1;\n\t\tvar intMaxY = maxY0 < maxY1 ? maxY0 : maxY1;\n\t\tvar intMidX = (intMinX + intMaxX) / 2.0;\n\t\tvar intMidY = (intMinY + intMaxY) / 2.0;\n\t\tnormPt.x = intMidX;\n\t\tnormPt.y = intMidY;\n\t\tn00.x -= normPt.x;\n\t\tn00.y -= normPt.y;\n\t\tn01.x -= normPt.x;\n\t\tn01.y -= normPt.y;\n\t\tn10.x -= normPt.x;\n\t\tn10.y -= normPt.y;\n\t\tn11.x -= normPt.x;\n\t\tn11.y -= normPt.y;\n\t},\n\tcomputeIntersect: function (p1, p2, q1, q2) {\n\t\tthis._isProper = false;\n\t\tif (!Envelope.intersects(p1, p2, q1, q2)) return LineIntersector.NO_INTERSECTION;\n\t\tvar Pq1 = Orientation.index(p1, p2, q1);\n\t\tvar Pq2 = Orientation.index(p1, p2, q2);\n\t\tif (Pq1 > 0 && Pq2 > 0 || Pq1 < 0 && Pq2 < 0) {\n\t\t\treturn LineIntersector.NO_INTERSECTION;\n\t\t}\n\t\tvar Qp1 = Orientation.index(q1, q2, p1);\n\t\tvar Qp2 = Orientation.index(q1, q2, p2);\n\t\tif (Qp1 > 0 && Qp2 > 0 || Qp1 < 0 && Qp2 < 0) {\n\t\t\treturn LineIntersector.NO_INTERSECTION;\n\t\t}\n\t\tvar collinear = Pq1 === 0 && Pq2 === 0 && Qp1 === 0 && Qp2 === 0;\n\t\tif (collinear) {\n\t\t\treturn this.computeCollinearIntersection(p1, p2, q1, q2);\n\t\t}\n\t\tif (Pq1 === 0 || Pq2 === 0 || Qp1 === 0 || Qp2 === 0) {\n\t\t\tthis._isProper = false;\n\t\t\tif (p1.equals2D(q1) || p1.equals2D(q2)) {\n\t\t\t\tthis._intPt[0] = p1;\n\t\t\t} else if (p2.equals2D(q1) || p2.equals2D(q2)) {\n\t\t\t\tthis._intPt[0] = p2;\n\t\t\t} else if (Pq1 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(q1);\n\t\t\t} else if (Pq2 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(q2);\n\t\t\t} else if (Qp1 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(p1);\n\t\t\t} else if (Qp2 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(p2);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._isProper = true;\n\t\t\tthis._intPt[0] = this.intersection(p1, p2, q1, q2);\n\t\t}\n\t\treturn LineIntersector.POINT_INTERSECTION;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RobustLineIntersector;\n\t}\n});\nRobustLineIntersector.nearestEndpoint = function (p1, p2, q1, q2) {\n\tvar nearestPt = p1;\n\tvar minDist = Distance.pointToSegment(p1, q1, q2);\n\tvar dist = Distance.pointToSegment(p2, q1, q2);\n\tif (dist < minDist) {\n\t\tminDist = dist;\n\t\tnearestPt = p2;\n\t}\n\tdist = Distance.pointToSegment(q1, p1, p2);\n\tif (dist < minDist) {\n\t\tminDist = dist;\n\t\tnearestPt = q1;\n\t}\n\tdist = Distance.pointToSegment(q2, p1, p2);\n\tif (dist < minDist) {\n\t\tminDist = dist;\n\t\tnearestPt = q2;\n\t}\n\treturn nearestPt;\n};\n","import NotRepresentableException from '../algorithm/NotRepresentableException';\nimport Coordinate from './Coordinate';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport Orientation from '../algorithm/Orientation';\nimport Comparable from '../../../../java/lang/Comparable';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nimport HCoordinate from '../algorithm/HCoordinate';\nimport Serializable from '../../../../java/io/Serializable';\nimport Distance from '../algorithm/Distance';\nexport default function LineSegment() {\n\tthis.p0 = null;\n\tthis.p1 = null;\n\tif (arguments.length === 0) {\n\t\tLineSegment.call(this, new Coordinate(), new Coordinate());\n\t} else if (arguments.length === 1) {\n\t\tlet ls = arguments[0];\n\t\tLineSegment.call(this, ls.p0, ls.p1);\n\t} else if (arguments.length === 2) {\n\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\tthis.p0 = p0;\n\t\tthis.p1 = p1;\n\t} else if (arguments.length === 4) {\n\t\tlet x0 = arguments[0], y0 = arguments[1], x1 = arguments[2], y1 = arguments[3];\n\t\tLineSegment.call(this, new Coordinate(x0, y0), new Coordinate(x1, y1));\n\t}\n}\nextend(LineSegment.prototype, {\n\tminX: function () {\n\t\treturn Math.min(this.p0.x, this.p1.x);\n\t},\n\torientationIndex: function () {\n\t\tif (arguments[0] instanceof LineSegment) {\n\t\t\tlet seg = arguments[0];\n\t\t\tvar orient0 = Orientation.index(this.p0, this.p1, seg.p0);\n\t\t\tvar orient1 = Orientation.index(this.p0, this.p1, seg.p1);\n\t\t\tif (orient0 >= 0 && orient1 >= 0) return Math.max(orient0, orient1);\n\t\t\tif (orient0 <= 0 && orient1 <= 0) return Math.max(orient0, orient1);\n\t\t\treturn 0;\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet p = arguments[0];\n\t\t\treturn Orientation.index(this.p0, this.p1, p);\n\t\t}\n\t},\n\ttoGeometry: function (geomFactory) {\n\t\treturn geomFactory.createLineString([this.p0, this.p1]);\n\t},\n\tisVertical: function () {\n\t\treturn this.p0.x === this.p1.x;\n\t},\n\tequals: function (o) {\n\t\tif (!(o instanceof LineSegment)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar other = o;\n\t\treturn this.p0.equals(other.p0) && this.p1.equals(other.p1);\n\t},\n\tintersection: function (line) {\n\t\tvar li = new RobustLineIntersector();\n\t\tli.computeIntersection(this.p0, this.p1, line.p0, line.p1);\n\t\tif (li.hasIntersection()) return li.getIntersection(0);\n\t\treturn null;\n\t},\n\tproject: function () {\n\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\tlet p = arguments[0];\n\t\t\tif (p.equals(this.p0) || p.equals(this.p1)) return new Coordinate(p);\n\t\t\tvar r = this.projectionFactor(p);\n\t\t\tvar coord = new Coordinate();\n\t\t\tcoord.x = this.p0.x + r * (this.p1.x - this.p0.x);\n\t\t\tcoord.y = this.p0.y + r * (this.p1.y - this.p0.y);\n\t\t\treturn coord;\n\t\t} else if (arguments[0] instanceof LineSegment) {\n\t\t\tlet seg = arguments[0];\n\t\t\tvar pf0 = this.projectionFactor(seg.p0);\n\t\t\tvar pf1 = this.projectionFactor(seg.p1);\n\t\t\tif (pf0 >= 1.0 && pf1 >= 1.0) return null;\n\t\t\tif (pf0 <= 0.0 && pf1 <= 0.0) return null;\n\t\t\tvar newp0 = this.project(seg.p0);\n\t\t\tif (pf0 < 0.0) newp0 = this.p0;\n\t\t\tif (pf0 > 1.0) newp0 = this.p1;\n\t\t\tvar newp1 = this.project(seg.p1);\n\t\t\tif (pf1 < 0.0) newp1 = this.p0;\n\t\t\tif (pf1 > 1.0) newp1 = this.p1;\n\t\t\treturn new LineSegment(newp0, newp1);\n\t\t}\n\t},\n\tnormalize: function () {\n\t\tif (this.p1.compareTo(this.p0) < 0) this.reverse();\n\t},\n\tangle: function () {\n\t\treturn Math.atan2(this.p1.y - this.p0.y, this.p1.x - this.p0.x);\n\t},\n\tgetCoordinate: function (i) {\n\t\tif (i === 0) return this.p0;\n\t\treturn this.p1;\n\t},\n\tdistancePerpendicular: function (p) {\n\t\treturn Distance.pointToLinePerpendicular(p, this.p0, this.p1);\n\t},\n\tminY: function () {\n\t\treturn Math.min(this.p0.y, this.p1.y);\n\t},\n\tmidPoint: function () {\n\t\treturn LineSegment.midPoint(this.p0, this.p1);\n\t},\n\tprojectionFactor: function (p) {\n\t\tif (p.equals(this.p0)) return 0.0;\n\t\tif (p.equals(this.p1)) return 1.0;\n\t\tvar dx = this.p1.x - this.p0.x;\n\t\tvar dy = this.p1.y - this.p0.y;\n\t\tvar len = dx * dx + dy * dy;\n\t\tif (len <= 0.0) return Double.NaN;\n\t\tvar r = ((p.x - this.p0.x) * dx + (p.y - this.p0.y) * dy) / len;\n\t\treturn r;\n\t},\n\tclosestPoints: function (line) {\n\t\tvar intPt = this.intersection(line);\n\t\tif (intPt !== null) {\n\t\t\treturn [intPt, intPt];\n\t\t}\n\t\tvar closestPt = new Array(2).fill(null);\n\t\tvar minDistance = Double.MAX_VALUE;\n\t\tvar dist = null;\n\t\tvar close00 = this.closestPoint(line.p0);\n\t\tminDistance = close00.distance(line.p0);\n\t\tclosestPt[0] = close00;\n\t\tclosestPt[1] = line.p0;\n\t\tvar close01 = this.closestPoint(line.p1);\n\t\tdist = close01.distance(line.p1);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t\tclosestPt[0] = close01;\n\t\t\tclosestPt[1] = line.p1;\n\t\t}\n\t\tvar close10 = line.closestPoint(this.p0);\n\t\tdist = close10.distance(this.p0);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t\tclosestPt[0] = this.p0;\n\t\t\tclosestPt[1] = close10;\n\t\t}\n\t\tvar close11 = line.closestPoint(this.p1);\n\t\tdist = close11.distance(this.p1);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t\tclosestPt[0] = this.p1;\n\t\t\tclosestPt[1] = close11;\n\t\t}\n\t\treturn closestPt;\n\t},\n\tclosestPoint: function (p) {\n\t\tvar factor = this.projectionFactor(p);\n\t\tif (factor > 0 && factor < 1) {\n\t\t\treturn this.project(p);\n\t\t}\n\t\tvar dist0 = this.p0.distance(p);\n\t\tvar dist1 = this.p1.distance(p);\n\t\tif (dist0 < dist1) return this.p0;\n\t\treturn this.p1;\n\t},\n\tmaxX: function () {\n\t\treturn Math.max(this.p0.x, this.p1.x);\n\t},\n\tgetLength: function () {\n\t\treturn this.p0.distance(this.p1);\n\t},\n\tcompareTo: function (o) {\n\t\tvar other = o;\n\t\tvar comp0 = this.p0.compareTo(other.p0);\n\t\tif (comp0 !== 0) return comp0;\n\t\treturn this.p1.compareTo(other.p1);\n\t},\n\treverse: function () {\n\t\tvar temp = this.p0;\n\t\tthis.p0 = this.p1;\n\t\tthis.p1 = temp;\n\t},\n\tequalsTopo: function (other) {\n\t\treturn this.p0.equals(other.p0) && this.p1.equals(other.p1) || this.p0.equals(other.p1) && this.p1.equals(other.p0);\n\t},\n\tlineIntersection: function (line) {\n\t\ttry {\n\t\t\tvar intPt = HCoordinate.intersection(this.p0, this.p1, line.p0, line.p1);\n\t\t\treturn intPt;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof NotRepresentableException) {} else throw ex;\n\t\t} finally {}\n\t\treturn null;\n\t},\n\tmaxY: function () {\n\t\treturn Math.max(this.p0.y, this.p1.y);\n\t},\n\tpointAlongOffset: function (segmentLengthFraction, offsetDistance) {\n\t\tvar segx = this.p0.x + segmentLengthFraction * (this.p1.x - this.p0.x);\n\t\tvar segy = this.p0.y + segmentLengthFraction * (this.p1.y - this.p0.y);\n\t\tvar dx = this.p1.x - this.p0.x;\n\t\tvar dy = this.p1.y - this.p0.y;\n\t\tvar len = Math.sqrt(dx * dx + dy * dy);\n\t\tvar ux = 0.0;\n\t\tvar uy = 0.0;\n\t\tif (offsetDistance !== 0.0) {\n\t\t\tif (len <= 0.0) throw new IllegalStateException(\"Cannot compute offset from zero-length line segment\");\n\t\t\tux = offsetDistance * dx / len;\n\t\t\tuy = offsetDistance * dy / len;\n\t\t}\n\t\tvar offsetx = segx - uy;\n\t\tvar offsety = segy + ux;\n\t\tvar coord = new Coordinate(offsetx, offsety);\n\t\treturn coord;\n\t},\n\tsetCoordinates: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet ls = arguments[0];\n\t\t\tthis.setCoordinates(ls.p0, ls.p1);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tthis.p0.x = p0.x;\n\t\t\tthis.p0.y = p0.y;\n\t\t\tthis.p1.x = p1.x;\n\t\t\tthis.p1.y = p1.y;\n\t\t}\n\t},\n\tsegmentFraction: function (inputPt) {\n\t\tvar segFrac = this.projectionFactor(inputPt);\n\t\tif (segFrac < 0.0) segFrac = 0.0; else if (segFrac > 1.0 || Double.isNaN(segFrac)) segFrac = 1.0;\n\t\treturn segFrac;\n\t},\n\ttoString: function () {\n\t\treturn \"LINESTRING( \" + this.p0.x + \" \" + this.p0.y + \", \" + this.p1.x + \" \" + this.p1.y + \")\";\n\t},\n\tisHorizontal: function () {\n\t\treturn this.p0.y === this.p1.y;\n\t},\n\tdistance: function () {\n\t\tif (arguments[0] instanceof LineSegment) {\n\t\t\tlet ls = arguments[0];\n\t\t\treturn Distance.segmentToSegment(this.p0, this.p1, ls.p0, ls.p1);\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet p = arguments[0];\n\t\t\treturn Distance.pointToSegment(p, this.p0, this.p1);\n\t\t}\n\t},\n\tpointAlong: function (segmentLengthFraction) {\n\t\tvar coord = new Coordinate();\n\t\tcoord.x = this.p0.x + segmentLengthFraction * (this.p1.x - this.p0.x);\n\t\tcoord.y = this.p0.y + segmentLengthFraction * (this.p1.y - this.p0.y);\n\t\treturn coord;\n\t},\n\thashCode: function () {\n\t\tvar bits0 = java.lang.Double.doubleToLongBits(this.p0.x);\n\t\tbits0 ^= java.lang.Double.doubleToLongBits(this.p0.y) * 31;\n\t\tvar hash0 = Math.trunc(bits0) ^ Math.trunc(bits0 >> 32);\n\t\tvar bits1 = java.lang.Double.doubleToLongBits(this.p1.x);\n\t\tbits1 ^= java.lang.Double.doubleToLongBits(this.p1.y) * 31;\n\t\tvar hash1 = Math.trunc(bits1) ^ Math.trunc(bits1 >> 32);\n\t\treturn hash0 ^ hash1;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable, Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn LineSegment;\n\t}\n});\nLineSegment.midPoint = function (p0, p1) {\n\treturn new Coordinate((p0.x + p1.x) / 2, (p0.y + p1.y) / 2);\n};\nLineSegment.serialVersionUID = 3252005833466256227;\n","import IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nexport default function Location() {}\nextend(Location.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Location;\n\t}\n});\nLocation.toLocationSymbol = function (locationValue) {\n\tswitch (locationValue) {\n\t\tcase Location.EXTERIOR:\n\t\t\treturn 'e';\n\t\tcase Location.BOUNDARY:\n\t\t\treturn 'b';\n\t\tcase Location.INTERIOR:\n\t\t\treturn 'i';\n\t\tcase Location.NONE:\n\t\t\treturn '-';\n\t}\n\tthrow new IllegalArgumentException(\"Unknown location value: \" + locationValue);\n};\nLocation.INTERIOR = 0;\nLocation.BOUNDARY = 1;\nLocation.EXTERIOR = 2;\nLocation.NONE = -1;\n","import Location from './Location';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport Dimension from './Dimension';\nimport Cloneable from '../../../../java/lang/Cloneable';\nimport StringBuilder from '../../../../java/lang/StringBuilder';\nexport default function IntersectionMatrix() {\n\tthis._matrix = null;\n\tif (arguments.length === 0) {\n\t\tthis._matrix = Array(3).fill().map(() => Array(3));\n\t\tthis.setAll(Dimension.FALSE);\n\t} else if (arguments.length === 1) {\n\t\tif (typeof arguments[0] === \"string\") {\n\t\t\tlet elements = arguments[0];\n\t\t\tIntersectionMatrix.call(this);\n\t\t\tthis.set(elements);\n\t\t} else if (arguments[0] instanceof IntersectionMatrix) {\n\t\t\tlet other = arguments[0];\n\t\t\tIntersectionMatrix.call(this);\n\t\t\tthis._matrix[Location.INTERIOR][Location.INTERIOR] = other._matrix[Location.INTERIOR][Location.INTERIOR];\n\t\t\tthis._matrix[Location.INTERIOR][Location.BOUNDARY] = other._matrix[Location.INTERIOR][Location.BOUNDARY];\n\t\t\tthis._matrix[Location.INTERIOR][Location.EXTERIOR] = other._matrix[Location.INTERIOR][Location.EXTERIOR];\n\t\t\tthis._matrix[Location.BOUNDARY][Location.INTERIOR] = other._matrix[Location.BOUNDARY][Location.INTERIOR];\n\t\t\tthis._matrix[Location.BOUNDARY][Location.BOUNDARY] = other._matrix[Location.BOUNDARY][Location.BOUNDARY];\n\t\t\tthis._matrix[Location.BOUNDARY][Location.EXTERIOR] = other._matrix[Location.BOUNDARY][Location.EXTERIOR];\n\t\t\tthis._matrix[Location.EXTERIOR][Location.INTERIOR] = other._matrix[Location.EXTERIOR][Location.INTERIOR];\n\t\t\tthis._matrix[Location.EXTERIOR][Location.BOUNDARY] = other._matrix[Location.EXTERIOR][Location.BOUNDARY];\n\t\t\tthis._matrix[Location.EXTERIOR][Location.EXTERIOR] = other._matrix[Location.EXTERIOR][Location.EXTERIOR];\n\t\t}\n\t}\n}\nextend(IntersectionMatrix.prototype, {\n\tisIntersects: function () {\n\t\treturn !this.isDisjoint();\n\t},\n\tisCovers: function () {\n\t\tvar hasPointInCommon = IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]);\n\t\treturn hasPointInCommon && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n\t},\n\tisCoveredBy: function () {\n\t\tvar hasPointInCommon = IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]);\n\t\treturn hasPointInCommon && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE;\n\t},\n\tset: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet dimensionSymbols = arguments[0];\n\t\t\tfor (var i = 0; i < dimensionSymbols.length; i++) {\n\t\t\t\tvar row = Math.trunc(i / 3);\n\t\t\t\tvar col = i % 3;\n\t\t\t\tthis._matrix[row][col] = Dimension.toDimensionValue(dimensionSymbols.charAt(i));\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet row = arguments[0], column = arguments[1], dimensionValue = arguments[2];\n\t\t\tthis._matrix[row][column] = dimensionValue;\n\t\t}\n\t},\n\tisContains: function () {\n\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n\t},\n\tsetAtLeast: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet minimumDimensionSymbols = arguments[0];\n\t\t\tfor (var i = 0; i < minimumDimensionSymbols.length; i++) {\n\t\t\t\tvar row = Math.trunc(i / 3);\n\t\t\t\tvar col = i % 3;\n\t\t\t\tthis.setAtLeast(row, col, Dimension.toDimensionValue(minimumDimensionSymbols.charAt(i)));\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet row = arguments[0], column = arguments[1], minimumDimensionValue = arguments[2];\n\t\t\tif (this._matrix[row][column] < minimumDimensionValue) {\n\t\t\t\tthis._matrix[row][column] = minimumDimensionValue;\n\t\t\t}\n\t\t}\n\t},\n\tsetAtLeastIfValid: function (row, column, minimumDimensionValue) {\n\t\tif (row >= 0 && column >= 0) {\n\t\t\tthis.setAtLeast(row, column, minimumDimensionValue);\n\t\t}\n\t},\n\tisWithin: function () {\n\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE;\n\t},\n\tisTouches: function (dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA > dimensionOfGeometryB) {\n\t\t\treturn this.isTouches(dimensionOfGeometryB, dimensionOfGeometryA);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === Dimension.FALSE && (IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]));\n\t\t}\n\t\treturn false;\n\t},\n\tisOverlaps: function (dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.A) {\n\t\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === 1 && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n\t\t}\n\t\treturn false;\n\t},\n\tisEquals: function (dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA !== dimensionOfGeometryB) {\n\t\t\treturn false;\n\t\t}\n\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n\t},\n\ttoString: function () {\n\t\tvar builder = new StringBuilder(\"123456789\");\n\t\tfor (var ai = 0; ai < 3; ai++) {\n\t\t\tfor (var bi = 0; bi < 3; bi++) {\n\t\t\t\tbuilder.setCharAt(3 * ai + bi, Dimension.toDimensionSymbol(this._matrix[ai][bi]));\n\t\t\t}\n\t\t}\n\t\treturn builder.toString();\n\t},\n\tsetAll: function (dimensionValue) {\n\t\tfor (var ai = 0; ai < 3; ai++) {\n\t\t\tfor (var bi = 0; bi < 3; bi++) {\n\t\t\t\tthis._matrix[ai][bi] = dimensionValue;\n\t\t\t}\n\t\t}\n\t},\n\tget: function (row, column) {\n\t\treturn this._matrix[row][column];\n\t},\n\ttranspose: function () {\n\t\tvar temp = this._matrix[1][0];\n\t\tthis._matrix[1][0] = this._matrix[0][1];\n\t\tthis._matrix[0][1] = temp;\n\t\ttemp = this._matrix[2][0];\n\t\tthis._matrix[2][0] = this._matrix[0][2];\n\t\tthis._matrix[0][2] = temp;\n\t\ttemp = this._matrix[2][1];\n\t\tthis._matrix[2][1] = this._matrix[1][2];\n\t\tthis._matrix[1][2] = temp;\n\t\treturn this;\n\t},\n\tmatches: function (requiredDimensionSymbols) {\n\t\tif (requiredDimensionSymbols.length !== 9) {\n\t\t\tthrow new IllegalArgumentException(\"Should be length 9: \" + requiredDimensionSymbols);\n\t\t}\n\t\tfor (var ai = 0; ai < 3; ai++) {\n\t\t\tfor (var bi = 0; bi < 3; bi++) {\n\t\t\t\tif (!IntersectionMatrix.matches(this._matrix[ai][bi], requiredDimensionSymbols.charAt(3 * ai + bi))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tadd: function (im) {\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\tfor (var j = 0; j < 3; j++) {\n\t\t\t\tthis.setAtLeast(i, j, im.get(i, j));\n\t\t\t}\n\t\t}\n\t},\n\tisDisjoint: function () {\n\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.INTERIOR][Location.BOUNDARY] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.BOUNDARY] === Dimension.FALSE;\n\t},\n\tisCrosses: function (dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.L || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.A) {\n\t\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === 0;\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Cloneable];\n\t},\n\tgetClass: function () {\n\t\treturn IntersectionMatrix;\n\t}\n});\nIntersectionMatrix.matches = function () {\n\tif (Number.isInteger(arguments[0]) && typeof arguments[1] === \"string\") {\n\t\tlet actualDimensionValue = arguments[0], requiredDimensionSymbol = arguments[1];\n\t\tif (requiredDimensionSymbol === Dimension.SYM_DONTCARE) {\n\t\t\treturn true;\n\t\t}\n\t\tif (requiredDimensionSymbol === Dimension.SYM_TRUE && (actualDimensionValue >= 0 || actualDimensionValue === Dimension.TRUE)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (requiredDimensionSymbol === Dimension.SYM_FALSE && actualDimensionValue === Dimension.FALSE) {\n\t\t\treturn true;\n\t\t}\n\t\tif (requiredDimensionSymbol === Dimension.SYM_P && actualDimensionValue === Dimension.P) {\n\t\t\treturn true;\n\t\t}\n\t\tif (requiredDimensionSymbol === Dimension.SYM_L && actualDimensionValue === Dimension.L) {\n\t\t\treturn true;\n\t\t}\n\t\tif (requiredDimensionSymbol === Dimension.SYM_A && actualDimensionValue === Dimension.A) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t} else if (typeof arguments[0] === \"string\" && typeof arguments[1] === \"string\") {\n\t\tlet actualDimensionSymbols = arguments[0], requiredDimensionSymbols = arguments[1];\n\t\tvar m = new IntersectionMatrix(actualDimensionSymbols);\n\t\treturn m.matches(requiredDimensionSymbols);\n\t}\n};\nIntersectionMatrix.isTrue = function (actualDimensionValue) {\n\tif (actualDimensionValue >= 0 || actualDimensionValue === Dimension.TRUE) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n","import extend from '../../../../extend';\nimport Orientation from './Orientation';\nexport default function Angle() {}\nextend(Angle.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Angle;\n\t}\n});\nAngle.toDegrees = function (radians) {\n\treturn radians * 180 / Math.PI;\n};\nAngle.normalize = function (angle) {\n\twhile (angle > Math.PI) angle -= Angle.PI_TIMES_2;\n\twhile (angle <= -Math.PI) angle += Angle.PI_TIMES_2;\n\treturn angle;\n};\nAngle.angle = function () {\n\tif (arguments.length === 1) {\n\t\tlet p = arguments[0];\n\t\treturn Math.atan2(p.y, p.x);\n\t} else if (arguments.length === 2) {\n\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\tvar dx = p1.x - p0.x;\n\t\tvar dy = p1.y - p0.y;\n\t\treturn Math.atan2(dy, dx);\n\t}\n};\nAngle.isAcute = function (p0, p1, p2) {\n\tvar dx0 = p0.x - p1.x;\n\tvar dy0 = p0.y - p1.y;\n\tvar dx1 = p2.x - p1.x;\n\tvar dy1 = p2.y - p1.y;\n\tvar dotprod = dx0 * dx1 + dy0 * dy1;\n\treturn dotprod > 0;\n};\nAngle.isObtuse = function (p0, p1, p2) {\n\tvar dx0 = p0.x - p1.x;\n\tvar dy0 = p0.y - p1.y;\n\tvar dx1 = p2.x - p1.x;\n\tvar dy1 = p2.y - p1.y;\n\tvar dotprod = dx0 * dx1 + dy0 * dy1;\n\treturn dotprod < 0;\n};\nAngle.interiorAngle = function (p0, p1, p2) {\n\tvar anglePrev = Angle.angle(p1, p0);\n\tvar angleNext = Angle.angle(p1, p2);\n\treturn Math.abs(angleNext - anglePrev);\n};\nAngle.normalizePositive = function (angle) {\n\tif (angle < 0.0) {\n\t\twhile (angle < 0.0) angle += Angle.PI_TIMES_2;\n\t\tif (angle >= Angle.PI_TIMES_2) angle = 0.0;\n\t} else {\n\t\twhile (angle >= Angle.PI_TIMES_2) angle -= Angle.PI_TIMES_2;\n\t\tif (angle < 0.0) angle = 0.0;\n\t}\n\treturn angle;\n};\nAngle.angleBetween = function (tip1, tail, tip2) {\n\tvar a1 = Angle.angle(tail, tip1);\n\tvar a2 = Angle.angle(tail, tip2);\n\treturn Angle.diff(a1, a2);\n};\nAngle.diff = function (ang1, ang2) {\n\tvar delAngle = null;\n\tif (ang1 < ang2) {\n\t\tdelAngle = ang2 - ang1;\n\t} else {\n\t\tdelAngle = ang1 - ang2;\n\t}\n\tif (delAngle > Math.PI) {\n\t\tdelAngle = 2 * Math.PI - delAngle;\n\t}\n\treturn delAngle;\n};\nAngle.toRadians = function (angleDegrees) {\n\treturn angleDegrees * Math.PI / 180.0;\n};\nAngle.getTurn = function (ang1, ang2) {\n\tvar crossproduct = Math.sin(ang2 - ang1);\n\tif (crossproduct > 0) {\n\t\treturn Angle.COUNTERCLOCKWISE;\n\t}\n\tif (crossproduct < 0) {\n\t\treturn Angle.CLOCKWISE;\n\t}\n\treturn Angle.NONE;\n};\nAngle.angleBetweenOriented = function (tip1, tail, tip2) {\n\tvar a1 = Angle.angle(tail, tip1);\n\tvar a2 = Angle.angle(tail, tip2);\n\tvar angDel = a2 - a1;\n\tif (angDel <= -Math.PI) return angDel + Angle.PI_TIMES_2;\n\tif (angDel > Math.PI) return angDel - Angle.PI_TIMES_2;\n\treturn angDel;\n};\nAngle.PI_TIMES_2 = 2.0 * Math.PI;\nAngle.PI_OVER_2 = Math.PI / 2.0;\nAngle.PI_OVER_4 = Math.PI / 4.0;\nAngle.COUNTERCLOCKWISE = Orientation.COUNTERCLOCKWISE;\nAngle.CLOCKWISE = Orientation.CLOCKWISE;\nAngle.NONE = Orientation.COLLINEAR;\n","import Coordinate from './Coordinate';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport Angle from '../algorithm/Angle';\nimport HCoordinate from '../algorithm/HCoordinate';\nexport default function Triangle() {\n\tthis.p0 = null;\n\tthis.p1 = null;\n\tthis.p2 = null;\n\tlet p0 = arguments[0], p1 = arguments[1], p2 = arguments[2];\n\tthis.p0 = p0;\n\tthis.p1 = p1;\n\tthis.p2 = p2;\n}\nextend(Triangle.prototype, {\n\tarea: function () {\n\t\treturn Triangle.area(this.p0, this.p1, this.p2);\n\t},\n\tsignedArea: function () {\n\t\treturn Triangle.signedArea(this.p0, this.p1, this.p2);\n\t},\n\tinterpolateZ: function (p) {\n\t\tif (p === null) throw new IllegalArgumentException(\"Supplied point is null.\");\n\t\treturn Triangle.interpolateZ(p, this.p0, this.p1, this.p2);\n\t},\n\tlongestSideLength: function () {\n\t\treturn Triangle.longestSideLength(this.p0, this.p1, this.p2);\n\t},\n\tisAcute: function () {\n\t\treturn Triangle.isAcute(this.p0, this.p1, this.p2);\n\t},\n\tcircumcentre: function () {\n\t\treturn Triangle.circumcentre(this.p0, this.p1, this.p2);\n\t},\n\tarea3D: function () {\n\t\treturn Triangle.area3D(this.p0, this.p1, this.p2);\n\t},\n\tcentroid: function () {\n\t\treturn Triangle.centroid(this.p0, this.p1, this.p2);\n\t},\n\tinCentre: function () {\n\t\treturn Triangle.inCentre(this.p0, this.p1, this.p2);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Triangle;\n\t}\n});\nTriangle.area = function (a, b, c) {\n\treturn Math.abs(((c.x - a.x) * (b.y - a.y) - (b.x - a.x) * (c.y - a.y)) / 2);\n};\nTriangle.signedArea = function (a, b, c) {\n\treturn ((c.x - a.x) * (b.y - a.y) - (b.x - a.x) * (c.y - a.y)) / 2;\n};\nTriangle.det = function (m00, m01, m10, m11) {\n\treturn m00 * m11 - m01 * m10;\n};\nTriangle.interpolateZ = function (p, v0, v1, v2) {\n\tvar x0 = v0.x;\n\tvar y0 = v0.y;\n\tvar a = v1.x - x0;\n\tvar b = v2.x - x0;\n\tvar c = v1.y - y0;\n\tvar d = v2.y - y0;\n\tvar det = a * d - b * c;\n\tvar dx = p.x - x0;\n\tvar dy = p.y - y0;\n\tvar t = (d * dx - b * dy) / det;\n\tvar u = (-c * dx + a * dy) / det;\n\tvar z = v0.z + t * (v1.z - v0.z) + u * (v2.z - v0.z);\n\treturn z;\n};\nTriangle.longestSideLength = function (a, b, c) {\n\tvar lenAB = a.distance(b);\n\tvar lenBC = b.distance(c);\n\tvar lenCA = c.distance(a);\n\tvar maxLen = lenAB;\n\tif (lenBC > maxLen) maxLen = lenBC;\n\tif (lenCA > maxLen) maxLen = lenCA;\n\treturn maxLen;\n};\nTriangle.isAcute = function (a, b, c) {\n\tif (!Angle.isAcute(a, b, c)) return false;\n\tif (!Angle.isAcute(b, c, a)) return false;\n\tif (!Angle.isAcute(c, a, b)) return false;\n\treturn true;\n};\nTriangle.circumcentre = function (a, b, c) {\n\tvar cx = c.x;\n\tvar cy = c.y;\n\tvar ax = a.x - cx;\n\tvar ay = a.y - cy;\n\tvar bx = b.x - cx;\n\tvar by = b.y - cy;\n\tvar denom = 2 * Triangle.det(ax, ay, bx, by);\n\tvar numx = Triangle.det(ay, ax * ax + ay * ay, by, bx * bx + by * by);\n\tvar numy = Triangle.det(ax, ax * ax + ay * ay, bx, bx * bx + by * by);\n\tvar ccx = cx - numx / denom;\n\tvar ccy = cy + numy / denom;\n\treturn new Coordinate(ccx, ccy);\n};\nTriangle.perpendicularBisector = function (a, b) {\n\tvar dx = b.x - a.x;\n\tvar dy = b.y - a.y;\n\tvar l1 = new HCoordinate(a.x + dx / 2.0, a.y + dy / 2.0, 1.0);\n\tvar l2 = new HCoordinate(a.x - dy + dx / 2.0, a.y + dx + dy / 2.0, 1.0);\n\treturn new HCoordinate(l1, l2);\n};\nTriangle.angleBisector = function (a, b, c) {\n\tvar len0 = b.distance(a);\n\tvar len2 = b.distance(c);\n\tvar frac = len0 / (len0 + len2);\n\tvar dx = c.x - a.x;\n\tvar dy = c.y - a.y;\n\tvar splitPt = new Coordinate(a.x + frac * dx, a.y + frac * dy);\n\treturn splitPt;\n};\nTriangle.area3D = function (a, b, c) {\n\tvar ux = b.x - a.x;\n\tvar uy = b.y - a.y;\n\tvar uz = b.z - a.z;\n\tvar vx = c.x - a.x;\n\tvar vy = c.y - a.y;\n\tvar vz = c.z - a.z;\n\tvar crossx = uy * vz - uz * vy;\n\tvar crossy = uz * vx - ux * vz;\n\tvar crossz = ux * vy - uy * vx;\n\tvar absSq = crossx * crossx + crossy * crossy + crossz * crossz;\n\tvar area3D = Math.sqrt(absSq) / 2;\n\treturn area3D;\n};\nTriangle.centroid = function (a, b, c) {\n\tvar x = (a.x + b.x + c.x) / 3;\n\tvar y = (a.y + b.y + c.y) / 3;\n\treturn new Coordinate(x, y);\n};\nTriangle.inCentre = function (a, b, c) {\n\tvar len0 = b.distance(c);\n\tvar len1 = a.distance(c);\n\tvar len2 = a.distance(b);\n\tvar circum = len0 + len1 + len2;\n\tvar inCentreX = (len0 * a.x + len1 * b.x + len2 * c.x) / circum;\n\tvar inCentreY = (len0 * a.y + len1 * b.y + len2 * c.y) / circum;\n\treturn new Coordinate(inCentreX, inCentreY);\n};\n","import WKTWriter from '../../io/WKTWriter';\nimport Coordinate from '../../geom/Coordinate';\nimport Double from '../../../../../java/lang/Double';\nimport extend from '../../../../../extend';\nexport default function PointPairDistance() {\n\tthis._pt = [new Coordinate(), new Coordinate()];\n\tthis._distance = Double.NaN;\n\tthis._isNull = true;\n}\nextend(PointPairDistance.prototype, {\n\tgetCoordinates: function () {\n\t\treturn this._pt;\n\t},\n\tgetCoordinate: function (i) {\n\t\treturn this._pt[i];\n\t},\n\tsetMinimum: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet ptDist = arguments[0];\n\t\t\tthis.setMinimum(ptDist._pt[0], ptDist._pt[1]);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tif (this._isNull) {\n\t\t\t\tthis.initialize(p0, p1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar dist = p0.distance(p1);\n\t\t\tif (dist < this._distance) this.initialize(p0, p1, dist);\n\t\t}\n\t},\n\tinitialize: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tthis._isNull = true;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tthis._pt[0].setCoordinate(p0);\n\t\t\tthis._pt[1].setCoordinate(p1);\n\t\t\tthis._distance = p0.distance(p1);\n\t\t\tthis._isNull = false;\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1], distance = arguments[2];\n\t\t\tthis._pt[0].setCoordinate(p0);\n\t\t\tthis._pt[1].setCoordinate(p1);\n\t\t\tthis._distance = distance;\n\t\t\tthis._isNull = false;\n\t\t}\n\t},\n\ttoString: function () {\n\t\treturn WKTWriter.toLineString(this._pt[0], this._pt[1]);\n\t},\n\tgetDistance: function () {\n\t\treturn this._distance;\n\t},\n\tsetMaximum: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet ptDist = arguments[0];\n\t\t\tthis.setMaximum(ptDist._pt[0], ptDist._pt[1]);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tif (this._isNull) {\n\t\t\t\tthis.initialize(p0, p1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar dist = p0.distance(p1);\n\t\t\tif (dist > this._distance) this.initialize(p0, p1, dist);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PointPairDistance;\n\t}\n});\n","import LineString from '../../geom/LineString';\nimport Geometry from '../../geom/Geometry';\nimport Coordinate from '../../geom/Coordinate';\nimport Polygon from '../../geom/Polygon';\nimport extend from '../../../../../extend';\nimport LineSegment from '../../geom/LineSegment';\nimport PointPairDistance from './PointPairDistance';\nimport GeometryCollection from '../../geom/GeometryCollection';\nexport default function DistanceToPoint() {}\nextend(DistanceToPoint.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DistanceToPoint;\n\t}\n});\nDistanceToPoint.computeDistance = function () {\n\tif (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof LineString && arguments[1] instanceof Coordinate)) {\n\t\tlet line = arguments[0], pt = arguments[1], ptDist = arguments[2];\n\t\tvar tempSegment = new LineSegment();\n\t\tvar coords = line.getCoordinates();\n\t\tfor (var i = 0; i < coords.length - 1; i++) {\n\t\t\ttempSegment.setCoordinates(coords[i], coords[i + 1]);\n\t\t\tvar closestPt = tempSegment.closestPoint(pt);\n\t\t\tptDist.setMinimum(closestPt, pt);\n\t\t}\n\t} else if (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof Polygon && arguments[1] instanceof Coordinate)) {\n\t\tlet poly = arguments[0], pt = arguments[1], ptDist = arguments[2];\n\t\tDistanceToPoint.computeDistance(poly.getExteriorRing(), pt, ptDist);\n\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\tDistanceToPoint.computeDistance(poly.getInteriorRingN(i), pt, ptDist);\n\t\t}\n\t} else if (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof Geometry && arguments[1] instanceof Coordinate)) {\n\t\tlet geom = arguments[0], pt = arguments[1], ptDist = arguments[2];\n\t\tif (geom instanceof LineString) {\n\t\t\tDistanceToPoint.computeDistance(geom, pt, ptDist);\n\t\t} else if (geom instanceof Polygon) {\n\t\t\tDistanceToPoint.computeDistance(geom, pt, ptDist);\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tvar gc = geom;\n\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\tvar g = gc.getGeometryN(i);\n\t\t\t\tDistanceToPoint.computeDistance(g, pt, ptDist);\n\t\t\t}\n\t\t} else {\n\t\t\tptDist.setMinimum(geom.getCoordinate(), pt);\n\t\t}\n\t} else if (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof LineSegment && arguments[1] instanceof Coordinate)) {\n\t\tlet segment = arguments[0], pt = arguments[1], ptDist = arguments[2];\n\t\tvar closestPt = segment.closestPoint(pt);\n\t\tptDist.setMinimum(closestPt, pt);\n\t}\n};\n","import DistanceToPoint from './DistanceToPoint';\nimport CoordinateFilter from '../../geom/CoordinateFilter';\nimport Coordinate from '../../geom/Coordinate';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../../extend';\nimport PointPairDistance from './PointPairDistance';\nimport CoordinateSequenceFilter from '../../geom/CoordinateSequenceFilter';\nexport default function DiscreteHausdorffDistance() {\n\tthis._g0 = null;\n\tthis._g1 = null;\n\tthis._ptDist = new PointPairDistance();\n\tthis._densifyFrac = 0.0;\n\tlet g0 = arguments[0], g1 = arguments[1];\n\tthis._g0 = g0;\n\tthis._g1 = g1;\n}\nextend(DiscreteHausdorffDistance.prototype, {\n\tgetCoordinates: function () {\n\t\treturn this._ptDist.getCoordinates();\n\t},\n\tsetDensifyFraction: function (densifyFrac) {\n\t\tif (densifyFrac > 1.0 || densifyFrac <= 0.0) throw new IllegalArgumentException(\"Fraction is not in range (0.0 - 1.0]\");\n\t\tthis._densifyFrac = densifyFrac;\n\t},\n\tcompute: function (g0, g1) {\n\t\tthis.computeOrientedDistance(g0, g1, this._ptDist);\n\t\tthis.computeOrientedDistance(g1, g0, this._ptDist);\n\t},\n\tdistance: function () {\n\t\tthis.compute(this._g0, this._g1);\n\t\treturn this._ptDist.getDistance();\n\t},\n\tcomputeOrientedDistance: function (discreteGeom, geom, ptDist) {\n\t\tvar distFilter = new MaxPointDistanceFilter(geom);\n\t\tdiscreteGeom.apply(distFilter);\n\t\tptDist.setMaximum(distFilter.getMaxPointDistance());\n\t\tif (this._densifyFrac > 0) {\n\t\t\tvar fracFilter = new MaxDensifiedByFractionDistanceFilter(geom, this._densifyFrac);\n\t\t\tdiscreteGeom.apply(fracFilter);\n\t\t\tptDist.setMaximum(fracFilter.getMaxPointDistance());\n\t\t}\n\t},\n\torientedDistance: function () {\n\t\tthis.computeOrientedDistance(this._g0, this._g1, this._ptDist);\n\t\treturn this._ptDist.getDistance();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DiscreteHausdorffDistance;\n\t}\n});\nDiscreteHausdorffDistance.distance = function () {\n\tif (arguments.length === 2) {\n\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\tvar dist = new DiscreteHausdorffDistance(g0, g1);\n\t\treturn dist.distance();\n\t} else if (arguments.length === 3) {\n\t\tlet g0 = arguments[0], g1 = arguments[1], densifyFrac = arguments[2];\n\t\tvar dist = new DiscreteHausdorffDistance(g0, g1);\n\t\tdist.setDensifyFraction(densifyFrac);\n\t\treturn dist.distance();\n\t}\n};\nfunction MaxPointDistanceFilter() {\n\tthis._maxPtDist = new PointPairDistance();\n\tthis._minPtDist = new PointPairDistance();\n\tthis._euclideanDist = new DistanceToPoint();\n\tthis._geom = null;\n\tlet geom = arguments[0];\n\tthis._geom = geom;\n}\nextend(MaxPointDistanceFilter.prototype, {\n\tfilter: function (pt) {\n\t\tthis._minPtDist.initialize();\n\t\tDistanceToPoint.computeDistance(this._geom, pt, this._minPtDist);\n\t\tthis._maxPtDist.setMaximum(this._minPtDist);\n\t},\n\tgetMaxPointDistance: function () {\n\t\treturn this._maxPtDist;\n\t},\n\tinterfaces_: function () {\n\t\treturn [CoordinateFilter];\n\t},\n\tgetClass: function () {\n\t\treturn MaxPointDistanceFilter;\n\t}\n});\nfunction MaxDensifiedByFractionDistanceFilter() {\n\tthis._maxPtDist = new PointPairDistance();\n\tthis._minPtDist = new PointPairDistance();\n\tthis._geom = null;\n\tthis._numSubSegs = 0;\n\tlet geom = arguments[0], fraction = arguments[1];\n\tthis._geom = geom;\n\tthis._numSubSegs = Math.trunc(Math.round(1.0 / fraction));\n}\nextend(MaxDensifiedByFractionDistanceFilter.prototype, {\n\tfilter: function (seq, index) {\n\t\tif (index === 0) return null;\n\t\tvar p0 = seq.getCoordinate(index - 1);\n\t\tvar p1 = seq.getCoordinate(index);\n\t\tvar delx = (p1.x - p0.x) / this._numSubSegs;\n\t\tvar dely = (p1.y - p0.y) / this._numSubSegs;\n\t\tfor (var i = 0; i < this._numSubSegs; i++) {\n\t\t\tvar x = p0.x + i * delx;\n\t\t\tvar y = p0.y + i * dely;\n\t\t\tvar pt = new Coordinate(x, y);\n\t\t\tthis._minPtDist.initialize();\n\t\t\tDistanceToPoint.computeDistance(this._geom, pt, this._minPtDist);\n\t\t\tthis._maxPtDist.setMaximum(this._minPtDist);\n\t\t}\n\t},\n\tisDone: function () {\n\t\treturn false;\n\t},\n\tisGeometryChanged: function () {\n\t\treturn false;\n\t},\n\tgetMaxPointDistance: function () {\n\t\treturn this._maxPtDist;\n\t},\n\tinterfaces_: function () {\n\t\treturn [CoordinateSequenceFilter];\n\t},\n\tgetClass: function () {\n\t\treturn MaxDensifiedByFractionDistanceFilter;\n\t}\n});\nDiscreteHausdorffDistance.MaxPointDistanceFilter = MaxPointDistanceFilter;\nDiscreteHausdorffDistance.MaxDensifiedByFractionDistanceFilter = MaxDensifiedByFractionDistanceFilter;\n","import extend from '../../../../extend';\nexport default function ItemVisitor() {}\nextend(ItemVisitor.prototype, {\n\tvisitItem: function (item) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ItemVisitor;\n\t}\n});\n","import extend from '../../../../../extend';\nexport default function PointOnGeometryLocator() {}\nextend(PointOnGeometryLocator.prototype, {\n\tlocate: function (p) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PointOnGeometryLocator;\n\t}\n});\n","import WKTWriter from '../../io/WKTWriter';\nimport Coordinate from '../../geom/Coordinate';\nimport Double from '../../../../../java/lang/Double';\nimport extend from '../../../../../extend';\nimport Comparator from '../../../../../java/util/Comparator';\nexport default function IntervalRTreeNode() {\n\tthis._min = Double.POSITIVE_INFINITY;\n\tthis._max = Double.NEGATIVE_INFINITY;\n}\nextend(IntervalRTreeNode.prototype, {\n\tgetMin: function () {\n\t\treturn this._min;\n\t},\n\tintersects: function (queryMin, queryMax) {\n\t\tif (this._min > queryMax || this._max < queryMin) return false;\n\t\treturn true;\n\t},\n\tgetMax: function () {\n\t\treturn this._max;\n\t},\n\ttoString: function () {\n\t\treturn WKTWriter.toLineString(new Coordinate(this._min, 0), new Coordinate(this._max, 0));\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn IntervalRTreeNode;\n\t}\n});\nfunction NodeComparator() {}\nextend(NodeComparator.prototype, {\n\tcompare: function (o1, o2) {\n\t\tvar n1 = o1;\n\t\tvar n2 = o2;\n\t\tvar mid1 = (n1._min + n1._max) / 2;\n\t\tvar mid2 = (n2._min + n2._max) / 2;\n\t\tif (mid1 < mid2) return -1;\n\t\tif (mid1 > mid2) return 1;\n\t\treturn 0;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function () {\n\t\treturn NodeComparator;\n\t}\n});\nIntervalRTreeNode.NodeComparator = NodeComparator;\n","import IntervalRTreeNode from './IntervalRTreeNode';\nimport extend from '../../../../../extend';\nimport inherits from '../../../../../inherits';\nexport default function IntervalRTreeLeafNode() {\n\tIntervalRTreeNode.apply(this);\n\tthis._item = null;\n\tlet min = arguments[0], max = arguments[1], item = arguments[2];\n\tthis._min = min;\n\tthis._max = max;\n\tthis._item = item;\n}\ninherits(IntervalRTreeLeafNode, IntervalRTreeNode);\nextend(IntervalRTreeLeafNode.prototype, {\n\tquery: function (queryMin, queryMax, visitor) {\n\t\tif (!this.intersects(queryMin, queryMax)) return null;\n\t\tvisitor.visitItem(this._item);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn IntervalRTreeLeafNode;\n\t}\n});\n","import Arrays from './Arrays'\nimport ArrayList from './ArrayList'\n\nconst Collections = {\n  reverseOrder: function () {\n    return {\n      compare (a, b) {\n        return b.compareTo(a)\n      }\n    }\n  },\n  min: function (l) {\n    Collections.sort(l)\n    return l.get(0)\n  },\n  sort: function (l, c) {\n    const a = l.toArray()\n    if (c) {\n      Arrays.sort(a, c)\n    } else {\n      Arrays.sort(a)\n    }\n    const i = l.iterator()\n    for (let pos = 0, alen = a.length; pos < alen; pos++) {\n      i.next()\n      i.set(a[pos])\n    }\n  },\n  singletonList: function (o) {\n    const arrayList = new ArrayList()\n    arrayList.add(o)\n    return arrayList\n  }\n}\n\nexport default Collections\n","import IntervalRTreeNode from './IntervalRTreeNode';\nimport extend from '../../../../../extend';\nimport inherits from '../../../../../inherits';\nexport default function IntervalRTreeBranchNode() {\n\tIntervalRTreeNode.apply(this);\n\tthis._node1 = null;\n\tthis._node2 = null;\n\tlet n1 = arguments[0], n2 = arguments[1];\n\tthis._node1 = n1;\n\tthis._node2 = n2;\n\tthis.buildExtent(this._node1, this._node2);\n}\ninherits(IntervalRTreeBranchNode, IntervalRTreeNode);\nextend(IntervalRTreeBranchNode.prototype, {\n\tbuildExtent: function (n1, n2) {\n\t\tthis._min = Math.min(n1._min, n2._min);\n\t\tthis._max = Math.max(n1._max, n2._max);\n\t},\n\tquery: function (queryMin, queryMax, visitor) {\n\t\tif (!this.intersects(queryMin, queryMax)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._node1 !== null) this._node1.query(queryMin, queryMax, visitor);\n\t\tif (this._node2 !== null) this._node2.query(queryMin, queryMax, visitor);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn IntervalRTreeBranchNode;\n\t}\n});\n","import WKTWriter from '../../io/WKTWriter';\nimport Coordinate from '../../geom/Coordinate';\nimport IntervalRTreeLeafNode from './IntervalRTreeLeafNode';\nimport IntervalRTreeNode from './IntervalRTreeNode';\nimport extend from '../../../../../extend';\nimport Collections from '../../../../../java/util/Collections';\nimport System from '../../../../../java/lang/System';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport IntervalRTreeBranchNode from './IntervalRTreeBranchNode';\nexport default function SortedPackedIntervalRTree() {\n\tthis._leaves = new ArrayList();\n\tthis._root = null;\n\tthis._level = 0;\n}\nextend(SortedPackedIntervalRTree.prototype, {\n\tbuildTree: function () {\n\t\tCollections.sort(this._leaves, new IntervalRTreeNode.NodeComparator());\n\t\tvar src = this._leaves;\n\t\tvar temp = null;\n\t\tvar dest = new ArrayList();\n\t\twhile (true) {\n\t\t\tthis.buildLevel(src, dest);\n\t\t\tif (dest.size() === 1) return dest.get(0);\n\t\t\ttemp = src;\n\t\t\tsrc = dest;\n\t\t\tdest = temp;\n\t\t}\n\t},\n\tinsert: function (min, max, item) {\n\t\tif (this._root !== null) throw new IllegalStateException(\"Index cannot be added to once it has been queried\");\n\t\tthis._leaves.add(new IntervalRTreeLeafNode(min, max, item));\n\t},\n\tquery: function (min, max, visitor) {\n\t\tthis.init();\n\t\tthis._root.query(min, max, visitor);\n\t},\n\tbuildRoot: function () {\n\t\tif (this._root !== null) return null;\n\t\tthis._root = this.buildTree();\n\t},\n\tprintNode: function (node) {\n\t\tSystem.out.println(WKTWriter.toLineString(new Coordinate(node._min, this._level), new Coordinate(node._max, this._level)));\n\t},\n\tinit: function () {\n\t\tif (this._root !== null) return null;\n\t\tthis.buildRoot();\n\t},\n\tbuildLevel: function (src, dest) {\n\t\tthis._level++;\n\t\tdest.clear();\n\t\tfor (var i = 0; i < src.size(); i += 2) {\n\t\t\tvar n1 = src.get(i);\n\t\t\tvar n2 = i + 1 < src.size() ? src.get(i) : null;\n\t\t\tif (n2 === null) {\n\t\t\t\tdest.add(n1);\n\t\t\t} else {\n\t\t\t\tvar node = new IntervalRTreeBranchNode(src.get(i), src.get(i + 1));\n\t\t\t\tdest.add(node);\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SortedPackedIntervalRTree;\n\t}\n});\n","import LineString from '../LineString';\nimport Geometry from '../Geometry';\nimport hasInterface from '../../../../../hasInterface';\nimport Collection from '../../../../../java/util/Collection';\nimport LinearRing from '../LinearRing';\nimport extend from '../../../../../extend';\nimport GeometryComponentFilter from '../GeometryComponentFilter';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default function LinearComponentExtracter() {\n\tthis._lines = null;\n\tthis._isForcedToLineString = false;\n\tif (arguments.length === 1) {\n\t\tlet lines = arguments[0];\n\t\tthis._lines = lines;\n\t} else if (arguments.length === 2) {\n\t\tlet lines = arguments[0], isForcedToLineString = arguments[1];\n\t\tthis._lines = lines;\n\t\tthis._isForcedToLineString = isForcedToLineString;\n\t}\n}\nextend(LinearComponentExtracter.prototype, {\n\tfilter: function (geom) {\n\t\tif (this._isForcedToLineString && geom instanceof LinearRing) {\n\t\t\tvar line = geom.getFactory().createLineString(geom.getCoordinateSequence());\n\t\t\tthis._lines.add(line);\n\t\t\treturn null;\n\t\t}\n\t\tif (geom instanceof LineString) this._lines.add(geom);\n\t},\n\tsetForceToLineString: function (isForcedToLineString) {\n\t\tthis._isForcedToLineString = isForcedToLineString;\n\t},\n\tinterfaces_: function () {\n\t\treturn [GeometryComponentFilter];\n\t},\n\tgetClass: function () {\n\t\treturn LinearComponentExtracter;\n\t}\n});\nLinearComponentExtracter.getGeometry = function () {\n\tif (arguments.length === 1) {\n\t\tlet geom = arguments[0];\n\t\treturn geom.getFactory().buildGeometry(LinearComponentExtracter.getLines(geom));\n\t} else if (arguments.length === 2) {\n\t\tlet geom = arguments[0], forceToLineString = arguments[1];\n\t\treturn geom.getFactory().buildGeometry(LinearComponentExtracter.getLines(geom, forceToLineString));\n\t}\n};\nLinearComponentExtracter.getLines = function () {\n\tif (arguments.length === 1) {\n\t\tlet geom = arguments[0];\n\t\treturn LinearComponentExtracter.getLines(geom, false);\n\t} else if (arguments.length === 2) {\n\t\tif (hasInterface(arguments[0], Collection) && hasInterface(arguments[1], Collection)) {\n\t\t\tlet geoms = arguments[0], lines = arguments[1];\n\t\t\tfor (var i = geoms.iterator(); i.hasNext(); ) {\n\t\t\t\tvar g = i.next();\n\t\t\t\tLinearComponentExtracter.getLines(g, lines);\n\t\t\t}\n\t\t\treturn lines;\n\t\t} else if (arguments[0] instanceof Geometry && typeof arguments[1] === \"boolean\") {\n\t\t\tlet geom = arguments[0], forceToLineString = arguments[1];\n\t\t\tvar lines = new ArrayList();\n\t\t\tgeom.apply(new LinearComponentExtracter(lines, forceToLineString));\n\t\t\treturn lines;\n\t\t} else if (arguments[0] instanceof Geometry && hasInterface(arguments[1], Collection)) {\n\t\t\tlet geom = arguments[0], lines = arguments[1];\n\t\t\tif (geom instanceof LineString) {\n\t\t\t\tlines.add(geom);\n\t\t\t} else {\n\t\t\t\tgeom.apply(new LinearComponentExtracter(lines));\n\t\t\t}\n\t\t\treturn lines;\n\t\t}\n\t} else if (arguments.length === 3) {\n\t\tif (typeof arguments[2] === \"boolean\" && (hasInterface(arguments[0], Collection) && hasInterface(arguments[1], Collection))) {\n\t\t\tlet geoms = arguments[0], lines = arguments[1], forceToLineString = arguments[2];\n\t\t\tfor (var i = geoms.iterator(); i.hasNext(); ) {\n\t\t\t\tvar g = i.next();\n\t\t\t\tLinearComponentExtracter.getLines(g, lines, forceToLineString);\n\t\t\t}\n\t\t\treturn lines;\n\t\t} else if (typeof arguments[2] === \"boolean\" && (arguments[0] instanceof Geometry && hasInterface(arguments[1], Collection))) {\n\t\t\tlet geom = arguments[0], lines = arguments[1], forceToLineString = arguments[2];\n\t\t\tgeom.apply(new LinearComponentExtracter(lines, forceToLineString));\n\t\t\treturn lines;\n\t\t}\n\t}\n};\n","import ItemVisitor from './ItemVisitor';\nimport extend from '../../../../extend';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function ArrayListVisitor() {\n\tthis._items = new ArrayList();\n}\nextend(ArrayListVisitor.prototype, {\n\tvisitItem: function (item) {\n\t\tthis._items.add(item);\n\t},\n\tgetItems: function () {\n\t\treturn this._items;\n\t},\n\tinterfaces_: function () {\n\t\treturn [ItemVisitor];\n\t},\n\tgetClass: function () {\n\t\treturn ArrayListVisitor;\n\t}\n});\n","import Location from '../geom/Location';\nimport hasInterface from '../../../../hasInterface';\nimport Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport Orientation from './Orientation';\nimport CoordinateSequence from '../geom/CoordinateSequence';\nexport default function RayCrossingCounter() {\n\tthis._p = null;\n\tthis._crossingCount = 0;\n\tthis._isPointOnSegment = false;\n\tlet p = arguments[0];\n\tthis._p = p;\n}\nextend(RayCrossingCounter.prototype, {\n\tcountSegment: function (p1, p2) {\n\t\tif (p1.x < this._p.x && p2.x < this._p.x) return null;\n\t\tif (this._p.x === p2.x && this._p.y === p2.y) {\n\t\t\tthis._isPointOnSegment = true;\n\t\t\treturn null;\n\t\t}\n\t\tif (p1.y === this._p.y && p2.y === this._p.y) {\n\t\t\tvar minx = p1.x;\n\t\t\tvar maxx = p2.x;\n\t\t\tif (minx > maxx) {\n\t\t\t\tminx = p2.x;\n\t\t\t\tmaxx = p1.x;\n\t\t\t}\n\t\t\tif (this._p.x >= minx && this._p.x <= maxx) {\n\t\t\t\tthis._isPointOnSegment = true;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tif (p1.y > this._p.y && p2.y <= this._p.y || p2.y > this._p.y && p1.y <= this._p.y) {\n\t\t\tvar orient = Orientation.index(p1, p2, this._p);\n\t\t\tif (orient === Orientation.COLLINEAR) {\n\t\t\t\tthis._isPointOnSegment = true;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (p2.y < p1.y) {\n\t\t\t\torient = -orient;\n\t\t\t}\n\t\t\tif (orient === Orientation.LEFT) {\n\t\t\t\tthis._crossingCount++;\n\t\t\t}\n\t\t}\n\t},\n\tisPointInPolygon: function () {\n\t\treturn this.getLocation() !== Location.EXTERIOR;\n\t},\n\tgetLocation: function () {\n\t\tif (this._isPointOnSegment) return Location.BOUNDARY;\n\t\tif (this._crossingCount % 2 === 1) {\n\t\t\treturn Location.INTERIOR;\n\t\t}\n\t\treturn Location.EXTERIOR;\n\t},\n\tisOnSegment: function () {\n\t\treturn this._isPointOnSegment;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RayCrossingCounter;\n\t}\n});\nRayCrossingCounter.locatePointInRing = function () {\n\tif (arguments[0] instanceof Coordinate && hasInterface(arguments[1], CoordinateSequence)) {\n\t\tlet p = arguments[0], ring = arguments[1];\n\t\tvar counter = new RayCrossingCounter(p);\n\t\tvar p1 = new Coordinate();\n\t\tvar p2 = new Coordinate();\n\t\tfor (var i = 1; i < ring.size(); i++) {\n\t\t\tring.getCoordinate(i, p1);\n\t\t\tring.getCoordinate(i - 1, p2);\n\t\t\tcounter.countSegment(p1, p2);\n\t\t\tif (counter.isOnSegment()) return counter.getLocation();\n\t\t}\n\t\treturn counter.getLocation();\n\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Array) {\n\t\tlet p = arguments[0], ring = arguments[1];\n\t\tvar counter = new RayCrossingCounter(p);\n\t\tfor (var i = 1; i < ring.length; i++) {\n\t\t\tvar p1 = ring[i];\n\t\t\tvar p2 = ring[i - 1];\n\t\t\tcounter.countSegment(p1, p2);\n\t\t\tif (counter.isOnSegment()) return counter.getLocation();\n\t\t}\n\t\treturn counter.getLocation();\n\t}\n};\n","import hasInterface from '../../../../../hasInterface';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport ItemVisitor from '../../index/ItemVisitor';\nimport PointOnGeometryLocator from './PointOnGeometryLocator';\nimport LinearRing from '../../geom/LinearRing';\nimport extend from '../../../../../extend';\nimport SortedPackedIntervalRTree from '../../index/intervalrtree/SortedPackedIntervalRTree';\nimport LineSegment from '../../geom/LineSegment';\nimport Polygonal from '../../geom/Polygonal';\nimport LinearComponentExtracter from '../../geom/util/LinearComponentExtracter';\nimport ArrayListVisitor from '../../index/ArrayListVisitor';\nimport RayCrossingCounter from '../RayCrossingCounter';\nexport default function IndexedPointInAreaLocator() {\n\tthis._index = null;\n\tlet g = arguments[0];\n\tif (!(hasInterface(g, Polygonal) || g instanceof LinearRing)) throw new IllegalArgumentException(\"Argument must be Polygonal or LinearRing\");\n\tthis._index = new IntervalIndexedGeometry(g);\n}\nextend(IndexedPointInAreaLocator.prototype, {\n\tlocate: function (p) {\n\t\tvar rcc = new RayCrossingCounter(p);\n\t\tvar visitor = new SegmentVisitor(rcc);\n\t\tthis._index.query(p.y, p.y, visitor);\n\t\treturn rcc.getLocation();\n\t},\n\tinterfaces_: function () {\n\t\treturn [PointOnGeometryLocator];\n\t},\n\tgetClass: function () {\n\t\treturn IndexedPointInAreaLocator;\n\t}\n});\nfunction SegmentVisitor() {\n\tthis._counter = null;\n\tlet counter = arguments[0];\n\tthis._counter = counter;\n}\nextend(SegmentVisitor.prototype, {\n\tvisitItem: function (item) {\n\t\tvar seg = item;\n\t\tthis._counter.countSegment(seg.getCoordinate(0), seg.getCoordinate(1));\n\t},\n\tinterfaces_: function () {\n\t\treturn [ItemVisitor];\n\t},\n\tgetClass: function () {\n\t\treturn SegmentVisitor;\n\t}\n});\nfunction IntervalIndexedGeometry() {\n\tthis._index = new SortedPackedIntervalRTree();\n\tlet geom = arguments[0];\n\tthis.init(geom);\n}\nextend(IntervalIndexedGeometry.prototype, {\n\tinit: function (geom) {\n\t\tvar lines = LinearComponentExtracter.getLines(geom);\n\t\tfor (var i = lines.iterator(); i.hasNext(); ) {\n\t\t\tvar line = i.next();\n\t\t\tvar pts = line.getCoordinates();\n\t\t\tthis.addLine(pts);\n\t\t}\n\t},\n\taddLine: function (pts) {\n\t\tfor (var i = 1; i < pts.length; i++) {\n\t\t\tvar seg = new LineSegment(pts[i - 1], pts[i]);\n\t\t\tvar min = Math.min(seg.p0.y, seg.p1.y);\n\t\t\tvar max = Math.max(seg.p0.y, seg.p1.y);\n\t\t\tthis._index.insert(min, max, seg);\n\t\t}\n\t},\n\tquery: function () {\n\t\tif (arguments.length === 2) {\n\t\t\tlet min = arguments[0], max = arguments[1];\n\t\t\tvar visitor = new ArrayListVisitor();\n\t\t\tthis._index.query(min, max, visitor);\n\t\t\treturn visitor.getItems();\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet min = arguments[0], max = arguments[1], visitor = arguments[2];\n\t\t\tthis._index.query(min, max, visitor);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn IntervalIndexedGeometry;\n\t}\n});\nIndexedPointInAreaLocator.SegmentVisitor = SegmentVisitor;\nIndexedPointInAreaLocator.IntervalIndexedGeometry = IntervalIndexedGeometry;\n","import Location from '../geom/Location';\nimport hasInterface from '../../../../hasInterface';\nimport Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport CoordinateSequence from '../geom/CoordinateSequence';\nimport RobustLineIntersector from './RobustLineIntersector';\nimport RayCrossingCounter from './RayCrossingCounter';\nexport default function PointLocation() {}\nextend(PointLocation.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PointLocation;\n\t}\n});\nPointLocation.isOnLine = function () {\n\tif (arguments[0] instanceof Coordinate && hasInterface(arguments[1], CoordinateSequence)) {\n\t\tlet p = arguments[0], line = arguments[1];\n\t\tvar lineIntersector = new RobustLineIntersector();\n\t\tvar p0 = new Coordinate();\n\t\tvar p1 = new Coordinate();\n\t\tvar n = line.size();\n\t\tfor (var i = 1; i < n; i++) {\n\t\t\tline.getCoordinate(i - 1, p0);\n\t\t\tline.getCoordinate(i, p1);\n\t\t\tlineIntersector.computeIntersection(p, p0, p1);\n\t\t\tif (lineIntersector.hasIntersection()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Array) {\n\t\tlet p = arguments[0], line = arguments[1];\n\t\tvar lineIntersector = new RobustLineIntersector();\n\t\tfor (var i = 1; i < line.length; i++) {\n\t\t\tvar p0 = line[i - 1];\n\t\t\tvar p1 = line[i];\n\t\t\tlineIntersector.computeIntersection(p, p0, p1);\n\t\t\tif (lineIntersector.hasIntersection()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\nPointLocation.locateInRing = function (p, ring) {\n\treturn RayCrossingCounter.locatePointInRing(p, ring);\n};\nPointLocation.isInRing = function (p, ring) {\n\treturn PointLocation.locateInRing(p, ring) !== Location.EXTERIOR;\n};\n","import Iterator from '../../../../java/util/Iterator';\nimport NoSuchElementException from '../../../../java/util/NoSuchElementException';\nimport extend from '../../../../extend';\nimport GeometryCollection from './GeometryCollection';\nexport default function GeometryCollectionIterator() {\n\tthis._parent = null;\n\tthis._atStart = null;\n\tthis._max = null;\n\tthis._index = null;\n\tthis._subcollectionIterator = null;\n\tlet parent = arguments[0];\n\tthis._parent = parent;\n\tthis._atStart = true;\n\tthis._index = 0;\n\tthis._max = parent.getNumGeometries();\n}\nextend(GeometryCollectionIterator.prototype, {\n\tnext: function () {\n\t\tif (this._atStart) {\n\t\t\tthis._atStart = false;\n\t\t\tif (GeometryCollectionIterator.isAtomic(this._parent)) this._index++;\n\t\t\treturn this._parent;\n\t\t}\n\t\tif (this._subcollectionIterator !== null) {\n\t\t\tif (this._subcollectionIterator.hasNext()) {\n\t\t\t\treturn this._subcollectionIterator.next();\n\t\t\t} else {\n\t\t\t\tthis._subcollectionIterator = null;\n\t\t\t}\n\t\t}\n\t\tif (this._index >= this._max) {\n\t\t\tthrow new NoSuchElementException();\n\t\t}\n\t\tvar obj = this._parent.getGeometryN(this._index++);\n\t\tif (obj instanceof GeometryCollection) {\n\t\t\tthis._subcollectionIterator = new GeometryCollectionIterator(obj);\n\t\t\treturn this._subcollectionIterator.next();\n\t\t}\n\t\treturn obj;\n\t},\n\tremove: function () {\n\t\tthrow new UnsupportedOperationException(this.getClass().getName());\n\t},\n\thasNext: function () {\n\t\tif (this._atStart) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this._subcollectionIterator !== null) {\n\t\t\tif (this._subcollectionIterator.hasNext()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis._subcollectionIterator = null;\n\t\t}\n\t\tif (this._index >= this._max) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Iterator];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryCollectionIterator;\n\t}\n});\nGeometryCollectionIterator.isAtomic = function (geom) {\n\treturn !(geom instanceof GeometryCollection);\n};\n","import Location from '../../geom/Location';\nimport Polygon from '../../geom/Polygon';\nimport PointLocation from '../PointLocation';\nimport PointOnGeometryLocator from './PointOnGeometryLocator';\nimport extend from '../../../../../extend';\nimport GeometryCollectionIterator from '../../geom/GeometryCollectionIterator';\nimport GeometryCollection from '../../geom/GeometryCollection';\nexport default function SimplePointInAreaLocator() {\n\tthis._geom = null;\n\tlet geom = arguments[0];\n\tthis._geom = geom;\n}\nextend(SimplePointInAreaLocator.prototype, {\n\tlocate: function (p) {\n\t\treturn SimplePointInAreaLocator.locate(p, this._geom);\n\t},\n\tinterfaces_: function () {\n\t\treturn [PointOnGeometryLocator];\n\t},\n\tgetClass: function () {\n\t\treturn SimplePointInAreaLocator;\n\t}\n});\nSimplePointInAreaLocator.locatePointInPolygon = function (p, poly) {\n\tif (poly.isEmpty()) return Location.EXTERIOR;\n\tvar shell = poly.getExteriorRing();\n\tvar shellLoc = SimplePointInAreaLocator.locatePointInRing(p, shell);\n\tif (shellLoc !== Location.INTERIOR) return shellLoc;\n\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\tvar hole = poly.getInteriorRingN(i);\n\t\tvar holeLoc = SimplePointInAreaLocator.locatePointInRing(p, hole);\n\t\tif (holeLoc === Location.BOUNDARY) return Location.BOUNDARY;\n\t\tif (holeLoc === Location.INTERIOR) return Location.EXTERIOR;\n\t}\n\treturn Location.INTERIOR;\n};\nSimplePointInAreaLocator.locatePointInRing = function (p, ring) {\n\tif (!ring.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n\treturn PointLocation.locateInRing(p, ring.getCoordinates());\n};\nSimplePointInAreaLocator.containsPointInPolygon = function (p, poly) {\n\treturn Location.EXTERIOR !== SimplePointInAreaLocator.locatePointInPolygon(p, poly);\n};\nSimplePointInAreaLocator.locateInGeometry = function (p, geom) {\n\tif (geom instanceof Polygon) {\n\t\treturn SimplePointInAreaLocator.locatePointInPolygon(p, geom);\n\t} else if (geom instanceof GeometryCollection) {\n\t\tvar geomi = new GeometryCollectionIterator(geom);\n\t\twhile (geomi.hasNext()) {\n\t\t\tvar g2 = geomi.next();\n\t\t\tif (g2 !== geom) {\n\t\t\t\tvar loc = SimplePointInAreaLocator.locateInGeometry(p, g2);\n\t\t\t\tif (loc !== Location.EXTERIOR) return loc;\n\t\t\t}\n\t\t}\n\t}\n\treturn Location.EXTERIOR;\n};\nSimplePointInAreaLocator.locate = function (p, geom) {\n\tif (geom.isEmpty()) return Location.EXTERIOR;\n\treturn SimplePointInAreaLocator.locateInGeometry(p, geom);\n};\n","import extend from '../../../../../extend';\nexport default function SimilarityMeasure() {}\nextend(SimilarityMeasure.prototype, {\n\tmeasure: function (g1, g2) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SimilarityMeasure;\n\t}\n});\n","import SimilarityMeasure from './SimilarityMeasure';\nimport extend from '../../../../../extend';\nexport default function AreaSimilarityMeasure() {}\nextend(AreaSimilarityMeasure.prototype, {\n\tmeasure: function (g1, g2) {\n\t\tvar areaInt = g1.intersection(g2).getArea();\n\t\tvar areaUnion = g1.union(g2).getArea();\n\t\treturn areaInt / areaUnion;\n\t},\n\tinterfaces_: function () {\n\t\treturn [SimilarityMeasure];\n\t},\n\tgetClass: function () {\n\t\treturn AreaSimilarityMeasure;\n\t}\n});\n","import SimilarityMeasure from './SimilarityMeasure';\nimport extend from '../../../../../extend';\nimport Envelope from '../../geom/Envelope';\nimport DiscreteHausdorffDistance from '../distance/DiscreteHausdorffDistance';\nexport default function HausdorffSimilarityMeasure() {}\nextend(HausdorffSimilarityMeasure.prototype, {\n\tmeasure: function (g1, g2) {\n\t\tvar distance = DiscreteHausdorffDistance.distance(g1, g2, HausdorffSimilarityMeasure.DENSIFY_FRACTION);\n\t\tvar env = new Envelope(g1.getEnvelopeInternal());\n\t\tenv.expandToInclude(g2.getEnvelopeInternal());\n\t\tvar envSize = HausdorffSimilarityMeasure.diagonalSize(env);\n\t\tvar measure = 1 - distance / envSize;\n\t\treturn measure;\n\t},\n\tinterfaces_: function () {\n\t\treturn [SimilarityMeasure];\n\t},\n\tgetClass: function () {\n\t\treturn HausdorffSimilarityMeasure;\n\t}\n});\nHausdorffSimilarityMeasure.diagonalSize = function (env) {\n\tif (env.isNull()) return 0.0;\n\tvar width = env.getWidth();\n\tvar hgt = env.getHeight();\n\treturn Math.sqrt(width * width + hgt * hgt);\n};\nHausdorffSimilarityMeasure.DENSIFY_FRACTION = 0.25;\n","import extend from '../../../../../extend';\nexport default function SimilarityMeasureCombiner() {}\nextend(SimilarityMeasureCombiner.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SimilarityMeasureCombiner;\n\t}\n});\nSimilarityMeasureCombiner.combine = function (measure1, measure2) {\n\treturn Math.min(measure1, measure2);\n};\n","import LineString from '../geom/LineString';\nimport Geometry from '../geom/Geometry';\nimport Coordinate from '../geom/Coordinate';\nimport Point from '../geom/Point';\nimport Polygon from '../geom/Polygon';\nimport extend from '../../../../extend';\nimport Orientation from './Orientation';\nimport GeometryCollection from '../geom/GeometryCollection';\nexport default function Centroid() {\n\tthis._areaBasePt = null;\n\tthis._triangleCent3 = new Coordinate();\n\tthis._areasum2 = 0;\n\tthis._cg3 = new Coordinate();\n\tthis._lineCentSum = new Coordinate();\n\tthis._totalLength = 0.0;\n\tthis._ptCount = 0;\n\tthis._ptCentSum = new Coordinate();\n\tlet geom = arguments[0];\n\tthis._areaBasePt = null;\n\tthis.add(geom);\n}\nextend(Centroid.prototype, {\n\tsetAreaBasePoint: function (basePt) {\n\t\tthis._areaBasePt = basePt;\n\t},\n\taddPoint: function (pt) {\n\t\tthis._ptCount += 1;\n\t\tthis._ptCentSum.x += pt.x;\n\t\tthis._ptCentSum.y += pt.y;\n\t},\n\taddLineSegments: function (pts) {\n\t\tvar lineLen = 0.0;\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tvar segmentLen = pts[i].distance(pts[i + 1]);\n\t\t\tif (segmentLen === 0.0) continue;\n\t\t\tlineLen += segmentLen;\n\t\t\tvar midx = (pts[i].x + pts[i + 1].x) / 2;\n\t\t\tthis._lineCentSum.x += segmentLen * midx;\n\t\t\tvar midy = (pts[i].y + pts[i + 1].y) / 2;\n\t\t\tthis._lineCentSum.y += segmentLen * midy;\n\t\t}\n\t\tthis._totalLength += lineLen;\n\t\tif (lineLen === 0.0 && pts.length > 0) this.addPoint(pts[0]);\n\t},\n\taddHole: function (pts) {\n\t\tvar isPositiveArea = Orientation.isCCW(pts);\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tthis.addTriangle(this._areaBasePt, pts[i], pts[i + 1], isPositiveArea);\n\t\t}\n\t\tthis.addLineSegments(pts);\n\t},\n\tgetCentroid: function () {\n\t\tvar cent = new Coordinate();\n\t\tif (Math.abs(this._areasum2) > 0.0) {\n\t\t\tcent.x = this._cg3.x / 3 / this._areasum2;\n\t\t\tcent.y = this._cg3.y / 3 / this._areasum2;\n\t\t} else if (this._totalLength > 0.0) {\n\t\t\tcent.x = this._lineCentSum.x / this._totalLength;\n\t\t\tcent.y = this._lineCentSum.y / this._totalLength;\n\t\t} else if (this._ptCount > 0) {\n\t\t\tcent.x = this._ptCentSum.x / this._ptCount;\n\t\t\tcent.y = this._ptCentSum.y / this._ptCount;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t\treturn cent;\n\t},\n\taddShell: function (pts) {\n\t\tif (pts.length > 0) this.setAreaBasePoint(pts[0]);\n\t\tvar isPositiveArea = !Orientation.isCCW(pts);\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tthis.addTriangle(this._areaBasePt, pts[i], pts[i + 1], isPositiveArea);\n\t\t}\n\t\tthis.addLineSegments(pts);\n\t},\n\taddTriangle: function (p0, p1, p2, isPositiveArea) {\n\t\tvar sign = isPositiveArea ? 1.0 : -1.0;\n\t\tCentroid.centroid3(p0, p1, p2, this._triangleCent3);\n\t\tvar area2 = Centroid.area2(p0, p1, p2);\n\t\tthis._cg3.x += sign * area2 * this._triangleCent3.x;\n\t\tthis._cg3.y += sign * area2 * this._triangleCent3.y;\n\t\tthis._areasum2 += sign * area2;\n\t},\n\tadd: function () {\n\t\tif (arguments[0] instanceof Polygon) {\n\t\t\tlet poly = arguments[0];\n\t\t\tthis.addShell(poly.getExteriorRing().getCoordinates());\n\t\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\t\tthis.addHole(poly.getInteriorRingN(i).getCoordinates());\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (geom.isEmpty()) return null;\n\t\t\tif (geom instanceof Point) {\n\t\t\t\tthis.addPoint(geom.getCoordinate());\n\t\t\t} else if (geom instanceof LineString) {\n\t\t\t\tthis.addLineSegments(geom.getCoordinates());\n\t\t\t} else if (geom instanceof Polygon) {\n\t\t\t\tvar poly = geom;\n\t\t\t\tthis.add(poly);\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.add(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Centroid;\n\t}\n});\nCentroid.area2 = function (p1, p2, p3) {\n\treturn (p2.x - p1.x) * (p3.y - p1.y) - (p3.x - p1.x) * (p2.y - p1.y);\n};\nCentroid.centroid3 = function (p1, p2, p3, c) {\n\tc.x = p1.x + p2.x + p3.x;\n\tc.y = p1.y + p2.y + p3.y;\n\treturn null;\n};\nCentroid.getCentroid = function (geom) {\n\tvar cent = new Centroid(geom);\n\treturn cent.getCentroid();\n};\n","import Location from '../geom/Location';\nimport hasInterface from '../../../../hasInterface';\nimport Coordinate from '../geom/Coordinate';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport MathUtil from '../math/MathUtil';\nimport CGAlgorithmsDD from './CGAlgorithmsDD';\nimport CoordinateSequence from '../geom/CoordinateSequence';\nimport RobustLineIntersector from './RobustLineIntersector';\nimport Envelope from '../geom/Envelope';\nimport RayCrossingCounter from './RayCrossingCounter';\nexport default function CGAlgorithms() {}\nextend(CGAlgorithms.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CGAlgorithms;\n\t}\n});\nCGAlgorithms.orientationIndex = function (p1, p2, q) {\n\treturn CGAlgorithmsDD.orientationIndex(p1, p2, q);\n};\nCGAlgorithms.signedArea = function () {\n\tif (arguments[0] instanceof Array) {\n\t\tlet ring = arguments[0];\n\t\tif (ring.length < 3) return 0.0;\n\t\tvar sum = 0.0;\n\t\tvar x0 = ring[0].x;\n\t\tfor (var i = 1; i < ring.length - 1; i++) {\n\t\t\tvar x = ring[i].x - x0;\n\t\t\tvar y1 = ring[i + 1].y;\n\t\t\tvar y2 = ring[i - 1].y;\n\t\t\tsum += x * (y2 - y1);\n\t\t}\n\t\treturn sum / 2.0;\n\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\tlet ring = arguments[0];\n\t\tvar n = ring.size();\n\t\tif (n < 3) return 0.0;\n\t\tvar p0 = new Coordinate();\n\t\tvar p1 = new Coordinate();\n\t\tvar p2 = new Coordinate();\n\t\tring.getCoordinate(0, p1);\n\t\tring.getCoordinate(1, p2);\n\t\tvar x0 = p1.x;\n\t\tp2.x -= x0;\n\t\tvar sum = 0.0;\n\t\tfor (var i = 1; i < n - 1; i++) {\n\t\t\tp0.y = p1.y;\n\t\t\tp1.x = p2.x;\n\t\t\tp1.y = p2.y;\n\t\t\tring.getCoordinate(i + 1, p2);\n\t\t\tp2.x -= x0;\n\t\t\tsum += p1.x * (p0.y - p2.y);\n\t\t}\n\t\treturn sum / 2.0;\n\t}\n};\nCGAlgorithms.distanceLineLine = function (A, B, C, D) {\n\tif (A.equals(B)) return CGAlgorithms.distancePointLine(A, C, D);\n\tif (C.equals(D)) return CGAlgorithms.distancePointLine(D, A, B);\n\tvar noIntersection = false;\n\tif (!Envelope.intersects(A, B, C, D)) {\n\t\tnoIntersection = true;\n\t} else {\n\t\tvar denom = (B.x - A.x) * (D.y - C.y) - (B.y - A.y) * (D.x - C.x);\n\t\tif (denom === 0) {\n\t\t\tnoIntersection = true;\n\t\t} else {\n\t\t\tvar r_num = (A.y - C.y) * (D.x - C.x) - (A.x - C.x) * (D.y - C.y);\n\t\t\tvar s_num = (A.y - C.y) * (B.x - A.x) - (A.x - C.x) * (B.y - A.y);\n\t\t\tvar s = s_num / denom;\n\t\t\tvar r = r_num / denom;\n\t\t\tif (r < 0 || r > 1 || s < 0 || s > 1) {\n\t\t\t\tnoIntersection = true;\n\t\t\t}\n\t\t}\n\t}\n\tif (noIntersection) {\n\t\treturn MathUtil.min(CGAlgorithms.distancePointLine(A, C, D), CGAlgorithms.distancePointLine(B, C, D), CGAlgorithms.distancePointLine(C, A, B), CGAlgorithms.distancePointLine(D, A, B));\n\t}\n\treturn 0.0;\n};\nCGAlgorithms.isPointInRing = function (p, ring) {\n\treturn CGAlgorithms.locatePointInRing(p, ring) !== Location.EXTERIOR;\n};\nCGAlgorithms.computeLength = function (pts) {\n\tvar n = pts.size();\n\tif (n <= 1) return 0.0;\n\tvar len = 0.0;\n\tvar p = new Coordinate();\n\tpts.getCoordinate(0, p);\n\tvar x0 = p.x;\n\tvar y0 = p.y;\n\tfor (var i = 1; i < n; i++) {\n\t\tpts.getCoordinate(i, p);\n\t\tvar x1 = p.x;\n\t\tvar y1 = p.y;\n\t\tvar dx = x1 - x0;\n\t\tvar dy = y1 - y0;\n\t\tlen += Math.sqrt(dx * dx + dy * dy);\n\t\tx0 = x1;\n\t\ty0 = y1;\n\t}\n\treturn len;\n};\nCGAlgorithms.isCCW = function (ring) {\n\tvar nPts = ring.length - 1;\n\tif (nPts < 3) throw new IllegalArgumentException(\"Ring has fewer than 4 points, so orientation cannot be determined\");\n\tvar hiPt = ring[0];\n\tvar hiIndex = 0;\n\tfor (var i = 1; i <= nPts; i++) {\n\t\tvar p = ring[i];\n\t\tif (p.y > hiPt.y) {\n\t\t\thiPt = p;\n\t\t\thiIndex = i;\n\t\t}\n\t}\n\tvar iPrev = hiIndex;\n\tdo {\n\t\tiPrev = iPrev - 1;\n\t\tif (iPrev < 0) iPrev = nPts;\n\t} while (ring[iPrev].equals2D(hiPt) && iPrev !== hiIndex);\n\tvar iNext = hiIndex;\n\tdo {\n\t\tiNext = (iNext + 1) % nPts;\n\t} while (ring[iNext].equals2D(hiPt) && iNext !== hiIndex);\n\tvar prev = ring[iPrev];\n\tvar next = ring[iNext];\n\tif (prev.equals2D(hiPt) || next.equals2D(hiPt) || prev.equals2D(next)) return false;\n\tvar disc = CGAlgorithms.computeOrientation(prev, hiPt, next);\n\tvar isCCW = false;\n\tif (disc === 0) {\n\t\tisCCW = prev.x > next.x;\n\t} else {\n\t\tisCCW = disc > 0;\n\t}\n\treturn isCCW;\n};\nCGAlgorithms.locatePointInRing = function (p, ring) {\n\treturn RayCrossingCounter.locatePointInRing(p, ring);\n};\nCGAlgorithms.distancePointLinePerpendicular = function (p, A, B) {\n\tvar len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n\tvar s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n\treturn Math.abs(s) * Math.sqrt(len2);\n};\nCGAlgorithms.computeOrientation = function (p1, p2, q) {\n\treturn CGAlgorithms.orientationIndex(p1, p2, q);\n};\nCGAlgorithms.distancePointLine = function () {\n\tif (arguments.length === 2) {\n\t\tlet p = arguments[0], line = arguments[1];\n\t\tif (line.length === 0) throw new IllegalArgumentException(\"Line array must contain at least one vertex\");\n\t\tvar minDistance = p.distance(line[0]);\n\t\tfor (var i = 0; i < line.length - 1; i++) {\n\t\t\tvar dist = CGAlgorithms.distancePointLine(p, line[i], line[i + 1]);\n\t\t\tif (dist < minDistance) {\n\t\t\t\tminDistance = dist;\n\t\t\t}\n\t\t}\n\t\treturn minDistance;\n\t} else if (arguments.length === 3) {\n\t\tlet p = arguments[0], A = arguments[1], B = arguments[2];\n\t\tif (A.x === B.x && A.y === B.y) return p.distance(A);\n\t\tvar len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n\t\tvar r = ((p.x - A.x) * (B.x - A.x) + (p.y - A.y) * (B.y - A.y)) / len2;\n\t\tif (r <= 0.0) return p.distance(A);\n\t\tif (r >= 1.0) return p.distance(B);\n\t\tvar s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n\t\treturn Math.abs(s) * Math.sqrt(len2);\n\t}\n};\nCGAlgorithms.isOnLine = function (p, pt) {\n\tvar lineIntersector = new RobustLineIntersector();\n\tfor (var i = 1; i < pt.length; i++) {\n\t\tvar p0 = pt[i - 1];\n\t\tvar p1 = pt[i];\n\t\tlineIntersector.computeIntersection(p, p0, p1);\n\t\tif (lineIntersector.hasIntersection()) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\nCGAlgorithms.CLOCKWISE = -1;\nCGAlgorithms.RIGHT = CGAlgorithms.CLOCKWISE;\nCGAlgorithms.COUNTERCLOCKWISE = 1;\nCGAlgorithms.LEFT = CGAlgorithms.COUNTERCLOCKWISE;\nCGAlgorithms.COLLINEAR = 0;\nCGAlgorithms.STRAIGHT = CGAlgorithms.COLLINEAR;\n","/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nexport default function EmptyStackException(message) {\n  this.message = message || '';\n};\nEmptyStackException.prototype = new Error();\n\n\n/**\n * @type {string}\n */\nEmptyStackException.prototype.name = 'EmptyStackException';\n","import EmptyStackException from './EmptyStackException'\nimport List from './List'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Stack.html\n *\n * @extends {List}\n * @constructor\n * @private\n */\nexport default function Stack() {\n  /**\n   * @type {Array}\n   * @private\n   */\n  this.array_ = [];\n};\nStack.prototype = new List();\n\n\n/**\n * @override\n */\nStack.prototype.add = function(e) {\n  this.array_.push(e);\n  return true;\n};\n\n\n/**\n * @override\n */\nStack.prototype.get = function(index) {\n  if (index < 0 || index >= this.size()) {\n    throw new IndexOutOfBoundsException();\n  }\n\n  return this.array_[index];\n};\n\n\n/**\n * Pushes an item onto the top of this stack.\n * @param {Object} e\n * @return {Object}\n */\nStack.prototype.push = function(e) {\n  this.array_.push(e);\n  return e;\n};\n\n\n/**\n * Pushes an item onto the top of this stack.\n * @param {Object} e\n * @return {Object}\n */\nStack.prototype.pop = function(e) {\n  if (this.array_.length === 0) {\n    throw new EmptyStackException();\n  }\n\n  return this.array_.pop();\n};\n\n\n/**\n * Looks at the object at the top of this stack without removing it from the\n * stack.\n * @return {Object}\n */\nStack.prototype.peek = function() {\n  if (this.array_.length === 0) {\n    throw new EmptyStackException();\n  }\n\n  return this.array_[this.array_.length - 1];\n};\n\n\n/**\n * Tests if this stack is empty.\n * @return {boolean} true if and only if this stack contains no items; false\n *         otherwise.\n */\nStack.prototype.empty = function() {\n  if (this.array_.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n\n/**\n * @return {boolean}\n */\nStack.prototype.isEmpty = function() {\n  return this.empty();\n};\n\n\n/**\n * Returns the 1-based position where an object is on this stack. If the object\n * o occurs as an item in this stack, this method returns the distance from the\n * top of the stack of the occurrence nearest the top of the stack; the topmost\n * item on the stack is considered to be at distance 1. The equals method is\n * used to compare o to the items in this stack.\n *\n * NOTE: does not currently actually use equals. (=== is used)\n *\n * @param {Object} o\n * @return {number} the 1-based position from the top of the stack where the\n *         object is located; the return value -1 indicates that the object is\n *         not on the stack.\n */\nStack.prototype.search = function(o) {\n  return this.array_.indexOf(o);\n};\n\n\n/**\n * @return {number}\n * @export\n */\nStack.prototype.size = function() {\n  return this.array_.length;\n};\n\n\n/**\n * @return {Array}\n */\nStack.prototype.toArray = function() {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n","import TreeSet from '../../../../java/util/TreeSet';\nimport CoordinateFilter from '../geom/CoordinateFilter';\nimport extend from '../../../../extend';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function UniqueCoordinateArrayFilter() {\n\tthis.treeSet = new TreeSet();\n\tthis.list = new ArrayList();\n}\nextend(UniqueCoordinateArrayFilter.prototype, {\n\tfilter: function (coord) {\n\t\tif (!this.treeSet.contains(coord)) {\n\t\t\tthis.list.add(coord);\n\t\t\tthis.treeSet.add(coord);\n\t\t}\n\t},\n\tgetCoordinates: function () {\n\t\tvar coordinates = new Array(this.list.size()).fill(null);\n\t\treturn this.list.toArray(coordinates);\n\t},\n\tinterfaces_: function () {\n\t\treturn [CoordinateFilter];\n\t},\n\tgetClass: function () {\n\t\treturn UniqueCoordinateArrayFilter;\n\t}\n});\nUniqueCoordinateArrayFilter.filterCoordinates = function (coords) {\n\tvar filter = new UniqueCoordinateArrayFilter();\n\tfor (var i = 0; i < coords.length; i++) {\n\t\tfilter.filter(coords[i]);\n\t}\n\treturn filter.getCoordinates();\n};\n","import TreeSet from '../../../../java/util/TreeSet';\nimport CoordinateList from '../geom/CoordinateList';\nimport Arrays from '../../../../java/util/Arrays';\nimport PointLocation from './PointLocation';\nimport Stack from '../../../../java/util/Stack';\nimport extend from '../../../../extend';\nimport Orientation from './Orientation';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Comparator from '../../../../java/util/Comparator';\nimport UniqueCoordinateArrayFilter from '../util/UniqueCoordinateArrayFilter';\nimport Assert from '../util/Assert';\nexport default function ConvexHull() {\n\tthis._geomFactory = null;\n\tthis._inputPts = null;\n\tif (arguments.length === 1) {\n\t\tlet geometry = arguments[0];\n\t\tConvexHull.call(this, ConvexHull.extractCoordinates(geometry), geometry.getFactory());\n\t} else if (arguments.length === 2) {\n\t\tlet pts = arguments[0], geomFactory = arguments[1];\n\t\tthis._inputPts = UniqueCoordinateArrayFilter.filterCoordinates(pts);\n\t\tthis._geomFactory = geomFactory;\n\t}\n}\nextend(ConvexHull.prototype, {\n\tpreSort: function (pts) {\n\t\tvar t = null;\n\t\tfor (var i = 1; i < pts.length; i++) {\n\t\t\tif (pts[i].y < pts[0].y || pts[i].y === pts[0].y && pts[i].x < pts[0].x) {\n\t\t\t\tt = pts[0];\n\t\t\t\tpts[0] = pts[i];\n\t\t\t\tpts[i] = t;\n\t\t\t}\n\t\t}\n\t\tArrays.sort(pts, 1, pts.length, new RadialComparator(pts[0]));\n\t\treturn pts;\n\t},\n\tcomputeOctRing: function (inputPts) {\n\t\tvar octPts = this.computeOctPts(inputPts);\n\t\tvar coordList = new CoordinateList();\n\t\tcoordList.add(octPts, false);\n\t\tif (coordList.size() < 3) {\n\t\t\treturn null;\n\t\t}\n\t\tcoordList.closeRing();\n\t\treturn coordList.toCoordinateArray();\n\t},\n\tlineOrPolygon: function (coordinates) {\n\t\tcoordinates = this.cleanRing(coordinates);\n\t\tif (coordinates.length === 3) {\n\t\t\treturn this._geomFactory.createLineString([coordinates[0], coordinates[1]]);\n\t\t}\n\t\tvar linearRing = this._geomFactory.createLinearRing(coordinates);\n\t\treturn this._geomFactory.createPolygon(linearRing);\n\t},\n\tcleanRing: function (original) {\n\t\tAssert.equals(original[0], original[original.length - 1]);\n\t\tvar cleanedRing = new ArrayList();\n\t\tvar previousDistinctCoordinate = null;\n\t\tfor (var i = 0; i <= original.length - 2; i++) {\n\t\t\tvar currentCoordinate = original[i];\n\t\t\tvar nextCoordinate = original[i + 1];\n\t\t\tif (currentCoordinate.equals(nextCoordinate)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (previousDistinctCoordinate !== null && this.isBetween(previousDistinctCoordinate, currentCoordinate, nextCoordinate)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcleanedRing.add(currentCoordinate);\n\t\t\tpreviousDistinctCoordinate = currentCoordinate;\n\t\t}\n\t\tcleanedRing.add(original[original.length - 1]);\n\t\tvar cleanedRingCoordinates = new Array(cleanedRing.size()).fill(null);\n\t\treturn cleanedRing.toArray(cleanedRingCoordinates);\n\t},\n\tisBetween: function (c1, c2, c3) {\n\t\tif (Orientation.index(c1, c2, c3) !== 0) {\n\t\t\treturn false;\n\t\t}\n\t\tif (c1.x !== c3.x) {\n\t\t\tif (c1.x <= c2.x && c2.x <= c3.x) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (c3.x <= c2.x && c2.x <= c1.x) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tif (c1.y !== c3.y) {\n\t\t\tif (c1.y <= c2.y && c2.y <= c3.y) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (c3.y <= c2.y && c2.y <= c1.y) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\treduce: function (inputPts) {\n\t\tvar polyPts = this.computeOctRing(inputPts);\n\t\tif (polyPts === null) return inputPts;\n\t\tvar reducedSet = new TreeSet();\n\t\tfor (var i = 0; i < polyPts.length; i++) {\n\t\t\treducedSet.add(polyPts[i]);\n\t\t}\n\t\tfor (var i = 0; i < inputPts.length; i++) {\n\t\t\tif (!PointLocation.isInRing(inputPts[i], polyPts)) {\n\t\t\t\treducedSet.add(inputPts[i]);\n\t\t\t}\n\t\t}\n\t\tvar reducedPts = CoordinateArrays.toCoordinateArray(reducedSet);\n\t\tif (reducedPts.length < 3) return this.padArray3(reducedPts);\n\t\treturn reducedPts;\n\t},\n\tgetConvexHull: function () {\n\t\tif (this._inputPts.length === 0) {\n\t\t\treturn this._geomFactory.createGeometryCollection();\n\t\t}\n\t\tif (this._inputPts.length === 1) {\n\t\t\treturn this._geomFactory.createPoint(this._inputPts[0]);\n\t\t}\n\t\tif (this._inputPts.length === 2) {\n\t\t\treturn this._geomFactory.createLineString(this._inputPts);\n\t\t}\n\t\tvar reducedPts = this._inputPts;\n\t\tif (this._inputPts.length > 50) {\n\t\t\treducedPts = this.reduce(this._inputPts);\n\t\t}\n\t\tvar sortedPts = this.preSort(reducedPts);\n\t\tvar cHS = this.grahamScan(sortedPts);\n\t\tvar cH = this.toCoordinateArray(cHS);\n\t\treturn this.lineOrPolygon(cH);\n\t},\n\tpadArray3: function (pts) {\n\t\tvar pad = new Array(3).fill(null);\n\t\tfor (var i = 0; i < pad.length; i++) {\n\t\t\tif (i < pts.length) {\n\t\t\t\tpad[i] = pts[i];\n\t\t\t} else pad[i] = pts[0];\n\t\t}\n\t\treturn pad;\n\t},\n\tcomputeOctPts: function (inputPts) {\n\t\tvar pts = new Array(8).fill(null);\n\t\tfor (var j = 0; j < pts.length; j++) {\n\t\t\tpts[j] = inputPts[0];\n\t\t}\n\t\tfor (var i = 1; i < inputPts.length; i++) {\n\t\t\tif (inputPts[i].x < pts[0].x) {\n\t\t\t\tpts[0] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x - inputPts[i].y < pts[1].x - pts[1].y) {\n\t\t\t\tpts[1] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].y > pts[2].y) {\n\t\t\t\tpts[2] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x + inputPts[i].y > pts[3].x + pts[3].y) {\n\t\t\t\tpts[3] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x > pts[4].x) {\n\t\t\t\tpts[4] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x - inputPts[i].y > pts[5].x - pts[5].y) {\n\t\t\t\tpts[5] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].y < pts[6].y) {\n\t\t\t\tpts[6] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x + inputPts[i].y < pts[7].x + pts[7].y) {\n\t\t\t\tpts[7] = inputPts[i];\n\t\t\t}\n\t\t}\n\t\treturn pts;\n\t},\n\ttoCoordinateArray: function (stack) {\n\t\tvar coordinates = new Array(stack.size()).fill(null);\n\t\tfor (var i = 0; i < stack.size(); i++) {\n\t\t\tvar coordinate = stack.get(i);\n\t\t\tcoordinates[i] = coordinate;\n\t\t}\n\t\treturn coordinates;\n\t},\n\tgrahamScan: function (c) {\n\t\tvar p = null;\n\t\tvar ps = new Stack();\n\t\tps.push(c[0]);\n\t\tps.push(c[1]);\n\t\tps.push(c[2]);\n\t\tfor (var i = 3; i < c.length; i++) {\n\t\t\tp = ps.pop();\n\t\t\twhile (!ps.empty() && Orientation.index(ps.peek(), p, c[i]) > 0) {\n\t\t\t\tp = ps.pop();\n\t\t\t}\n\t\t\tps.push(p);\n\t\t\tps.push(c[i]);\n\t\t}\n\t\tps.push(c[0]);\n\t\treturn ps;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ConvexHull;\n\t}\n});\nConvexHull.extractCoordinates = function (geom) {\n\tvar filter = new UniqueCoordinateArrayFilter();\n\tgeom.apply(filter);\n\treturn filter.getCoordinates();\n};\nfunction RadialComparator() {\n\tthis._origin = null;\n\tlet origin = arguments[0];\n\tthis._origin = origin;\n}\nextend(RadialComparator.prototype, {\n\tcompare: function (o1, o2) {\n\t\tvar p1 = o1;\n\t\tvar p2 = o2;\n\t\treturn RadialComparator.polarCompare(this._origin, p1, p2);\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function () {\n\t\treturn RadialComparator;\n\t}\n});\nRadialComparator.polarCompare = function (o, p, q) {\n\tvar dxp = p.x - o.x;\n\tvar dyp = p.y - o.y;\n\tvar dxq = q.x - o.x;\n\tvar dyq = q.y - o.y;\n\tvar orient = Orientation.index(o, p, q);\n\tif (orient === Orientation.COUNTERCLOCKWISE) return 1;\n\tif (orient === Orientation.CLOCKWISE) return -1;\n\tvar op = dxp * dxp + dyp * dyp;\n\tvar oq = dxq * dxq + dyq * dyq;\n\tif (op < oq) {\n\t\treturn -1;\n\t}\n\tif (op > oq) {\n\t\treturn 1;\n\t}\n\treturn 0;\n};\nConvexHull.RadialComparator = RadialComparator;\n","import Geometry from '../geom/Geometry';\nimport Coordinate from '../geom/Coordinate';\nimport Polygon from '../geom/Polygon';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport GeometryCollection from '../geom/GeometryCollection';\nexport default function InteriorPointArea() {\n\tthis._factory = null;\n\tthis._interiorPoint = null;\n\tthis._maxWidth = 0.0;\n\tlet g = arguments[0];\n\tthis._factory = g.getFactory();\n\tthis.add(g);\n}\nextend(InteriorPointArea.prototype, {\n\taddPolygon: function (geometry) {\n\t\tif (geometry.isEmpty()) return null;\n\t\tvar intPt = null;\n\t\tvar width = null;\n\t\tvar bisector = this.horizontalBisector(geometry);\n\t\tif (bisector.getLength() === 0.0) {\n\t\t\twidth = 0;\n\t\t\tintPt = bisector.getCoordinate();\n\t\t} else {\n\t\t\tvar intersections = bisector.intersection(geometry);\n\t\t\tvar widestIntersection = this.widestGeometry(intersections);\n\t\t\twidth = widestIntersection.getEnvelopeInternal().getWidth();\n\t\t\tintPt = InteriorPointArea.centre(widestIntersection.getEnvelopeInternal());\n\t\t}\n\t\tif (this._interiorPoint === null || width > this._maxWidth) {\n\t\t\tthis._interiorPoint = intPt;\n\t\t\tthis._maxWidth = width;\n\t\t}\n\t},\n\tgetInteriorPoint: function () {\n\t\treturn this._interiorPoint;\n\t},\n\twidestGeometry: function () {\n\t\tif (arguments[0] instanceof GeometryCollection) {\n\t\t\tlet gc = arguments[0];\n\t\t\tif (gc.isEmpty()) {\n\t\t\t\treturn gc;\n\t\t\t}\n\t\t\tvar widestGeometry = gc.getGeometryN(0);\n\t\t\tfor (var i = 1; i < gc.getNumGeometries(); i++) {\n\t\t\t\tif (gc.getGeometryN(i).getEnvelopeInternal().getWidth() > widestGeometry.getEnvelopeInternal().getWidth()) {\n\t\t\t\t\twidestGeometry = gc.getGeometryN(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn widestGeometry;\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet geometry = arguments[0];\n\t\t\tif (!(geometry instanceof GeometryCollection)) {\n\t\t\t\treturn geometry;\n\t\t\t}\n\t\t\treturn this.widestGeometry(geometry);\n\t\t}\n\t},\n\thorizontalBisector: function (geometry) {\n\t\tvar envelope = geometry.getEnvelopeInternal();\n\t\tvar bisectY = SafeBisectorFinder.getBisectorY(geometry);\n\t\treturn this._factory.createLineString([new Coordinate(envelope.getMinX(), bisectY), new Coordinate(envelope.getMaxX(), bisectY)]);\n\t},\n\tadd: function (geom) {\n\t\tif (geom instanceof Polygon) {\n\t\t\tthis.addPolygon(geom);\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tvar gc = geom;\n\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\tthis.add(gc.getGeometryN(i));\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn InteriorPointArea;\n\t}\n});\nInteriorPointArea.centre = function (envelope) {\n\treturn new Coordinate(InteriorPointArea.avg(envelope.getMinX(), envelope.getMaxX()), InteriorPointArea.avg(envelope.getMinY(), envelope.getMaxY()));\n};\nInteriorPointArea.avg = function (a, b) {\n\treturn (a + b) / 2.0;\n};\nfunction SafeBisectorFinder() {\n\tthis._poly = null;\n\tthis._centreY = null;\n\tthis._hiY = Double.MAX_VALUE;\n\tthis._loY = -Double.MAX_VALUE;\n\tlet poly = arguments[0];\n\tthis._poly = poly;\n\tthis._hiY = poly.getEnvelopeInternal().getMaxY();\n\tthis._loY = poly.getEnvelopeInternal().getMinY();\n\tthis._centreY = InteriorPointArea.avg(this._loY, this._hiY);\n}\nextend(SafeBisectorFinder.prototype, {\n\tupdateInterval: function (y) {\n\t\tif (y <= this._centreY) {\n\t\t\tif (y > this._loY) this._loY = y;\n\t\t} else if (y > this._centreY) {\n\t\t\tif (y < this._hiY) {\n\t\t\t\tthis._hiY = y;\n\t\t\t}\n\t\t}\n\t},\n\tgetBisectorY: function () {\n\t\tthis.process(this._poly.getExteriorRing());\n\t\tfor (var i = 0; i < this._poly.getNumInteriorRing(); i++) {\n\t\t\tthis.process(this._poly.getInteriorRingN(i));\n\t\t}\n\t\tvar bisectY = InteriorPointArea.avg(this._hiY, this._loY);\n\t\treturn bisectY;\n\t},\n\tprocess: function (line) {\n\t\tvar seq = line.getCoordinateSequence();\n\t\tfor (var i = 0; i < seq.size(); i++) {\n\t\t\tvar y = seq.getY(i);\n\t\t\tthis.updateInterval(y);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SafeBisectorFinder;\n\t}\n});\nSafeBisectorFinder.getBisectorY = function (poly) {\n\tvar finder = new SafeBisectorFinder(poly);\n\treturn finder.getBisectorY();\n};\nInteriorPointArea.SafeBisectorFinder = SafeBisectorFinder;\n","import LineString from '../geom/LineString';\nimport Geometry from '../geom/Geometry';\nimport Coordinate from '../geom/Coordinate';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport GeometryCollection from '../geom/GeometryCollection';\nexport default function InteriorPointLine() {\n\tthis._centroid = null;\n\tthis._minDistance = Double.MAX_VALUE;\n\tthis._interiorPoint = null;\n\tlet g = arguments[0];\n\tthis._centroid = g.getCentroid().getCoordinate();\n\tthis.addInterior(g);\n\tif (this._interiorPoint === null) this.addEndpoints(g);\n}\nextend(InteriorPointLine.prototype, {\n\taddEndpoints: function () {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (geom instanceof LineString) {\n\t\t\t\tthis.addEndpoints(geom.getCoordinates());\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.addEndpoints(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tlet pts = arguments[0];\n\t\t\tthis.add(pts[0]);\n\t\t\tthis.add(pts[pts.length - 1]);\n\t\t}\n\t},\n\tgetInteriorPoint: function () {\n\t\treturn this._interiorPoint;\n\t},\n\taddInterior: function () {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (geom instanceof LineString) {\n\t\t\t\tthis.addInterior(geom.getCoordinates());\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.addInterior(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tlet pts = arguments[0];\n\t\t\tfor (var i = 1; i < pts.length - 1; i++) {\n\t\t\t\tthis.add(pts[i]);\n\t\t\t}\n\t\t}\n\t},\n\tadd: function (point) {\n\t\tvar dist = point.distance(this._centroid);\n\t\tif (dist < this._minDistance) {\n\t\t\tthis._interiorPoint = new Coordinate(point);\n\t\t\tthis._minDistance = dist;\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn InteriorPointLine;\n\t}\n});\n","import Geometry from '../geom/Geometry';\nimport Coordinate from '../geom/Coordinate';\nimport Point from '../geom/Point';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport GeometryCollection from '../geom/GeometryCollection';\nexport default function InteriorPointPoint() {\n\tthis._centroid = null;\n\tthis._minDistance = Double.MAX_VALUE;\n\tthis._interiorPoint = null;\n\tlet g = arguments[0];\n\tthis._centroid = g.getCentroid().getCoordinate();\n\tthis.add(g);\n}\nextend(InteriorPointPoint.prototype, {\n\tgetInteriorPoint: function () {\n\t\treturn this._interiorPoint;\n\t},\n\tadd: function () {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (geom instanceof Point) {\n\t\t\t\tthis.add(geom.getCoordinate());\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.add(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet point = arguments[0];\n\t\t\tvar dist = point.distance(this._centroid);\n\t\t\tif (dist < this._minDistance) {\n\t\t\t\tthis._interiorPoint = new Coordinate(point);\n\t\t\t\tthis._minDistance = dist;\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn InteriorPointPoint;\n\t}\n});\n","import extend from '../../../../../extend';\nimport LineSegment from '../../geom/LineSegment';\nexport default function MonotoneChainSelectAction() {\n\tthis.selectedSegment = new LineSegment();\n}\nextend(MonotoneChainSelectAction.prototype, {\n\tselect: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet seg = arguments[0];\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet mc = arguments[0], startIndex = arguments[1];\n\t\t\tmc.getLineSegment(startIndex, this.selectedSegment);\n\t\t\tthis.select(this.selectedSegment);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MonotoneChainSelectAction;\n\t}\n});\n","import extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default function NodeBase() {\n\tthis._items = new ArrayList();\n\tthis._subnode = new Array(2).fill(null);\n}\nextend(NodeBase.prototype, {\n\thasChildren: function () {\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tisPrunable: function () {\n\t\treturn !(this.hasChildren() || this.hasItems());\n\t},\n\taddAllItems: function (items) {\n\t\titems.addAll(this._items);\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].addAllItems(items);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\tsize: function () {\n\t\tvar subSize = 0;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tsubSize += this._subnode[i].size();\n\t\t\t}\n\t\t}\n\t\treturn subSize + this._items.size();\n\t},\n\taddAllItemsFromOverlapping: function (interval, resultItems) {\n\t\tif (interval !== null && !this.isSearchMatch(interval)) return null;\n\t\tresultItems.addAll(this._items);\n\t\tif (this._subnode[0] !== null) this._subnode[0].addAllItemsFromOverlapping(interval, resultItems);\n\t\tif (this._subnode[1] !== null) this._subnode[1].addAllItemsFromOverlapping(interval, resultItems);\n\t},\n\thasItems: function () {\n\t\treturn !this._items.isEmpty();\n\t},\n\tremove: function (itemInterval, item) {\n\t\tif (!this.isSearchMatch(itemInterval)) return false;\n\t\tvar found = false;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tfound = this._subnode[i].remove(itemInterval, item);\n\t\t\t\tif (found) {\n\t\t\t\t\tif (this._subnode[i].isPrunable()) this._subnode[i] = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (found) return found;\n\t\tfound = this._items.remove(item);\n\t\treturn found;\n\t},\n\tgetItems: function () {\n\t\treturn this._items;\n\t},\n\tdepth: function () {\n\t\tvar maxSubDepth = 0;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tvar sqd = this._subnode[i].depth();\n\t\t\t\tif (sqd > maxSubDepth) maxSubDepth = sqd;\n\t\t\t}\n\t\t}\n\t\treturn maxSubDepth + 1;\n\t},\n\tnodeSize: function () {\n\t\tvar subSize = 0;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tsubSize += this._subnode[i].nodeSize();\n\t\t\t}\n\t\t}\n\t\treturn subSize + 1;\n\t},\n\tadd: function (item) {\n\t\tthis._items.add(item);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn NodeBase;\n\t}\n});\nNodeBase.getSubnodeIndex = function (interval, centre) {\n\tvar subnodeIndex = -1;\n\tif (interval.min >= centre) subnodeIndex = 1;\n\tif (interval.max <= centre) subnodeIndex = 0;\n\treturn subnodeIndex;\n};\n","import extend from '../../../../../extend';\nexport default function Interval() {\n\tthis.min = null;\n\tthis.max = null;\n\tif (arguments.length === 0) {\n\t\tthis.min = 0.0;\n\t\tthis.max = 0.0;\n\t} else if (arguments.length === 1) {\n\t\tlet interval = arguments[0];\n\t\tthis.init(interval.min, interval.max);\n\t} else if (arguments.length === 2) {\n\t\tlet min = arguments[0], max = arguments[1];\n\t\tthis.init(min, max);\n\t}\n}\nextend(Interval.prototype, {\n\texpandToInclude: function (interval) {\n\t\tif (interval.max > this.max) this.max = interval.max;\n\t\tif (interval.min < this.min) this.min = interval.min;\n\t},\n\tgetWidth: function () {\n\t\treturn this.max - this.min;\n\t},\n\toverlaps: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet interval = arguments[0];\n\t\t\treturn this.overlaps(interval.min, interval.max);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet min = arguments[0], max = arguments[1];\n\t\t\tif (this.min > max || this.max < min) return false;\n\t\t\treturn true;\n\t\t}\n\t},\n\tgetMin: function () {\n\t\treturn this.min;\n\t},\n\ttoString: function () {\n\t\treturn \"[\" + this.min + \", \" + this.max + \"]\";\n\t},\n\tcontains: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Interval) {\n\t\t\t\tlet interval = arguments[0];\n\t\t\t\treturn this.contains(interval.min, interval.max);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\treturn p >= this.min && p <= this.max;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet min = arguments[0], max = arguments[1];\n\t\t\treturn min >= this.min && max <= this.max;\n\t\t}\n\t},\n\tinit: function (min, max) {\n\t\tthis.min = min;\n\t\tthis.max = max;\n\t\tif (min > max) {\n\t\t\tthis.min = max;\n\t\t\tthis.max = min;\n\t\t}\n\t},\n\tgetMax: function () {\n\t\treturn this.max;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Interval;\n\t}\n});\n","export default function DoubleBits () { }\nDoubleBits.exponent = function (d) {\n  return CVTFWD(64, d) - 1023\n}\nDoubleBits.powerOf2 = function (exp) {\n  return Math.pow(2, exp)\n}\n\n/**\n * Calculates the exponent of the bit-pattern for a number. Uses code from:\n * http://www.merlyn.demon.co.uk/js-exact.htm\n *\n * @param {Number}\n *          NumW 32 or 64 to denote the number of bits.\n * @param {Number}\n *          Qty the number to calculate the bit pattern for.\n * @return {Number} The integer value of the exponent.\n * @private\n */\nfunction CVTFWD (NumW, Qty) {\n  var Sign\n  var Expo\n  var Mant\n  var Bin\n  var Inf = {\n    32: {\n      d: 0x7F,\n      c: 0x80,\n      b: 0,\n      a: 0\n    },\n    64: {\n      d: 0x7FF0,\n      c: 0,\n      b: 0,\n      a: 0\n    }\n  }\n  var ExW = {\n    32: 8,\n    64: 11\n  }[NumW]\n\n  if (!Bin) {\n    Sign = Qty < 0 || 1 / Qty < 0 // OK for +-0\n    if (!isFinite(Qty)) {\n      Bin = Inf[NumW]\n      if (Sign) {\n        Bin.d += 1 << (NumW / 4 - 1)\n      }\n      Expo = Math.pow(2, ExW) - 1\n      Mant = 0\n    }\n  }\n\n  if (!Bin) {\n    Expo = {\n      32: 127,\n      64: 1023\n    }[NumW]\n    Mant = Math.abs(Qty)\n    while (Mant >= 2) {\n      Expo++\n      Mant /= 2\n    }\n    while (Mant < 1 && Expo > 0) {\n      Expo--\n      Mant *= 2\n    }\n    if (Expo <= 0) {\n      Mant /= 2\n    }\n    if (NumW === 32 && Expo > 254) {\n      Bin = {\n        d: Sign ? 0xFF : 0x7F,\n        c: 0x80,\n        b: 0,\n        a: 0\n      }\n      Expo = Math.pow(2, ExW) - 1\n      Mant = 0\n    }\n  }\n\n  return Expo\n}\n","import Interval from './Interval';\nimport extend from '../../../../../extend';\nimport DoubleBits from '../quadtree/DoubleBits';\nexport default function Key() {\n\tthis._pt = 0.0;\n\tthis._level = 0;\n\tthis._interval = null;\n\tlet interval = arguments[0];\n\tthis.computeKey(interval);\n}\nextend(Key.prototype, {\n\tgetInterval: function () {\n\t\treturn this._interval;\n\t},\n\tgetLevel: function () {\n\t\treturn this._level;\n\t},\n\tcomputeKey: function (itemInterval) {\n\t\tthis._level = Key.computeLevel(itemInterval);\n\t\tthis._interval = new Interval();\n\t\tthis.computeInterval(this._level, itemInterval);\n\t\twhile (!this._interval.contains(itemInterval)) {\n\t\t\tthis._level += 1;\n\t\t\tthis.computeInterval(this._level, itemInterval);\n\t\t}\n\t},\n\tcomputeInterval: function (level, itemInterval) {\n\t\tvar size = DoubleBits.powerOf2(level);\n\t\tthis._pt = Math.floor(itemInterval.getMin() / size) * size;\n\t\tthis._interval.init(this._pt, this._pt + size);\n\t},\n\tgetPoint: function () {\n\t\treturn this._pt;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Key;\n\t}\n});\nKey.computeLevel = function (interval) {\n\tvar dx = interval.getWidth();\n\tvar level = DoubleBits.exponent(dx) + 1;\n\treturn level;\n};\n","import NodeBase from './NodeBase';\nimport Interval from './Interval';\nimport extend from '../../../../../extend';\nimport Assert from '../../util/Assert';\nimport inherits from '../../../../../inherits';\nimport Key from './Key';\nexport default function Node() {\n\tNodeBase.apply(this);\n\tthis._interval = null;\n\tthis._centre = null;\n\tthis._level = null;\n\tlet interval = arguments[0], level = arguments[1];\n\tthis._interval = interval;\n\tthis._level = level;\n\tthis._centre = (interval.getMin() + interval.getMax()) / 2;\n}\ninherits(Node, NodeBase);\nextend(Node.prototype, {\n\tgetInterval: function () {\n\t\treturn this._interval;\n\t},\n\tfind: function (searchInterval) {\n\t\tvar subnodeIndex = NodeBase.getSubnodeIndex(searchInterval, this._centre);\n\t\tif (subnodeIndex === -1) return this;\n\t\tif (this._subnode[subnodeIndex] !== null) {\n\t\t\tvar node = this._subnode[subnodeIndex];\n\t\t\treturn node.find(searchInterval);\n\t\t}\n\t\treturn this;\n\t},\n\tinsert: function (node) {\n\t\tAssert.isTrue(this._interval === null || this._interval.contains(node._interval));\n\t\tvar index = NodeBase.getSubnodeIndex(node._interval, this._centre);\n\t\tif (node._level === this._level - 1) {\n\t\t\tthis._subnode[index] = node;\n\t\t} else {\n\t\t\tvar childNode = this.createSubnode(index);\n\t\t\tchildNode.insert(node);\n\t\t\tthis._subnode[index] = childNode;\n\t\t}\n\t},\n\tisSearchMatch: function (itemInterval) {\n\t\treturn itemInterval.overlaps(this._interval);\n\t},\n\tgetSubnode: function (index) {\n\t\tif (this._subnode[index] === null) {\n\t\t\tthis._subnode[index] = this.createSubnode(index);\n\t\t}\n\t\treturn this._subnode[index];\n\t},\n\tgetNode: function (searchInterval) {\n\t\tvar subnodeIndex = NodeBase.getSubnodeIndex(searchInterval, this._centre);\n\t\tif (subnodeIndex !== -1) {\n\t\t\tvar node = this.getSubnode(subnodeIndex);\n\t\t\treturn node.getNode(searchInterval);\n\t\t} else {\n\t\t\treturn this;\n\t\t}\n\t},\n\tcreateSubnode: function (index) {\n\t\tvar min = 0.0;\n\t\tvar max = 0.0;\n\t\tswitch (index) {\n\t\t\tcase 0:\n\t\t\t\tmin = this._interval.getMin();\n\t\t\t\tmax = this._centre;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tmin = this._centre;\n\t\t\t\tmax = this._interval.getMax();\n\t\t\t\tbreak;\n\t\t}\n\t\tvar subInt = new Interval(min, max);\n\t\tvar node = new Node(subInt, this._level - 1);\n\t\treturn node;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Node;\n\t}\n});\nNode.createNode = function (itemInterval) {\n\tvar key = new Key(itemInterval);\n\tvar node = new Node(key.getInterval(), key.getLevel());\n\treturn node;\n};\nNode.createExpanded = function (node, addInterval) {\n\tvar expandInt = new Interval(addInterval);\n\tif (node !== null) expandInt.expandToInclude(node._interval);\n\tvar largerNode = Node.createNode(expandInt);\n\tif (node !== null) largerNode.insert(node);\n\treturn largerNode;\n};\n","import extend from '../../../../../extend';\nimport DoubleBits from './DoubleBits';\nexport default function IntervalSize() {}\nextend(IntervalSize.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn IntervalSize;\n\t}\n});\nIntervalSize.isZeroWidth = function (min, max) {\n\tvar width = max - min;\n\tif (width === 0.0) return true;\n\tvar maxAbs = Math.max(Math.abs(min), Math.abs(max));\n\tvar scaledInterval = width / maxAbs;\n\tvar level = DoubleBits.exponent(scaledInterval);\n\treturn level <= IntervalSize.MIN_BINARY_EXPONENT;\n};\nIntervalSize.MIN_BINARY_EXPONENT = -50;\n","import NodeBase from './NodeBase';\nimport Node from './Node';\nimport extend from '../../../../../extend';\nimport IntervalSize from '../quadtree/IntervalSize';\nimport Assert from '../../util/Assert';\nimport inherits from '../../../../../inherits';\nexport default function Root() {\n\tNodeBase.apply(this);\n}\ninherits(Root, NodeBase);\nextend(Root.prototype, {\n\tinsert: function (itemInterval, item) {\n\t\tvar index = NodeBase.getSubnodeIndex(itemInterval, Root.origin);\n\t\tif (index === -1) {\n\t\t\tthis.add(item);\n\t\t\treturn null;\n\t\t}\n\t\tvar node = this._subnode[index];\n\t\tif (node === null || !node.getInterval().contains(itemInterval)) {\n\t\t\tvar largerNode = Node.createExpanded(node, itemInterval);\n\t\t\tthis._subnode[index] = largerNode;\n\t\t}\n\t\tthis.insertContained(this._subnode[index], itemInterval, item);\n\t},\n\tisSearchMatch: function (interval) {\n\t\treturn true;\n\t},\n\tinsertContained: function (tree, itemInterval, item) {\n\t\tAssert.isTrue(tree.getInterval().contains(itemInterval));\n\t\tvar isZeroArea = IntervalSize.isZeroWidth(itemInterval.getMin(), itemInterval.getMax());\n\t\tvar node = null;\n\t\tif (isZeroArea) node = tree.find(itemInterval); else node = tree.getNode(itemInterval);\n\t\tnode.add(item);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Root;\n\t}\n});\nRoot.origin = 0.0;\n","import Root from './Root';\nimport Interval from './Interval';\nimport extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default function Bintree() {\n\tthis._root = null;\n\tthis._minExtent = 1.0;\n\tthis._root = new Root();\n}\nextend(Bintree.prototype, {\n\tsize: function () {\n\t\tif (this._root !== null) return this._root.size();\n\t\treturn 0;\n\t},\n\tinsert: function (itemInterval, item) {\n\t\tthis.collectStats(itemInterval);\n\t\tvar insertInterval = Bintree.ensureExtent(itemInterval, this._minExtent);\n\t\tthis._root.insert(insertInterval, item);\n\t},\n\tquery: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (typeof arguments[0] === \"number\") {\n\t\t\t\tlet x = arguments[0];\n\t\t\t\treturn this.query(new Interval(x, x));\n\t\t\t} else if (arguments[0] instanceof Interval) {\n\t\t\t\tlet interval = arguments[0];\n\t\t\t\tvar foundItems = new ArrayList();\n\t\t\t\tthis.query(interval, foundItems);\n\t\t\t\treturn foundItems;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet interval = arguments[0], foundItems = arguments[1];\n\t\t\tthis._root.addAllItemsFromOverlapping(interval, foundItems);\n\t\t}\n\t},\n\titerator: function () {\n\t\tvar foundItems = new ArrayList();\n\t\tthis._root.addAllItems(foundItems);\n\t\treturn foundItems.iterator();\n\t},\n\tremove: function (itemInterval, item) {\n\t\tvar insertInterval = Bintree.ensureExtent(itemInterval, this._minExtent);\n\t\treturn this._root.remove(insertInterval, item);\n\t},\n\tcollectStats: function (interval) {\n\t\tvar del = interval.getWidth();\n\t\tif (del < this._minExtent && del > 0.0) this._minExtent = del;\n\t},\n\tdepth: function () {\n\t\tif (this._root !== null) return this._root.depth();\n\t\treturn 0;\n\t},\n\tnodeSize: function () {\n\t\tif (this._root !== null) return this._root.nodeSize();\n\t\treturn 0;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Bintree;\n\t}\n});\nBintree.ensureExtent = function (itemInterval, minExtent) {\n\tvar min = itemInterval.getMin();\n\tvar max = itemInterval.getMax();\n\tif (min !== max) return itemInterval;\n\tif (min === max) {\n\t\tmin = min - minExtent / 2.0;\n\t\tmax = min + minExtent / 2.0;\n\t}\n\treturn new Interval(min, max);\n};\n","import extend from '../../../../../extend';\nimport Envelope from '../../geom/Envelope';\nexport default function MonotoneChain() {\n\tthis._pts = null;\n\tthis._start = null;\n\tthis._end = null;\n\tthis._env = null;\n\tthis._context = null;\n\tthis._id = null;\n\tlet pts = arguments[0], start = arguments[1], end = arguments[2], context = arguments[3];\n\tthis._pts = pts;\n\tthis._start = start;\n\tthis._end = end;\n\tthis._context = context;\n}\nextend(MonotoneChain.prototype, {\n\tgetLineSegment: function (index, ls) {\n\t\tls.p0 = this._pts[index];\n\t\tls.p1 = this._pts[index + 1];\n\t},\n\tcomputeSelect: function (searchEnv, start0, end0, mcs) {\n\t\tvar p0 = this._pts[start0];\n\t\tvar p1 = this._pts[end0];\n\t\tif (end0 - start0 === 1) {\n\t\t\tmcs.select(this, start0);\n\t\t\treturn null;\n\t\t}\n\t\tif (!searchEnv.intersects(p0, p1)) return null;\n\t\tvar mid = Math.trunc((start0 + end0) / 2);\n\t\tif (start0 < mid) {\n\t\t\tthis.computeSelect(searchEnv, start0, mid, mcs);\n\t\t}\n\t\tif (mid < end0) {\n\t\t\tthis.computeSelect(searchEnv, mid, end0, mcs);\n\t\t}\n\t},\n\tgetCoordinates: function () {\n\t\tvar coord = new Array(this._end - this._start + 1).fill(null);\n\t\tvar index = 0;\n\t\tfor (var i = this._start; i <= this._end; i++) {\n\t\t\tcoord[index++] = this._pts[i];\n\t\t}\n\t\treturn coord;\n\t},\n\tcomputeOverlaps: function () {\n\t\tif (arguments.length === 2) {\n\t\t\tlet mc = arguments[0], mco = arguments[1];\n\t\t\tthis.computeOverlaps(this._start, this._end, mc, mc._start, mc._end, mco);\n\t\t} else if (arguments.length === 6) {\n\t\t\tlet start0 = arguments[0], end0 = arguments[1], mc = arguments[2], start1 = arguments[3], end1 = arguments[4], mco = arguments[5];\n\t\t\tif (end0 - start0 === 1 && end1 - start1 === 1) {\n\t\t\t\tmco.overlap(this, start0, mc, start1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (!this.overlaps(start0, end0, mc, start1, end1)) return null;\n\t\t\tvar mid0 = Math.trunc((start0 + end0) / 2);\n\t\t\tvar mid1 = Math.trunc((start1 + end1) / 2);\n\t\t\tif (start0 < mid0) {\n\t\t\t\tif (start1 < mid1) this.computeOverlaps(start0, mid0, mc, start1, mid1, mco);\n\t\t\t\tif (mid1 < end1) this.computeOverlaps(start0, mid0, mc, mid1, end1, mco);\n\t\t\t}\n\t\t\tif (mid0 < end0) {\n\t\t\t\tif (start1 < mid1) this.computeOverlaps(mid0, end0, mc, start1, mid1, mco);\n\t\t\t\tif (mid1 < end1) this.computeOverlaps(mid0, end0, mc, mid1, end1, mco);\n\t\t\t}\n\t\t}\n\t},\n\tsetId: function (id) {\n\t\tthis._id = id;\n\t},\n\tselect: function (searchEnv, mcs) {\n\t\tthis.computeSelect(searchEnv, this._start, this._end, mcs);\n\t},\n\tgetEnvelope: function () {\n\t\tif (this._env === null) {\n\t\t\tvar p0 = this._pts[this._start];\n\t\t\tvar p1 = this._pts[this._end];\n\t\t\tthis._env = new Envelope(p0, p1);\n\t\t}\n\t\treturn this._env;\n\t},\n\toverlaps: function (start0, end0, mc, start1, end1) {\n\t\treturn Envelope.intersects(this._pts[start0], this._pts[end0], mc._pts[start1], mc._pts[end1]);\n\t},\n\tgetEndIndex: function () {\n\t\treturn this._end;\n\t},\n\tgetStartIndex: function () {\n\t\treturn this._start;\n\t},\n\tgetContext: function () {\n\t\treturn this._context;\n\t},\n\tgetId: function () {\n\t\treturn this._id;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MonotoneChain;\n\t}\n});\n","import Coordinate from '../geom/Coordinate';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nexport default function Quadrant() {}\nextend(Quadrant.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Quadrant;\n\t}\n});\nQuadrant.isNorthern = function (quad) {\n\treturn quad === Quadrant.NE || quad === Quadrant.NW;\n};\nQuadrant.isOpposite = function (quad1, quad2) {\n\tif (quad1 === quad2) return false;\n\tvar diff = (quad1 - quad2 + 4) % 4;\n\tif (diff === 2) return true;\n\treturn false;\n};\nQuadrant.commonHalfPlane = function (quad1, quad2) {\n\tif (quad1 === quad2) return quad1;\n\tvar diff = (quad1 - quad2 + 4) % 4;\n\tif (diff === 2) return -1;\n\tvar min = quad1 < quad2 ? quad1 : quad2;\n\tvar max = quad1 > quad2 ? quad1 : quad2;\n\tif (min === 0 && max === 3) return 3;\n\treturn min;\n};\nQuadrant.isInHalfPlane = function (quad, halfPlane) {\n\tif (halfPlane === Quadrant.SE) {\n\t\treturn quad === Quadrant.SE || quad === Quadrant.SW;\n\t}\n\treturn quad === halfPlane || quad === halfPlane + 1;\n};\nQuadrant.quadrant = function () {\n\tif (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\tlet dx = arguments[0], dy = arguments[1];\n\t\tif (dx === 0.0 && dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the quadrant for point ( \" + dx + \", \" + dy + \" )\");\n\t\tif (dx >= 0.0) {\n\t\t\tif (dy >= 0.0) return Quadrant.NE; else return Quadrant.SE;\n\t\t} else {\n\t\t\tif (dy >= 0.0) return Quadrant.NW; else return Quadrant.SW;\n\t\t}\n\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\tif (p1.x === p0.x && p1.y === p0.y) throw new IllegalArgumentException(\"Cannot compute the quadrant for two identical points \" + p0);\n\t\tif (p1.x >= p0.x) {\n\t\t\tif (p1.y >= p0.y) return Quadrant.NE; else return Quadrant.SE;\n\t\t} else {\n\t\t\tif (p1.y >= p0.y) return Quadrant.NW; else return Quadrant.SW;\n\t\t}\n\t}\n};\nQuadrant.NE = 0;\nQuadrant.NW = 1;\nQuadrant.SW = 2;\nQuadrant.SE = 3;\n","import MonotoneChain from './MonotoneChain';\nimport extend from '../../../../../extend';\nimport Integer from '../../../../../java/lang/Integer';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Quadrant from '../../geomgraph/Quadrant';\nexport default function MonotoneChainBuilder() {}\nextend(MonotoneChainBuilder.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MonotoneChainBuilder;\n\t}\n});\nMonotoneChainBuilder.getChainStartIndices = function (pts) {\n\tvar start = 0;\n\tvar startIndexList = new ArrayList();\n\tstartIndexList.add(new Integer(start));\n\tdo {\n\t\tvar last = MonotoneChainBuilder.findChainEnd(pts, start);\n\t\tstartIndexList.add(new Integer(last));\n\t\tstart = last;\n\t} while (start < pts.length - 1);\n\tvar startIndex = MonotoneChainBuilder.toIntArray(startIndexList);\n\treturn startIndex;\n};\nMonotoneChainBuilder.findChainEnd = function (pts, start) {\n\tvar safeStart = start;\n\twhile (safeStart < pts.length - 1 && pts[safeStart].equals2D(pts[safeStart + 1])) {\n\t\tsafeStart++;\n\t}\n\tif (safeStart >= pts.length - 1) {\n\t\treturn pts.length - 1;\n\t}\n\tvar chainQuad = Quadrant.quadrant(pts[safeStart], pts[safeStart + 1]);\n\tvar last = start + 1;\n\twhile (last < pts.length) {\n\t\tif (!pts[last - 1].equals2D(pts[last])) {\n\t\t\tvar quad = Quadrant.quadrant(pts[last - 1], pts[last]);\n\t\t\tif (quad !== chainQuad) break;\n\t\t}\n\t\tlast++;\n\t}\n\treturn last - 1;\n};\nMonotoneChainBuilder.getChains = function () {\n\tif (arguments.length === 1) {\n\t\tlet pts = arguments[0];\n\t\treturn MonotoneChainBuilder.getChains(pts, null);\n\t} else if (arguments.length === 2) {\n\t\tlet pts = arguments[0], context = arguments[1];\n\t\tvar mcList = new ArrayList();\n\t\tvar startIndex = MonotoneChainBuilder.getChainStartIndices(pts);\n\t\tfor (var i = 0; i < startIndex.length - 1; i++) {\n\t\t\tvar mc = new MonotoneChain(pts, startIndex[i], startIndex[i + 1], context);\n\t\t\tmcList.add(mc);\n\t\t}\n\t\treturn mcList;\n\t}\n};\nMonotoneChainBuilder.toIntArray = function (list) {\n\tvar array = new Array(list.size()).fill(null);\n\tfor (var i = 0; i < array.length; i++) {\n\t\tarray[i] = list.get(i).intValue();\n\t}\n\treturn array;\n};\n","import extend from '../../../../extend';\nexport default function RobustDeterminant() {}\nextend(RobustDeterminant.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RobustDeterminant;\n\t}\n});\nRobustDeterminant.orientationIndex = function (p1, p2, q) {\n\tvar dx1 = p2.x - p1.x;\n\tvar dy1 = p2.y - p1.y;\n\tvar dx2 = q.x - p2.x;\n\tvar dy2 = q.y - p2.y;\n\treturn RobustDeterminant.signOfDet2x2(dx1, dy1, dx2, dy2);\n};\nRobustDeterminant.signOfDet2x2 = function (x1, y1, x2, y2) {\n\tvar sign = null;\n\tvar swap = null;\n\tvar k = null;\n\tvar count = 0;\n\tsign = 1;\n\tif (x1 === 0.0 || y2 === 0.0) {\n\t\tif (y1 === 0.0 || x2 === 0.0) {\n\t\t\treturn 0;\n\t\t} else if (y1 > 0) {\n\t\t\tif (x2 > 0) {\n\t\t\t\treturn -sign;\n\t\t\t} else {\n\t\t\t\treturn sign;\n\t\t\t}\n\t\t} else {\n\t\t\tif (x2 > 0) {\n\t\t\t\treturn sign;\n\t\t\t} else {\n\t\t\t\treturn -sign;\n\t\t\t}\n\t\t}\n\t}\n\tif (y1 === 0.0 || x2 === 0.0) {\n\t\tif (y2 > 0) {\n\t\t\tif (x1 > 0) {\n\t\t\t\treturn sign;\n\t\t\t} else {\n\t\t\t\treturn -sign;\n\t\t\t}\n\t\t} else {\n\t\t\tif (x1 > 0) {\n\t\t\t\treturn -sign;\n\t\t\t} else {\n\t\t\t\treturn sign;\n\t\t\t}\n\t\t}\n\t}\n\tif (0.0 < y1) {\n\t\tif (0.0 < y2) {\n\t\t\tif (y1 <= y2) {\n\t\t\t\t;\n\t\t\t} else {\n\t\t\t\tsign = -sign;\n\t\t\t\tswap = x1;\n\t\t\t\tx1 = x2;\n\t\t\t\tx2 = swap;\n\t\t\t\tswap = y1;\n\t\t\t\ty1 = y2;\n\t\t\t\ty2 = swap;\n\t\t\t}\n\t\t} else {\n\t\t\tif (y1 <= -y2) {\n\t\t\t\tsign = -sign;\n\t\t\t\tx2 = -x2;\n\t\t\t\ty2 = -y2;\n\t\t\t} else {\n\t\t\t\tswap = x1;\n\t\t\t\tx1 = -x2;\n\t\t\t\tx2 = swap;\n\t\t\t\tswap = y1;\n\t\t\t\ty1 = -y2;\n\t\t\t\ty2 = swap;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (0.0 < y2) {\n\t\t\tif (-y1 <= y2) {\n\t\t\t\tsign = -sign;\n\t\t\t\tx1 = -x1;\n\t\t\t\ty1 = -y1;\n\t\t\t} else {\n\t\t\t\tswap = -x1;\n\t\t\t\tx1 = x2;\n\t\t\t\tx2 = swap;\n\t\t\t\tswap = -y1;\n\t\t\t\ty1 = y2;\n\t\t\t\ty2 = swap;\n\t\t\t}\n\t\t} else {\n\t\t\tif (y1 >= y2) {\n\t\t\t\tx1 = -x1;\n\t\t\t\ty1 = -y1;\n\t\t\t\tx2 = -x2;\n\t\t\t\ty2 = -y2;\n\t\t\t\t;\n\t\t\t} else {\n\t\t\t\tsign = -sign;\n\t\t\t\tswap = -x1;\n\t\t\t\tx1 = -x2;\n\t\t\t\tx2 = swap;\n\t\t\t\tswap = -y1;\n\t\t\t\ty1 = -y2;\n\t\t\t\ty2 = swap;\n\t\t\t}\n\t\t}\n\t}\n\tif (0.0 < x1) {\n\t\tif (0.0 < x2) {\n\t\t\tif (x1 <= x2) {\n\t\t\t\t;\n\t\t\t} else {\n\t\t\t\treturn sign;\n\t\t\t}\n\t\t} else {\n\t\t\treturn sign;\n\t\t}\n\t} else {\n\t\tif (0.0 < x2) {\n\t\t\treturn -sign;\n\t\t} else {\n\t\t\tif (x1 >= x2) {\n\t\t\t\tsign = -sign;\n\t\t\t\tx1 = -x1;\n\t\t\t\tx2 = -x2;\n\t\t\t\t;\n\t\t\t} else {\n\t\t\t\treturn -sign;\n\t\t\t}\n\t\t}\n\t}\n\twhile (true) {\n\t\tcount = count + 1;\n\t\tk = Math.floor(x2 / x1);\n\t\tx2 = x2 - k * x1;\n\t\ty2 = y2 - k * y1;\n\t\tif (y2 < 0.0) {\n\t\t\treturn -sign;\n\t\t}\n\t\tif (y2 > y1) {\n\t\t\treturn sign;\n\t\t}\n\t\tif (x1 > x2 + x2) {\n\t\t\tif (y1 < y2 + y2) {\n\t\t\t\treturn sign;\n\t\t\t}\n\t\t} else {\n\t\t\tif (y1 > y2 + y2) {\n\t\t\t\treturn -sign;\n\t\t\t} else {\n\t\t\t\tx2 = x1 - x2;\n\t\t\t\ty2 = y1 - y2;\n\t\t\t\tsign = -sign;\n\t\t\t}\n\t\t}\n\t\tif (y2 === 0.0) {\n\t\t\tif (x2 === 0.0) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn -sign;\n\t\t\t}\n\t\t}\n\t\tif (x2 === 0.0) {\n\t\t\treturn sign;\n\t\t}\n\t\tk = Math.floor(x1 / x2);\n\t\tx1 = x1 - k * x2;\n\t\ty1 = y1 - k * y2;\n\t\tif (y1 < 0.0) {\n\t\t\treturn sign;\n\t\t}\n\t\tif (y1 > y2) {\n\t\t\treturn -sign;\n\t\t}\n\t\tif (x2 > x1 + x1) {\n\t\t\tif (y2 < y1 + y1) {\n\t\t\t\treturn -sign;\n\t\t\t}\n\t\t} else {\n\t\t\tif (y2 > y1 + y1) {\n\t\t\t\treturn sign;\n\t\t\t} else {\n\t\t\t\tx1 = x2 - x1;\n\t\t\t\ty1 = y2 - y1;\n\t\t\t\tsign = -sign;\n\t\t\t}\n\t\t}\n\t\tif (y1 === 0.0) {\n\t\t\tif (x1 === 0.0) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn sign;\n\t\t\t}\n\t\t}\n\t\tif (x1 === 0.0) {\n\t\t\treturn -sign;\n\t\t}\n\t}\n};\n","import extend from '../../../../extend';\nexport default function PointInRing() {}\nextend(PointInRing.prototype, {\n\tisInside: function (pt) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PointInRing;\n\t}\n});\n","import MonotoneChainSelectAction from '../index/chain/MonotoneChainSelectAction';\nimport Bintree from '../index/bintree/Bintree';\nimport Interval from '../index/bintree/Interval';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport MonotoneChainBuilder from '../index/chain/MonotoneChainBuilder';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport RobustDeterminant from './RobustDeterminant';\nimport Envelope from '../geom/Envelope';\nimport inherits from '../../../../inherits';\nimport PointInRing from './PointInRing';\nexport default function MCPointInRing() {\n\tthis._ring = null;\n\tthis._tree = null;\n\tthis._crossings = 0;\n\tthis._interval = new Interval();\n\tlet ring = arguments[0];\n\tthis._ring = ring;\n\tthis.buildIndex();\n}\nextend(MCPointInRing.prototype, {\n\ttestLineSegment: function (p, seg) {\n\t\tvar xInt = null;\n\t\tvar x1 = null;\n\t\tvar y1 = null;\n\t\tvar x2 = null;\n\t\tvar y2 = null;\n\t\tvar p1 = seg.p0;\n\t\tvar p2 = seg.p1;\n\t\tx1 = p1.x - p.x;\n\t\ty1 = p1.y - p.y;\n\t\tx2 = p2.x - p.x;\n\t\ty2 = p2.y - p.y;\n\t\tif (y1 > 0 && y2 <= 0 || y2 > 0 && y1 <= 0) {\n\t\t\txInt = RobustDeterminant.signOfDet2x2(x1, y1, x2, y2) / (y2 - y1);\n\t\t\tif (0.0 < xInt) {\n\t\t\t\tthis._crossings++;\n\t\t\t}\n\t\t}\n\t},\n\tbuildIndex: function () {\n\t\tthis._tree = new Bintree();\n\t\tvar pts = CoordinateArrays.removeRepeatedPoints(this._ring.getCoordinates());\n\t\tvar mcList = MonotoneChainBuilder.getChains(pts);\n\t\tfor (var i = 0; i < mcList.size(); i++) {\n\t\t\tvar mc = mcList.get(i);\n\t\t\tvar mcEnv = mc.getEnvelope();\n\t\t\tthis._interval.min = mcEnv.getMinY();\n\t\t\tthis._interval.max = mcEnv.getMaxY();\n\t\t\tthis._tree.insert(this._interval, mc);\n\t\t}\n\t},\n\ttestMonotoneChain: function (rayEnv, mcSelecter, mc) {\n\t\tmc.select(rayEnv, mcSelecter);\n\t},\n\tisInside: function (pt) {\n\t\tthis._crossings = 0;\n\t\tvar rayEnv = new Envelope(Double.NEGATIVE_INFINITY, Double.POSITIVE_INFINITY, pt.y, pt.y);\n\t\tthis._interval.min = pt.y;\n\t\tthis._interval.max = pt.y;\n\t\tvar segs = this._tree.query(this._interval);\n\t\tvar mcSelecter = new MCSelecter(this, pt);\n\t\tfor (var i = segs.iterator(); i.hasNext(); ) {\n\t\t\tvar mc = i.next();\n\t\t\tthis.testMonotoneChain(rayEnv, mcSelecter, mc);\n\t\t}\n\t\tif (this._crossings % 2 === 1) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function () {\n\t\treturn [PointInRing];\n\t},\n\tgetClass: function () {\n\t\treturn MCPointInRing;\n\t}\n});\nfunction MCSelecter() {\n\tMonotoneChainSelectAction.apply(this);\n\tthis.mcp = null;\n\tthis.p = null;\n\tlet mcp = arguments[0], p = arguments[1];\n\tthis.mcp = mcp;\n\tthis.p = p;\n}\ninherits(MCSelecter, MonotoneChainSelectAction);\nextend(MCSelecter.prototype, {\n\tselect: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet ls = arguments[0];\n\t\t\tthis.mcp.testLineSegment(this.p, ls);\n\t\t} else return MonotoneChainSelectAction.prototype.select.apply(this, arguments);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MCSelecter;\n\t}\n});\nMCPointInRing.MCSelecter = MCSelecter;\n","import Coordinate from '../geom/Coordinate';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport Angle from './Angle';\nimport Assert from '../util/Assert';\nimport Triangle from '../geom/Triangle';\nexport default function MinimumBoundingCircle() {\n\tthis._input = null;\n\tthis._extremalPts = null;\n\tthis._centre = null;\n\tthis._radius = 0.0;\n\tlet geom = arguments[0];\n\tthis._input = geom;\n}\nextend(MinimumBoundingCircle.prototype, {\n\tgetRadius: function () {\n\t\tthis.compute();\n\t\treturn this._radius;\n\t},\n\tgetDiameter: function () {\n\t\tthis.compute();\n\t\tswitch (this._extremalPts.length) {\n\t\t\tcase 0:\n\t\t\t\treturn this._input.getFactory().createLineString();\n\t\t\tcase 1:\n\t\t\t\treturn this._input.getFactory().createPoint(this._centre);\n\t\t}\n\t\tvar p0 = this._extremalPts[0];\n\t\tvar p1 = this._extremalPts[1];\n\t\treturn this._input.getFactory().createLineString([p0, p1]);\n\t},\n\tgetExtremalPoints: function () {\n\t\tthis.compute();\n\t\treturn this._extremalPts;\n\t},\n\tcomputeCirclePoints: function () {\n\t\tif (this._input.isEmpty()) {\n\t\t\tthis._extremalPts = new Array(0).fill(null);\n\t\t\treturn null;\n\t\t}\n\t\tif (this._input.getNumPoints() === 1) {\n\t\t\tvar pts = this._input.getCoordinates();\n\t\t\tthis._extremalPts = [new Coordinate(pts[0])];\n\t\t\treturn null;\n\t\t}\n\t\tvar convexHull = this._input.convexHull();\n\t\tvar hullPts = convexHull.getCoordinates();\n\t\tvar pts = hullPts;\n\t\tif (hullPts[0].equals2D(hullPts[hullPts.length - 1])) {\n\t\t\tpts = new Array(hullPts.length - 1).fill(null);\n\t\t\tCoordinateArrays.copyDeep(hullPts, 0, pts, 0, hullPts.length - 1);\n\t\t}\n\t\tif (pts.length <= 2) {\n\t\t\tthis._extremalPts = CoordinateArrays.copyDeep(pts);\n\t\t\treturn null;\n\t\t}\n\t\tvar P = MinimumBoundingCircle.lowestPoint(pts);\n\t\tvar Q = MinimumBoundingCircle.pointWitMinAngleWithX(pts, P);\n\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\tvar R = MinimumBoundingCircle.pointWithMinAngleWithSegment(pts, P, Q);\n\t\t\tif (Angle.isObtuse(P, R, Q)) {\n\t\t\t\tthis._extremalPts = [new Coordinate(P), new Coordinate(Q)];\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (Angle.isObtuse(R, P, Q)) {\n\t\t\t\tP = R;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (Angle.isObtuse(R, Q, P)) {\n\t\t\t\tQ = R;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._extremalPts = [new Coordinate(P), new Coordinate(Q), new Coordinate(R)];\n\t\t\treturn null;\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"Logic failure in Minimum Bounding Circle algorithm!\");\n\t},\n\tcompute: function () {\n\t\tif (this._extremalPts !== null) return null;\n\t\tthis.computeCirclePoints();\n\t\tthis.computeCentre();\n\t\tif (this._centre !== null) this._radius = this._centre.distance(this._extremalPts[0]);\n\t},\n\tgetFarthestPoints: function () {\n\t\tthis.compute();\n\t\tswitch (this._extremalPts.length) {\n\t\t\tcase 0:\n\t\t\t\treturn this._input.getFactory().createLineString();\n\t\t\tcase 1:\n\t\t\t\treturn this._input.getFactory().createPoint(this._centre);\n\t\t}\n\t\tvar p0 = this._extremalPts[0];\n\t\tvar p1 = this._extremalPts[this._extremalPts.length - 1];\n\t\treturn this._input.getFactory().createLineString([p0, p1]);\n\t},\n\tgetCircle: function () {\n\t\tthis.compute();\n\t\tif (this._centre === null) return this._input.getFactory().createPolygon();\n\t\tvar centrePoint = this._input.getFactory().createPoint(this._centre);\n\t\tif (this._radius === 0.0) return centrePoint;\n\t\treturn centrePoint.buffer(this._radius);\n\t},\n\tgetCentre: function () {\n\t\tthis.compute();\n\t\treturn this._centre;\n\t},\n\tcomputeCentre: function () {\n\t\tswitch (this._extremalPts.length) {\n\t\t\tcase 0:\n\t\t\t\tthis._centre = null;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis._centre = this._extremalPts[0];\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis._centre = new Coordinate((this._extremalPts[0].x + this._extremalPts[1].x) / 2.0, (this._extremalPts[0].y + this._extremalPts[1].y) / 2.0);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tthis._centre = Triangle.circumcentre(this._extremalPts[0], this._extremalPts[1], this._extremalPts[2]);\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MinimumBoundingCircle;\n\t}\n});\nMinimumBoundingCircle.pointWitMinAngleWithX = function (pts, P) {\n\tvar minSin = Double.MAX_VALUE;\n\tvar minAngPt = null;\n\tfor (var i = 0; i < pts.length; i++) {\n\t\tvar p = pts[i];\n\t\tif (p === P) continue;\n\t\tvar dx = p.x - P.x;\n\t\tvar dy = p.y - P.y;\n\t\tif (dy < 0) dy = -dy;\n\t\tvar len = Math.sqrt(dx * dx + dy * dy);\n\t\tvar sin = dy / len;\n\t\tif (sin < minSin) {\n\t\t\tminSin = sin;\n\t\t\tminAngPt = p;\n\t\t}\n\t}\n\treturn minAngPt;\n};\nMinimumBoundingCircle.lowestPoint = function (pts) {\n\tvar min = pts[0];\n\tfor (var i = 1; i < pts.length; i++) {\n\t\tif (pts[i].y < min.y) min = pts[i];\n\t}\n\treturn min;\n};\nMinimumBoundingCircle.pointWithMinAngleWithSegment = function (pts, P, Q) {\n\tvar minAng = Double.MAX_VALUE;\n\tvar minAngPt = null;\n\tfor (var i = 0; i < pts.length; i++) {\n\t\tvar p = pts[i];\n\t\tif (p === P) continue;\n\t\tif (p === Q) continue;\n\t\tvar ang = Angle.angleBetween(P, p, Q);\n\t\tif (ang < minAng) {\n\t\t\tminAng = ang;\n\t\t\tminAngPt = p;\n\t\t}\n\t}\n\treturn minAngPt;\n};\n","import Coordinate from '../geom/Coordinate';\nimport Polygon from '../geom/Polygon';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport LineSegment from '../geom/LineSegment';\nimport ConvexHull from './ConvexHull';\nexport default function MinimumDiameter() {\n\tthis._inputGeom = null;\n\tthis._isConvex = null;\n\tthis._convexHullPts = null;\n\tthis._minBaseSeg = new LineSegment();\n\tthis._minWidthPt = null;\n\tthis._minPtIndex = null;\n\tthis._minWidth = 0.0;\n\tif (arguments.length === 1) {\n\t\tlet inputGeom = arguments[0];\n\t\tMinimumDiameter.call(this, inputGeom, false);\n\t} else if (arguments.length === 2) {\n\t\tlet inputGeom = arguments[0], isConvex = arguments[1];\n\t\tthis._inputGeom = inputGeom;\n\t\tthis._isConvex = isConvex;\n\t}\n}\nextend(MinimumDiameter.prototype, {\n\tgetWidthCoordinate: function () {\n\t\tthis.computeMinimumDiameter();\n\t\treturn this._minWidthPt;\n\t},\n\tgetSupportingSegment: function () {\n\t\tthis.computeMinimumDiameter();\n\t\treturn this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0, this._minBaseSeg.p1]);\n\t},\n\tgetDiameter: function () {\n\t\tthis.computeMinimumDiameter();\n\t\tif (this._minWidthPt === null) return this._inputGeom.getFactory().createLineString();\n\t\tvar basePt = this._minBaseSeg.project(this._minWidthPt);\n\t\treturn this._inputGeom.getFactory().createLineString([basePt, this._minWidthPt]);\n\t},\n\tcomputeWidthConvex: function (convexGeom) {\n\t\tif (convexGeom instanceof Polygon) this._convexHullPts = convexGeom.getExteriorRing().getCoordinates(); else this._convexHullPts = convexGeom.getCoordinates();\n\t\tif (this._convexHullPts.length === 0) {\n\t\t\tthis._minWidth = 0.0;\n\t\t\tthis._minWidthPt = null;\n\t\t\tthis._minBaseSeg = null;\n\t\t} else if (this._convexHullPts.length === 1) {\n\t\t\tthis._minWidth = 0.0;\n\t\t\tthis._minWidthPt = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p0 = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p1 = this._convexHullPts[0];\n\t\t} else if (this._convexHullPts.length === 2 || this._convexHullPts.length === 3) {\n\t\t\tthis._minWidth = 0.0;\n\t\t\tthis._minWidthPt = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p0 = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p1 = this._convexHullPts[1];\n\t\t} else this.computeConvexRingMinDiameter(this._convexHullPts);\n\t},\n\tcomputeConvexRingMinDiameter: function (pts) {\n\t\tthis._minWidth = Double.MAX_VALUE;\n\t\tvar currMaxIndex = 1;\n\t\tvar seg = new LineSegment();\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tseg.p0 = pts[i];\n\t\t\tseg.p1 = pts[i + 1];\n\t\t\tcurrMaxIndex = this.findMaxPerpDistance(pts, seg, currMaxIndex);\n\t\t}\n\t},\n\tcomputeMinimumDiameter: function () {\n\t\tif (this._minWidthPt !== null) return null;\n\t\tif (this._isConvex) this.computeWidthConvex(this._inputGeom); else {\n\t\t\tvar convexGeom = new ConvexHull(this._inputGeom).getConvexHull();\n\t\t\tthis.computeWidthConvex(convexGeom);\n\t\t}\n\t},\n\tgetLength: function () {\n\t\tthis.computeMinimumDiameter();\n\t\treturn this._minWidth;\n\t},\n\tfindMaxPerpDistance: function (pts, seg, startIndex) {\n\t\tvar maxPerpDistance = seg.distancePerpendicular(pts[startIndex]);\n\t\tvar nextPerpDistance = maxPerpDistance;\n\t\tvar maxIndex = startIndex;\n\t\tvar nextIndex = maxIndex;\n\t\twhile (nextPerpDistance >= maxPerpDistance) {\n\t\t\tmaxPerpDistance = nextPerpDistance;\n\t\t\tmaxIndex = nextIndex;\n\t\t\tnextIndex = MinimumDiameter.nextIndex(pts, maxIndex);\n\t\t\tnextPerpDistance = seg.distancePerpendicular(pts[nextIndex]);\n\t\t}\n\t\tif (maxPerpDistance < this._minWidth) {\n\t\t\tthis._minPtIndex = maxIndex;\n\t\t\tthis._minWidth = maxPerpDistance;\n\t\t\tthis._minWidthPt = pts[this._minPtIndex];\n\t\t\tthis._minBaseSeg = new LineSegment(seg);\n\t\t}\n\t\treturn maxIndex;\n\t},\n\tgetMinimumRectangle: function () {\n\t\tthis.computeMinimumDiameter();\n\t\tif (this._minWidth === 0.0) {\n\t\t\tif (this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)) {\n\t\t\t\treturn this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0);\n\t\t\t}\n\t\t\treturn this._minBaseSeg.toGeometry(this._inputGeom.getFactory());\n\t\t}\n\t\tvar dx = this._minBaseSeg.p1.x - this._minBaseSeg.p0.x;\n\t\tvar dy = this._minBaseSeg.p1.y - this._minBaseSeg.p0.y;\n\t\tvar minPara = Double.MAX_VALUE;\n\t\tvar maxPara = -Double.MAX_VALUE;\n\t\tvar minPerp = Double.MAX_VALUE;\n\t\tvar maxPerp = -Double.MAX_VALUE;\n\t\tfor (var i = 0; i < this._convexHullPts.length; i++) {\n\t\t\tvar paraC = MinimumDiameter.computeC(dx, dy, this._convexHullPts[i]);\n\t\t\tif (paraC > maxPara) maxPara = paraC;\n\t\t\tif (paraC < minPara) minPara = paraC;\n\t\t\tvar perpC = MinimumDiameter.computeC(-dy, dx, this._convexHullPts[i]);\n\t\t\tif (perpC > maxPerp) maxPerp = perpC;\n\t\t\tif (perpC < minPerp) minPerp = perpC;\n\t\t}\n\t\tvar maxPerpLine = MinimumDiameter.computeSegmentForLine(-dx, -dy, maxPerp);\n\t\tvar minPerpLine = MinimumDiameter.computeSegmentForLine(-dx, -dy, minPerp);\n\t\tvar maxParaLine = MinimumDiameter.computeSegmentForLine(-dy, dx, maxPara);\n\t\tvar minParaLine = MinimumDiameter.computeSegmentForLine(-dy, dx, minPara);\n\t\tvar p0 = maxParaLine.lineIntersection(maxPerpLine);\n\t\tvar p1 = minParaLine.lineIntersection(maxPerpLine);\n\t\tvar p2 = minParaLine.lineIntersection(minPerpLine);\n\t\tvar p3 = maxParaLine.lineIntersection(minPerpLine);\n\t\tvar shell = this._inputGeom.getFactory().createLinearRing([p0, p1, p2, p3, p0]);\n\t\treturn this._inputGeom.getFactory().createPolygon(shell);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MinimumDiameter;\n\t}\n});\nMinimumDiameter.nextIndex = function (pts, index) {\n\tindex++;\n\tif (index >= pts.length) index = 0;\n\treturn index;\n};\nMinimumDiameter.computeC = function (a, b, p) {\n\treturn a * p.y - b * p.x;\n};\nMinimumDiameter.getMinimumDiameter = function (geom) {\n\treturn new MinimumDiameter(geom).getDiameter();\n};\nMinimumDiameter.getMinimumRectangle = function (geom) {\n\treturn new MinimumDiameter(geom).getMinimumRectangle();\n};\nMinimumDiameter.computeSegmentForLine = function (a, b, c) {\n\tvar p0 = null;\n\tvar p1 = null;\n\tif (Math.abs(b) > Math.abs(a)) {\n\t\tp0 = new Coordinate(0.0, c / b);\n\t\tp1 = new Coordinate(1.0, c / b - a / b);\n\t} else {\n\t\tp0 = new Coordinate(c / a, 0.0);\n\t\tp1 = new Coordinate(c / a - b / a, 1.0);\n\t}\n\treturn new LineSegment(p0, p1);\n};\n","import LineString from '../LineString';\nimport GeometryFactory from '../GeometryFactory';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport Point from '../Point';\nimport Polygon from '../Polygon';\nimport MultiPoint from '../MultiPoint';\nimport LinearRing from '../LinearRing';\nimport extend from '../../../../../extend';\nimport MultiPolygon from '../MultiPolygon';\nimport GeometryCollection from '../GeometryCollection';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport MultiLineString from '../MultiLineString';\nexport default function GeometryTransformer() {\n\tthis._inputGeom = null;\n\tthis._factory = null;\n\tthis._pruneEmptyGeometry = true;\n\tthis._preserveGeometryCollectionType = true;\n\tthis._preserveCollections = false;\n\tthis._preserveType = false;\n}\nextend(GeometryTransformer.prototype, {\n\ttransformPoint: function (geom, parent) {\n\t\treturn this._factory.createPoint(this.transformCoordinates(geom.getCoordinateSequence(), geom));\n\t},\n\ttransformPolygon: function (geom, parent) {\n\t\tvar isAllValidLinearRings = true;\n\t\tvar shell = this.transformLinearRing(geom.getExteriorRing(), geom);\n\t\tif (shell === null || !(shell instanceof LinearRing) || shell.isEmpty()) isAllValidLinearRings = false;\n\t\tvar holes = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumInteriorRing(); i++) {\n\t\t\tvar hole = this.transformLinearRing(geom.getInteriorRingN(i), geom);\n\t\t\tif (hole === null || hole.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!(hole instanceof LinearRing)) isAllValidLinearRings = false;\n\t\t\tholes.add(hole);\n\t\t}\n\t\tif (isAllValidLinearRings) return this._factory.createPolygon(shell, holes.toArray([])); else {\n\t\t\tvar components = new ArrayList();\n\t\t\tif (shell !== null) components.add(shell);\n\t\t\tcomponents.addAll(holes);\n\t\t\treturn this._factory.buildGeometry(components);\n\t\t}\n\t},\n\tcreateCoordinateSequence: function (coords) {\n\t\treturn this._factory.getCoordinateSequenceFactory().create(coords);\n\t},\n\tgetInputGeometry: function () {\n\t\treturn this._inputGeom;\n\t},\n\ttransformMultiLineString: function (geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transformLineString(geom.getGeometryN(i), geom);\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t},\n\ttransformCoordinates: function (coords, parent) {\n\t\treturn this.copy(coords);\n\t},\n\ttransformLineString: function (geom, parent) {\n\t\treturn this._factory.createLineString(this.transformCoordinates(geom.getCoordinateSequence(), geom));\n\t},\n\ttransformMultiPoint: function (geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transformPoint(geom.getGeometryN(i), geom);\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t},\n\ttransformMultiPolygon: function (geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transformPolygon(geom.getGeometryN(i), geom);\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t},\n\tcopy: function (seq) {\n\t\treturn seq.copy();\n\t},\n\ttransformGeometryCollection: function (geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transform(geom.getGeometryN(i));\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (this._pruneEmptyGeometry && transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\tif (this._preserveGeometryCollectionType) return this._factory.createGeometryCollection(GeometryFactory.toGeometryArray(transGeomList));\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t},\n\ttransform: function (inputGeom) {\n\t\tthis._inputGeom = inputGeom;\n\t\tthis._factory = inputGeom.getFactory();\n\t\tif (inputGeom instanceof Point) return this.transformPoint(inputGeom, null);\n\t\tif (inputGeom instanceof MultiPoint) return this.transformMultiPoint(inputGeom, null);\n\t\tif (inputGeom instanceof LinearRing) return this.transformLinearRing(inputGeom, null);\n\t\tif (inputGeom instanceof LineString) return this.transformLineString(inputGeom, null);\n\t\tif (inputGeom instanceof MultiLineString) return this.transformMultiLineString(inputGeom, null);\n\t\tif (inputGeom instanceof Polygon) return this.transformPolygon(inputGeom, null);\n\t\tif (inputGeom instanceof MultiPolygon) return this.transformMultiPolygon(inputGeom, null);\n\t\tif (inputGeom instanceof GeometryCollection) return this.transformGeometryCollection(inputGeom, null);\n\t\tthrow new IllegalArgumentException(\"Unknown Geometry subtype: \" + inputGeom.getClass().getName());\n\t},\n\ttransformLinearRing: function (geom, parent) {\n\t\tvar seq = this.transformCoordinates(geom.getCoordinateSequence(), geom);\n\t\tif (seq === null) return this._factory.createLinearRing(null);\n\t\tvar seqSize = seq.size();\n\t\tif (seqSize > 0 && seqSize < 4 && !this._preserveType) return this._factory.createLineString(seq);\n\t\treturn this._factory.createLinearRing(seq);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryTransformer;\n\t}\n});\n","import LineString from '../geom/LineString';\nimport CoordinateList from '../geom/CoordinateList';\nimport GeometryTransformer from '../geom/util/GeometryTransformer';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport MultiPolygon from '../geom/MultiPolygon';\nimport LineSegment from '../geom/LineSegment';\nimport inherits from '../../../../inherits';\nexport default function Densifier() {\n\tthis._inputGeom = null;\n\tthis._distanceTolerance = null;\n\tlet inputGeom = arguments[0];\n\tthis._inputGeom = inputGeom;\n}\nextend(Densifier.prototype, {\n\tgetResultGeometry: function () {\n\t\treturn new DensifyTransformer(this._distanceTolerance).transform(this._inputGeom);\n\t},\n\tsetDistanceTolerance: function (distanceTolerance) {\n\t\tif (distanceTolerance <= 0.0) throw new IllegalArgumentException(\"Tolerance must be positive\");\n\t\tthis._distanceTolerance = distanceTolerance;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Densifier;\n\t}\n});\nDensifier.densifyPoints = function (pts, distanceTolerance, precModel) {\n\tvar seg = new LineSegment();\n\tvar coordList = new CoordinateList();\n\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\tseg.p0 = pts[i];\n\t\tseg.p1 = pts[i + 1];\n\t\tcoordList.add(seg.p0, false);\n\t\tvar len = seg.getLength();\n\t\tvar densifiedSegCount = Math.trunc(len / distanceTolerance) + 1;\n\t\tif (densifiedSegCount > 1) {\n\t\t\tvar densifiedSegLen = len / densifiedSegCount;\n\t\t\tfor (var j = 1; j < densifiedSegCount; j++) {\n\t\t\t\tvar segFract = j * densifiedSegLen / len;\n\t\t\t\tvar p = seg.pointAlong(segFract);\n\t\t\t\tprecModel.makePrecise(p);\n\t\t\t\tcoordList.add(p, false);\n\t\t\t}\n\t\t}\n\t}\n\tcoordList.add(pts[pts.length - 1], false);\n\treturn coordList.toCoordinateArray();\n};\nDensifier.densify = function (geom, distanceTolerance) {\n\tvar densifier = new Densifier(geom);\n\tdensifier.setDistanceTolerance(distanceTolerance);\n\treturn densifier.getResultGeometry();\n};\nfunction DensifyTransformer() {\n\tGeometryTransformer.apply(this);\n\tthis.distanceTolerance = null;\n\tlet distanceTolerance = arguments[0];\n\tthis.distanceTolerance = distanceTolerance;\n}\ninherits(DensifyTransformer, GeometryTransformer);\nextend(DensifyTransformer.prototype, {\n\ttransformMultiPolygon: function (geom, parent) {\n\t\tvar roughGeom = GeometryTransformer.prototype.transformMultiPolygon.call(this, geom, parent);\n\t\treturn this.createValidArea(roughGeom);\n\t},\n\ttransformPolygon: function (geom, parent) {\n\t\tvar roughGeom = GeometryTransformer.prototype.transformPolygon.call(this, geom, parent);\n\t\tif (parent instanceof MultiPolygon) {\n\t\t\treturn roughGeom;\n\t\t}\n\t\treturn this.createValidArea(roughGeom);\n\t},\n\ttransformCoordinates: function (coords, parent) {\n\t\tvar inputPts = coords.toCoordinateArray();\n\t\tvar newPts = Densifier.densifyPoints(inputPts, this.distanceTolerance, parent.getPrecisionModel());\n\t\tif (parent instanceof LineString && newPts.length === 1) {\n\t\t\tnewPts = new Array(0).fill(null);\n\t\t}\n\t\treturn this._factory.getCoordinateSequenceFactory().create(newPts);\n\t},\n\tcreateValidArea: function (roughAreaGeom) {\n\t\treturn roughAreaGeom.buffer(0.0);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DensifyTransformer;\n\t}\n});\nDensifier.DensifyTransformer = DensifyTransformer;\n","import Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport Orientation from '../algorithm/Orientation';\nimport Quadrant from '../geomgraph/Quadrant';\nimport Assert from '../util/Assert';\nexport default function HalfEdge() {\n\tthis._orig = null;\n\tthis._sym = null;\n\tthis._next = null;\n\tlet orig = arguments[0];\n\tthis._orig = orig;\n}\nextend(HalfEdge.prototype, {\n\tfind: function (dest) {\n\t\tvar oNext = this;\n\t\tdo {\n\t\t\tif (oNext === null) return null;\n\t\t\tif (oNext.dest().equals2D(dest)) return oNext;\n\t\t\toNext = oNext.oNext();\n\t\t} while (oNext !== this);\n\t\treturn null;\n\t},\n\tdest: function () {\n\t\treturn this._sym._orig;\n\t},\n\toNext: function () {\n\t\treturn this._sym._next;\n\t},\n\tinsert: function (e) {\n\t\tif (this.oNext() === this) {\n\t\t\tthis.insertAfter(e);\n\t\t\treturn null;\n\t\t}\n\t\tvar ecmp = this.compareTo(e);\n\t\tvar ePrev = this;\n\t\tdo {\n\t\t\tvar oNext = ePrev.oNext();\n\t\t\tvar cmp = oNext.compareTo(e);\n\t\t\tif (cmp !== ecmp || oNext === this) {\n\t\t\t\tePrev.insertAfter(e);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tePrev = oNext;\n\t\t} while (ePrev !== this);\n\t\tAssert.shouldNeverReachHere();\n\t},\n\tinsertAfter: function (e) {\n\t\tAssert.equals(this._orig, e.orig());\n\t\tvar save = this.oNext();\n\t\tthis._sym.setNext(e);\n\t\te.sym().setNext(save);\n\t},\n\tdegree: function () {\n\t\tvar degree = 0;\n\t\tvar e = this;\n\t\tdo {\n\t\t\tdegree++;\n\t\t\te = e.oNext();\n\t\t} while (e !== this);\n\t\treturn degree;\n\t},\n\tequals: function () {\n\t\tif (arguments.length === 2 && (arguments[1] instanceof Coordinate && arguments[0] instanceof Coordinate)) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\treturn this._orig.equals2D(p0) && this._sym._orig.equals(p1);\n\t\t}\n\t},\n\tdeltaY: function () {\n\t\treturn this._sym._orig.y - this._orig.y;\n\t},\n\tsym: function () {\n\t\treturn this._sym;\n\t},\n\tprev: function () {\n\t\treturn this._sym.next()._sym;\n\t},\n\tcompareAngularDirection: function (e) {\n\t\tvar dx = this.deltaX();\n\t\tvar dy = this.deltaY();\n\t\tvar dx2 = e.deltaX();\n\t\tvar dy2 = e.deltaY();\n\t\tif (dx === dx2 && dy === dy2) return 0;\n\t\tvar quadrant = Quadrant.quadrant(dx, dy);\n\t\tvar quadrant2 = Quadrant.quadrant(dx2, dy2);\n\t\tif (quadrant > quadrant2) return 1;\n\t\tif (quadrant < quadrant2) return -1;\n\t\treturn Orientation.index(e._orig, e.dest(), this.dest());\n\t},\n\tprevNode: function () {\n\t\tvar e = this;\n\t\twhile (e.degree() === 2) {\n\t\t\te = e.prev();\n\t\t\tif (e === this) return null;\n\t\t}\n\t\treturn e;\n\t},\n\tcompareTo: function (obj) {\n\t\tvar e = obj;\n\t\tvar comp = this.compareAngularDirection(e);\n\t\treturn comp;\n\t},\n\tnext: function () {\n\t\treturn this._next;\n\t},\n\tsetSym: function (e) {\n\t\tthis._sym = e;\n\t},\n\torig: function () {\n\t\treturn this._orig;\n\t},\n\ttoString: function () {\n\t\treturn \"HE(\" + this._orig.x + \" \" + this._orig.y + \", \" + this._sym._orig.x + \" \" + this._sym._orig.y + \")\";\n\t},\n\tsetNext: function (e) {\n\t\tthis._next = e;\n\t},\n\tinit: function (e) {\n\t\tthis.setSym(e);\n\t\te.setSym(this);\n\t\tthis.setNext(e);\n\t\te.setNext(this);\n\t},\n\tdeltaX: function () {\n\t\treturn this._sym._orig.x - this._orig.x;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn HalfEdge;\n\t}\n});\nHalfEdge.init = function (e0, e1) {\n\tif (e0._sym !== null || e1._sym !== null || e0._next !== null || e1._next !== null) throw new IllegalStateException(\"Edges are already initialized\");\n\te0.init(e1);\n\treturn e0;\n};\nHalfEdge.create = function (p0, p1) {\n\tvar e0 = new HalfEdge(p0);\n\tvar e1 = new HalfEdge(p1);\n\te0.init(e1);\n\treturn e0;\n};\n","import extend from '../../../../extend';\nimport HalfEdge from './HalfEdge';\nimport inherits from '../../../../inherits';\nexport default function MarkHalfEdge() {\n\tthis._isMarked = false;\n\tlet orig = arguments[0];\n\tHalfEdge.call(this, orig);\n}\ninherits(MarkHalfEdge, HalfEdge);\nextend(MarkHalfEdge.prototype, {\n\tmark: function () {\n\t\tthis._isMarked = true;\n\t},\n\tsetMark: function (isMarked) {\n\t\tthis._isMarked = isMarked;\n\t},\n\tisMarked: function () {\n\t\treturn this._isMarked;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MarkHalfEdge;\n\t}\n});\nMarkHalfEdge.setMarkBoth = function (e, isMarked) {\n\te.setMark(isMarked);\n\te.sym().setMark(isMarked);\n};\nMarkHalfEdge.isMarked = function (e) {\n\treturn e.isMarked();\n};\nMarkHalfEdge.setMark = function (e, isMarked) {\n\te.setMark(isMarked);\n};\nMarkHalfEdge.markBoth = function (e) {\n\te.mark();\n\te.sym().mark();\n};\nMarkHalfEdge.mark = function (e) {\n\te.mark();\n};\n","import HashMap from '../../../../java/util/HashMap';\nimport extend from '../../../../extend';\nimport HalfEdge from './HalfEdge';\nexport default function EdgeGraph() {\n\tthis._vertexMap = new HashMap();\n}\nextend(EdgeGraph.prototype, {\n\tinsert: function (orig, dest, eAdj) {\n\t\tvar e = this.create(orig, dest);\n\t\tif (eAdj !== null) {\n\t\t\teAdj.insert(e);\n\t\t} else {\n\t\t\tthis._vertexMap.put(orig, e);\n\t\t}\n\t\tvar eAdjDest = this._vertexMap.get(dest);\n\t\tif (eAdjDest !== null) {\n\t\t\teAdjDest.insert(e.sym());\n\t\t} else {\n\t\t\tthis._vertexMap.put(dest, e.sym());\n\t\t}\n\t\treturn e;\n\t},\n\tcreate: function (p0, p1) {\n\t\tvar e0 = this.createEdge(p0);\n\t\tvar e1 = this.createEdge(p1);\n\t\tHalfEdge.init(e0, e1);\n\t\treturn e0;\n\t},\n\tcreateEdge: function (orig) {\n\t\treturn new HalfEdge(orig);\n\t},\n\taddEdge: function (orig, dest) {\n\t\tif (!EdgeGraph.isValidEdge(orig, dest)) return null;\n\t\tvar eAdj = this._vertexMap.get(orig);\n\t\tvar eSame = null;\n\t\tif (eAdj !== null) {\n\t\t\teSame = eAdj.find(dest);\n\t\t}\n\t\tif (eSame !== null) {\n\t\t\treturn eSame;\n\t\t}\n\t\tvar e = this.insert(orig, dest, eAdj);\n\t\treturn e;\n\t},\n\tgetVertexEdges: function () {\n\t\treturn this._vertexMap.values();\n\t},\n\tfindEdge: function (orig, dest) {\n\t\tvar e = this._vertexMap.get(orig);\n\t\tif (e === null) return null;\n\t\treturn e.find(dest);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeGraph;\n\t}\n});\nEdgeGraph.isValidEdge = function (orig, dest) {\n\tvar cmp = dest.compareTo(orig);\n\treturn cmp !== 0;\n};\n","import extend from '../../../../extend';\nimport MarkHalfEdge from '../edgegraph/MarkHalfEdge';\nimport inherits from '../../../../inherits';\nexport default function DissolveHalfEdge() {\n\tthis._isStart = false;\n\tlet orig = arguments[0];\n\tMarkHalfEdge.call(this, orig);\n}\ninherits(DissolveHalfEdge, MarkHalfEdge);\nextend(DissolveHalfEdge.prototype, {\n\tsetStart: function () {\n\t\tthis._isStart = true;\n\t},\n\tisStart: function () {\n\t\treturn this._isStart;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DissolveHalfEdge;\n\t}\n});\n","import EdgeGraph from '../edgegraph/EdgeGraph';\nimport extend from '../../../../extend';\nimport DissolveHalfEdge from './DissolveHalfEdge';\nimport inherits from '../../../../inherits';\nexport default function DissolveEdgeGraph() {\n\tEdgeGraph.apply(this);\n}\ninherits(DissolveEdgeGraph, EdgeGraph);\nextend(DissolveEdgeGraph.prototype, {\n\tcreateEdge: function (p0) {\n\t\treturn new DissolveHalfEdge(p0);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DissolveEdgeGraph;\n\t}\n});\n","import LineString from '../geom/LineString';\nimport CoordinateList from '../geom/CoordinateList';\nimport Geometry from '../geom/Geometry';\nimport hasInterface from '../../../../hasInterface';\nimport Collection from '../../../../java/util/Collection';\nimport Stack from '../../../../java/util/Stack';\nimport extend from '../../../../extend';\nimport MarkHalfEdge from '../edgegraph/MarkHalfEdge';\nimport DissolveEdgeGraph from './DissolveEdgeGraph';\nimport GeometryComponentFilter from '../geom/GeometryComponentFilter';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function LineDissolver() {\n\tthis._result = null;\n\tthis._factory = null;\n\tthis._graph = null;\n\tthis._lines = new ArrayList();\n\tthis._nodeEdgeStack = new Stack();\n\tthis._ringStartEdge = null;\n\tthis._graph = new DissolveEdgeGraph();\n}\nextend(LineDissolver.prototype, {\n\taddLine: function (line) {\n\t\tthis._lines.add(this._factory.createLineString(line.toCoordinateArray()));\n\t},\n\tupdateRingStartEdge: function (e) {\n\t\tif (!e.isStart()) {\n\t\t\te = e.sym();\n\t\t\tif (!e.isStart()) return null;\n\t\t}\n\t\tif (this._ringStartEdge === null) {\n\t\t\tthis._ringStartEdge = e;\n\t\t\treturn null;\n\t\t}\n\t\tif (e.orig().compareTo(this._ringStartEdge.orig()) < 0) {\n\t\t\tthis._ringStartEdge = e;\n\t\t}\n\t},\n\tgetResult: function () {\n\t\tif (this._result === null) this.computeResult();\n\t\treturn this._result;\n\t},\n\tprocess: function (e) {\n\t\tvar eNode = e.prevNode();\n\t\tif (eNode === null) eNode = e;\n\t\tthis.stackEdges(eNode);\n\t\tthis.buildLines();\n\t},\n\tbuildRing: function (eStartRing) {\n\t\tvar line = new CoordinateList();\n\t\tvar e = eStartRing;\n\t\tline.add(e.orig().copy(), false);\n\t\twhile (e.sym().degree() === 2) {\n\t\t\tvar eNext = e.next();\n\t\t\tif (eNext === eStartRing) break;\n\t\t\tline.add(eNext.orig().copy(), false);\n\t\t\te = eNext;\n\t\t}\n\t\tline.add(e.dest().copy(), false);\n\t\tthis.addLine(line);\n\t},\n\tbuildLine: function (eStart) {\n\t\tvar line = new CoordinateList();\n\t\tvar e = eStart;\n\t\tthis._ringStartEdge = null;\n\t\tMarkHalfEdge.markBoth(e);\n\t\tline.add(e.orig().copy(), false);\n\t\twhile (e.sym().degree() === 2) {\n\t\t\tthis.updateRingStartEdge(e);\n\t\t\tvar eNext = e.next();\n\t\t\tif (eNext === eStart) {\n\t\t\t\tthis.buildRing(this._ringStartEdge);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tline.add(eNext.orig().copy(), false);\n\t\t\te = eNext;\n\t\t\tMarkHalfEdge.markBoth(e);\n\t\t}\n\t\tline.add(e.dest().clone(), false);\n\t\tthis.stackEdges(e.sym());\n\t\tthis.addLine(line);\n\t},\n\tstackEdges: function (node) {\n\t\tvar e = node;\n\t\tdo {\n\t\t\tif (!MarkHalfEdge.isMarked(e)) this._nodeEdgeStack.add(e);\n\t\t\te = e.oNext();\n\t\t} while (e !== node);\n\t},\n\tcomputeResult: function () {\n\t\tvar edges = this._graph.getVertexEdges();\n\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tif (MarkHalfEdge.isMarked(e)) continue;\n\t\t\tthis.process(e);\n\t\t}\n\t\tthis._result = this._factory.buildGeometry(this._lines);\n\t},\n\tbuildLines: function () {\n\t\twhile (!this._nodeEdgeStack.empty()) {\n\t\t\tvar e = this._nodeEdgeStack.pop();\n\t\t\tif (MarkHalfEdge.isMarked(e)) continue;\n\t\t\tthis.buildLine(e);\n\t\t}\n\t},\n\tadd: function () {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geometry = arguments[0];\n\t\t\tgeometry.apply({\n\t\t\t\tinterfaces_: function () {\n\t\t\t\t\treturn [GeometryComponentFilter];\n\t\t\t\t},\n\t\t\t\tfilter: function (component) {\n\t\t\t\t\tif (component instanceof LineString) {\n\t\t\t\t\t\tthis.add(component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geometries = arguments[0];\n\t\t\tfor (var i = geometries.iterator(); i.hasNext(); ) {\n\t\t\t\tvar geometry = i.next();\n\t\t\t\tthis.add(geometry);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tlet lineString = arguments[0];\n\t\t\tif (this._factory === null) {\n\t\t\t\tthis._factory = lineString.getFactory();\n\t\t\t}\n\t\t\tvar seq = lineString.getCoordinateSequence();\n\t\t\tvar doneStart = false;\n\t\t\tfor (var i = 1; i < seq.size(); i++) {\n\t\t\t\tvar e = this._graph.addEdge(seq.getCoordinate(i - 1), seq.getCoordinate(i));\n\t\t\t\tif (e === null) continue;\n\t\t\t\tif (!doneStart) {\n\t\t\t\t\te.setStart();\n\t\t\t\t\tdoneStart = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LineDissolver;\n\t}\n});\nLineDissolver.dissolve = function (g) {\n\tvar d = new LineDissolver();\n\td.add(g);\n\treturn d.getResult();\n};\n","import Location from '../geom/Location';\nimport LineString from '../geom/LineString';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Point from '../geom/Point';\nimport Polygon from '../geom/Polygon';\nimport PointLocation from './PointLocation';\nimport BoundaryNodeRule from './BoundaryNodeRule';\nimport extend from '../../../../extend';\nimport MultiPolygon from '../geom/MultiPolygon';\nimport GeometryCollectionIterator from '../geom/GeometryCollectionIterator';\nimport GeometryCollection from '../geom/GeometryCollection';\nimport MultiLineString from '../geom/MultiLineString';\nexport default function PointLocator() {\n\tthis._boundaryRule = BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;\n\tthis._isIn = null;\n\tthis._numBoundaries = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet boundaryRule = arguments[0];\n\t\tif (boundaryRule === null) throw new IllegalArgumentException(\"Rule must be non-null\");\n\t\tthis._boundaryRule = boundaryRule;\n\t}\n}\nextend(PointLocator.prototype, {\n\tlocateInPolygonRing: function (p, ring) {\n\t\tif (!ring.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n\t\treturn PointLocation.locateInRing(p, ring.getCoordinates());\n\t},\n\tintersects: function (p, geom) {\n\t\treturn this.locate(p, geom) !== Location.EXTERIOR;\n\t},\n\tupdateLocationInfo: function (loc) {\n\t\tif (loc === Location.INTERIOR) this._isIn = true;\n\t\tif (loc === Location.BOUNDARY) this._numBoundaries++;\n\t},\n\tcomputeLocation: function (p, geom) {\n\t\tif (geom instanceof Point) {\n\t\t\tthis.updateLocationInfo(this.locateOnPoint(p, geom));\n\t\t}\n\t\tif (geom instanceof LineString) {\n\t\t\tthis.updateLocationInfo(this.locateOnLineString(p, geom));\n\t\t} else if (geom instanceof Polygon) {\n\t\t\tthis.updateLocationInfo(this.locateInPolygon(p, geom));\n\t\t} else if (geom instanceof MultiLineString) {\n\t\t\tvar ml = geom;\n\t\t\tfor (var i = 0; i < ml.getNumGeometries(); i++) {\n\t\t\t\tvar l = ml.getGeometryN(i);\n\t\t\t\tthis.updateLocationInfo(this.locateOnLineString(p, l));\n\t\t\t}\n\t\t} else if (geom instanceof MultiPolygon) {\n\t\t\tvar mpoly = geom;\n\t\t\tfor (var i = 0; i < mpoly.getNumGeometries(); i++) {\n\t\t\t\tvar poly = mpoly.getGeometryN(i);\n\t\t\t\tthis.updateLocationInfo(this.locateInPolygon(p, poly));\n\t\t\t}\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tvar geomi = new GeometryCollectionIterator(geom);\n\t\t\twhile (geomi.hasNext()) {\n\t\t\t\tvar g2 = geomi.next();\n\t\t\t\tif (g2 !== geom) this.computeLocation(p, g2);\n\t\t\t}\n\t\t}\n\t},\n\tlocateOnPoint: function (p, pt) {\n\t\tvar ptCoord = pt.getCoordinate();\n\t\tif (ptCoord.equals2D(p)) return Location.INTERIOR;\n\t\treturn Location.EXTERIOR;\n\t},\n\tlocateOnLineString: function (p, l) {\n\t\tif (!l.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n\t\tvar seq = l.getCoordinateSequence();\n\t\tif (!l.isClosed()) {\n\t\t\tif (p.equals(seq.getCoordinate(0)) || p.equals(seq.getCoordinate(seq.size() - 1))) {\n\t\t\t\treturn Location.BOUNDARY;\n\t\t\t}\n\t\t}\n\t\tif (PointLocation.isOnLine(p, seq)) {\n\t\t\treturn Location.INTERIOR;\n\t\t}\n\t\treturn Location.EXTERIOR;\n\t},\n\tlocateInPolygon: function (p, poly) {\n\t\tif (poly.isEmpty()) return Location.EXTERIOR;\n\t\tvar shell = poly.getExteriorRing();\n\t\tvar shellLoc = this.locateInPolygonRing(p, shell);\n\t\tif (shellLoc === Location.EXTERIOR) return Location.EXTERIOR;\n\t\tif (shellLoc === Location.BOUNDARY) return Location.BOUNDARY;\n\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\tvar hole = poly.getInteriorRingN(i);\n\t\t\tvar holeLoc = this.locateInPolygonRing(p, hole);\n\t\t\tif (holeLoc === Location.INTERIOR) return Location.EXTERIOR;\n\t\t\tif (holeLoc === Location.BOUNDARY) return Location.BOUNDARY;\n\t\t}\n\t\treturn Location.INTERIOR;\n\t},\n\tlocate: function (p, geom) {\n\t\tif (geom.isEmpty()) return Location.EXTERIOR;\n\t\tif (geom instanceof LineString) {\n\t\t\treturn this.locateOnLineString(p, geom);\n\t\t} else if (geom instanceof Polygon) {\n\t\t\treturn this.locateInPolygon(p, geom);\n\t\t}\n\t\tthis._isIn = false;\n\t\tthis._numBoundaries = 0;\n\t\tthis.computeLocation(p, geom);\n\t\tif (this._boundaryRule.isInBoundary(this._numBoundaries)) return Location.BOUNDARY;\n\t\tif (this._numBoundaries > 0 || this._isIn) return Location.INTERIOR;\n\t\treturn Location.EXTERIOR;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PointLocator;\n\t}\n});\n","import extend from '../../../../extend';\nexport default function Position() {}\nextend(Position.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Position;\n\t}\n});\nPosition.opposite = function (position) {\n\tif (position === Position.LEFT) return Position.RIGHT;\n\tif (position === Position.RIGHT) return Position.LEFT;\n\treturn position;\n};\nPosition.ON = 0;\nPosition.LEFT = 1;\nPosition.RIGHT = 2;\n","import extend from '../../../../../extend';\nexport default function MonotoneChain() {\n\tthis.mce = null;\n\tthis.chainIndex = null;\n\tlet mce = arguments[0], chainIndex = arguments[1];\n\tthis.mce = mce;\n\tthis.chainIndex = chainIndex;\n}\nextend(MonotoneChain.prototype, {\n\tcomputeIntersections: function (mc, si) {\n\t\tthis.mce.computeIntersectsForChain(this.chainIndex, mc.mce, mc.chainIndex, si);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MonotoneChain;\n\t}\n});\n","import extend from '../../../../../extend';\nimport Comparable from '../../../../../java/lang/Comparable';\nexport default function SweepLineEvent() {\n\tthis._label = null;\n\tthis._xValue = null;\n\tthis._eventType = null;\n\tthis._insertEvent = null;\n\tthis._deleteEventIndex = null;\n\tthis._obj = null;\n\tif (arguments.length === 2) {\n\t\tlet x = arguments[0], insertEvent = arguments[1];\n\t\tthis._eventType = SweepLineEvent.DELETE;\n\t\tthis._xValue = x;\n\t\tthis._insertEvent = insertEvent;\n\t} else if (arguments.length === 3) {\n\t\tlet label = arguments[0], x = arguments[1], obj = arguments[2];\n\t\tthis._eventType = SweepLineEvent.INSERT;\n\t\tthis._label = label;\n\t\tthis._xValue = x;\n\t\tthis._obj = obj;\n\t}\n}\nextend(SweepLineEvent.prototype, {\n\tisDelete: function () {\n\t\treturn this._eventType === SweepLineEvent.DELETE;\n\t},\n\tsetDeleteEventIndex: function (deleteEventIndex) {\n\t\tthis._deleteEventIndex = deleteEventIndex;\n\t},\n\tgetObject: function () {\n\t\treturn this._obj;\n\t},\n\tcompareTo: function (o) {\n\t\tvar pe = o;\n\t\tif (this._xValue < pe._xValue) return -1;\n\t\tif (this._xValue > pe._xValue) return 1;\n\t\tif (this._eventType < pe._eventType) return -1;\n\t\tif (this._eventType > pe._eventType) return 1;\n\t\treturn 0;\n\t},\n\tgetInsertEvent: function () {\n\t\treturn this._insertEvent;\n\t},\n\tisInsert: function () {\n\t\treturn this._eventType === SweepLineEvent.INSERT;\n\t},\n\tisSameLabel: function (ev) {\n\t\tif (this._label === null) return false;\n\t\treturn this._label === ev._label;\n\t},\n\tgetDeleteEventIndex: function () {\n\t\treturn this._deleteEventIndex;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn SweepLineEvent;\n\t}\n});\nSweepLineEvent.INSERT = 1;\nSweepLineEvent.DELETE = 2;\n","import extend from '../../../../../extend';\nexport default function EdgeSetIntersector() {}\nextend(EdgeSetIntersector.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeSetIntersector;\n\t}\n});\n","import extend from '../../../../../extend';\nexport default function SegmentIntersector() {\n\tthis._hasIntersection = false;\n\tthis._hasProper = false;\n\tthis._hasProperInterior = false;\n\tthis._properIntersectionPoint = null;\n\tthis._li = null;\n\tthis._includeProper = null;\n\tthis._recordIsolated = null;\n\tthis._isSelfIntersection = null;\n\tthis._numIntersections = 0;\n\tthis.numTests = 0;\n\tthis._bdyNodes = null;\n\tthis._isDone = false;\n\tthis._isDoneWhenProperInt = false;\n\tlet li = arguments[0], includeProper = arguments[1], recordIsolated = arguments[2];\n\tthis._li = li;\n\tthis._includeProper = includeProper;\n\tthis._recordIsolated = recordIsolated;\n}\nextend(SegmentIntersector.prototype, {\n\tisTrivialIntersection: function (e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1) {\n\t\t\tif (this._li.getIntersectionNum() === 1) {\n\t\t\t\tif (SegmentIntersector.isAdjacentSegments(segIndex0, segIndex1)) return true;\n\t\t\t\tif (e0.isClosed()) {\n\t\t\t\t\tvar maxSegIndex = e0.getNumPoints() - 1;\n\t\t\t\t\tif (segIndex0 === 0 && segIndex1 === maxSegIndex || segIndex1 === 0 && segIndex0 === maxSegIndex) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tgetProperIntersectionPoint: function () {\n\t\treturn this._properIntersectionPoint;\n\t},\n\tsetIsDoneIfProperInt: function (isDoneWhenProperInt) {\n\t\tthis._isDoneWhenProperInt = isDoneWhenProperInt;\n\t},\n\thasProperInteriorIntersection: function () {\n\t\treturn this._hasProperInterior;\n\t},\n\tisBoundaryPointInternal: function (li, bdyNodes) {\n\t\tfor (var i = bdyNodes.iterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tvar pt = node.getCoordinate();\n\t\t\tif (li.isIntersection(pt)) return true;\n\t\t}\n\t\treturn false;\n\t},\n\thasProperIntersection: function () {\n\t\treturn this._hasProper;\n\t},\n\thasIntersection: function () {\n\t\treturn this._hasIntersection;\n\t},\n\tisDone: function () {\n\t\treturn this._isDone;\n\t},\n\tisBoundaryPoint: function (li, bdyNodes) {\n\t\tif (bdyNodes === null) return false;\n\t\tif (this.isBoundaryPointInternal(li, bdyNodes[0])) return true;\n\t\tif (this.isBoundaryPointInternal(li, bdyNodes[1])) return true;\n\t\treturn false;\n\t},\n\tsetBoundaryNodes: function (bdyNodes0, bdyNodes1) {\n\t\tthis._bdyNodes = new Array(2).fill(null);\n\t\tthis._bdyNodes[0] = bdyNodes0;\n\t\tthis._bdyNodes[1] = bdyNodes1;\n\t},\n\taddIntersections: function (e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tthis.numTests++;\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tif (this._recordIsolated) {\n\t\t\t\te0.setIsolated(false);\n\t\t\t\te1.setIsolated(false);\n\t\t\t}\n\t\t\tthis._numIntersections++;\n\t\t\tif (!this.isTrivialIntersection(e0, segIndex0, e1, segIndex1)) {\n\t\t\t\tthis._hasIntersection = true;\n\t\t\t\tif (this._includeProper || !this._li.isProper()) {\n\t\t\t\t\te0.addIntersections(this._li, segIndex0, 0);\n\t\t\t\t\te1.addIntersections(this._li, segIndex1, 1);\n\t\t\t\t}\n\t\t\t\tif (this._li.isProper()) {\n\t\t\t\t\tthis._properIntersectionPoint = this._li.getIntersection(0).copy();\n\t\t\t\t\tthis._hasProper = true;\n\t\t\t\t\tif (this._isDoneWhenProperInt) {\n\t\t\t\t\t\tthis._isDone = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.isBoundaryPoint(this._li, this._bdyNodes)) this._hasProperInterior = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SegmentIntersector;\n\t}\n});\nSegmentIntersector.isAdjacentSegments = function (i1, i2) {\n\treturn Math.abs(i1 - i2) === 1;\n};\n","import hasInterface from '../../../../../hasInterface';\nimport MonotoneChain from './MonotoneChain';\nimport SweepLineEvent from './SweepLineEvent';\nimport EdgeSetIntersector from './EdgeSetIntersector';\nimport extend from '../../../../../extend';\nimport Collections from '../../../../../java/util/Collections';\nimport SegmentIntersector from './SegmentIntersector';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport inherits from '../../../../../inherits';\nimport List from '../../../../../java/util/List';\nexport default function SimpleMCSweepLineIntersector() {\n\tEdgeSetIntersector.apply(this);\n\tthis.events = new ArrayList();\n\tthis.nOverlaps = null;\n}\ninherits(SimpleMCSweepLineIntersector, EdgeSetIntersector);\nextend(SimpleMCSweepLineIntersector.prototype, {\n\tprepareEvents: function () {\n\t\tCollections.sort(this.events);\n\t\tfor (var i = 0; i < this.events.size(); i++) {\n\t\t\tvar ev = this.events.get(i);\n\t\t\tif (ev.isDelete()) {\n\t\t\t\tev.getInsertEvent().setDeleteEventIndex(i);\n\t\t\t}\n\t\t}\n\t},\n\tcomputeIntersections: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet si = arguments[0];\n\t\t\tthis.nOverlaps = 0;\n\t\t\tthis.prepareEvents();\n\t\t\tfor (var i = 0; i < this.events.size(); i++) {\n\t\t\t\tvar ev = this.events.get(i);\n\t\t\t\tif (ev.isInsert()) {\n\t\t\t\t\tthis.processOverlaps(i, ev.getDeleteEventIndex(), ev, si);\n\t\t\t\t}\n\t\t\t\tif (si.isDone()) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (arguments[2] instanceof SegmentIntersector && (hasInterface(arguments[0], List) && hasInterface(arguments[1], List))) {\n\t\t\t\tlet edges0 = arguments[0], edges1 = arguments[1], si = arguments[2];\n\t\t\t\tthis.addEdges(edges0, edges0);\n\t\t\t\tthis.addEdges(edges1, edges1);\n\t\t\t\tthis.computeIntersections(si);\n\t\t\t} else if (typeof arguments[2] === \"boolean\" && (hasInterface(arguments[0], List) && arguments[1] instanceof SegmentIntersector)) {\n\t\t\t\tlet edges = arguments[0], si = arguments[1], testAllSegments = arguments[2];\n\t\t\t\tif (testAllSegments) this.addEdges(edges, null); else this.addEdges(edges);\n\t\t\t\tthis.computeIntersections(si);\n\t\t\t}\n\t\t}\n\t},\n\taddEdge: function (edge, edgeSet) {\n\t\tvar mce = edge.getMonotoneChainEdge();\n\t\tvar startIndex = mce.getStartIndexes();\n\t\tfor (var i = 0; i < startIndex.length - 1; i++) {\n\t\t\tvar mc = new MonotoneChain(mce, i);\n\t\t\tvar insertEvent = new SweepLineEvent(edgeSet, mce.getMinX(i), mc);\n\t\t\tthis.events.add(insertEvent);\n\t\t\tthis.events.add(new SweepLineEvent(mce.getMaxX(i), insertEvent));\n\t\t}\n\t},\n\tprocessOverlaps: function (start, end, ev0, si) {\n\t\tvar mc0 = ev0.getObject();\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar ev1 = this.events.get(i);\n\t\t\tif (ev1.isInsert()) {\n\t\t\t\tvar mc1 = ev1.getObject();\n\t\t\t\tif (!ev0.isSameLabel(ev1)) {\n\t\t\t\t\tmc0.computeIntersections(mc1, si);\n\t\t\t\t\tthis.nOverlaps++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\taddEdges: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet edges = arguments[0];\n\t\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\t\tvar edge = i.next();\n\t\t\t\tthis.addEdge(edge, edge);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet edges = arguments[0], edgeSet = arguments[1];\n\t\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\t\tvar edge = i.next();\n\t\t\t\tthis.addEdge(edge, edgeSet);\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SimpleMCSweepLineIntersector;\n\t}\n});\n","import StringBuffer from '../../../../java/lang/StringBuffer';\nimport Location from '../geom/Location';\nimport Position from './Position';\nimport extend from '../../../../extend';\nexport default function TopologyLocation() {\n\tthis.location = null;\n\tif (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tlet location = arguments[0];\n\t\t\tthis.init(location.length);\n\t\t} else if (Number.isInteger(arguments[0])) {\n\t\t\tlet on = arguments[0];\n\t\t\tthis.init(1);\n\t\t\tthis.location[Position.ON] = on;\n\t\t} else if (arguments[0] instanceof TopologyLocation) {\n\t\t\tlet gl = arguments[0];\n\t\t\tthis.init(gl.location.length);\n\t\t\tif (gl !== null) {\n\t\t\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\t\t\tthis.location[i] = gl.location[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else if (arguments.length === 3) {\n\t\tlet on = arguments[0], left = arguments[1], right = arguments[2];\n\t\tthis.init(3);\n\t\tthis.location[Position.ON] = on;\n\t\tthis.location[Position.LEFT] = left;\n\t\tthis.location[Position.RIGHT] = right;\n\t}\n}\nextend(TopologyLocation.prototype, {\n\tsetAllLocations: function (locValue) {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tthis.location[i] = locValue;\n\t\t}\n\t},\n\tisNull: function () {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] !== Location.NONE) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tsetAllLocationsIfNull: function (locValue) {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] === Location.NONE) this.location[i] = locValue;\n\t\t}\n\t},\n\tisLine: function () {\n\t\treturn this.location.length === 1;\n\t},\n\tmerge: function (gl) {\n\t\tif (gl.location.length > this.location.length) {\n\t\t\tvar newLoc = new Array(3).fill(null);\n\t\t\tnewLoc[Position.ON] = this.location[Position.ON];\n\t\t\tnewLoc[Position.LEFT] = Location.NONE;\n\t\t\tnewLoc[Position.RIGHT] = Location.NONE;\n\t\t\tthis.location = newLoc;\n\t\t}\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] === Location.NONE && i < gl.location.length) this.location[i] = gl.location[i];\n\t\t}\n\t},\n\tgetLocations: function () {\n\t\treturn this.location;\n\t},\n\tflip: function () {\n\t\tif (this.location.length <= 1) return null;\n\t\tvar temp = this.location[Position.LEFT];\n\t\tthis.location[Position.LEFT] = this.location[Position.RIGHT];\n\t\tthis.location[Position.RIGHT] = temp;\n\t},\n\ttoString: function () {\n\t\tvar buf = new StringBuffer();\n\t\tif (this.location.length > 1) buf.append(Location.toLocationSymbol(this.location[Position.LEFT]));\n\t\tbuf.append(Location.toLocationSymbol(this.location[Position.ON]));\n\t\tif (this.location.length > 1) buf.append(Location.toLocationSymbol(this.location[Position.RIGHT]));\n\t\treturn buf.toString();\n\t},\n\tsetLocations: function (on, left, right) {\n\t\tthis.location[Position.ON] = on;\n\t\tthis.location[Position.LEFT] = left;\n\t\tthis.location[Position.RIGHT] = right;\n\t},\n\tget: function (posIndex) {\n\t\tif (posIndex < this.location.length) return this.location[posIndex];\n\t\treturn Location.NONE;\n\t},\n\tisArea: function () {\n\t\treturn this.location.length > 1;\n\t},\n\tisAnyNull: function () {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] === Location.NONE) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tsetLocation: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet locValue = arguments[0];\n\t\t\tthis.setLocation(Position.ON, locValue);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet locIndex = arguments[0], locValue = arguments[1];\n\t\t\tthis.location[locIndex] = locValue;\n\t\t}\n\t},\n\tinit: function (size) {\n\t\tthis.location = new Array(size).fill(null);\n\t\tthis.setAllLocations(Location.NONE);\n\t},\n\tisEqualOnSide: function (le, locIndex) {\n\t\treturn this.location[locIndex] === le.location[locIndex];\n\t},\n\tallPositionsEqual: function (loc) {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] !== loc) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn TopologyLocation;\n\t}\n});\n","import StringBuffer from '../../../../java/lang/StringBuffer';\nimport Location from '../geom/Location';\nimport Position from './Position';\nimport extend from '../../../../extend';\nimport TopologyLocation from './TopologyLocation';\nexport default function Label() {\n\tthis.elt = new Array(2).fill(null);\n\tif (arguments.length === 1) {\n\t\tif (Number.isInteger(arguments[0])) {\n\t\t\tlet onLoc = arguments[0];\n\t\t\tthis.elt[0] = new TopologyLocation(onLoc);\n\t\t\tthis.elt[1] = new TopologyLocation(onLoc);\n\t\t} else if (arguments[0] instanceof Label) {\n\t\t\tlet lbl = arguments[0];\n\t\t\tthis.elt[0] = new TopologyLocation(lbl.elt[0]);\n\t\t\tthis.elt[1] = new TopologyLocation(lbl.elt[1]);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet geomIndex = arguments[0], onLoc = arguments[1];\n\t\tthis.elt[0] = new TopologyLocation(Location.NONE);\n\t\tthis.elt[1] = new TopologyLocation(Location.NONE);\n\t\tthis.elt[geomIndex].setLocation(onLoc);\n\t} else if (arguments.length === 3) {\n\t\tlet onLoc = arguments[0], leftLoc = arguments[1], rightLoc = arguments[2];\n\t\tthis.elt[0] = new TopologyLocation(onLoc, leftLoc, rightLoc);\n\t\tthis.elt[1] = new TopologyLocation(onLoc, leftLoc, rightLoc);\n\t} else if (arguments.length === 4) {\n\t\tlet geomIndex = arguments[0], onLoc = arguments[1], leftLoc = arguments[2], rightLoc = arguments[3];\n\t\tthis.elt[0] = new TopologyLocation(Location.NONE, Location.NONE, Location.NONE);\n\t\tthis.elt[1] = new TopologyLocation(Location.NONE, Location.NONE, Location.NONE);\n\t\tthis.elt[geomIndex].setLocations(onLoc, leftLoc, rightLoc);\n\t}\n}\nextend(Label.prototype, {\n\tgetGeometryCount: function () {\n\t\tvar count = 0;\n\t\tif (!this.elt[0].isNull()) count++;\n\t\tif (!this.elt[1].isNull()) count++;\n\t\treturn count;\n\t},\n\tsetAllLocations: function (geomIndex, location) {\n\t\tthis.elt[geomIndex].setAllLocations(location);\n\t},\n\tisNull: function (geomIndex) {\n\t\treturn this.elt[geomIndex].isNull();\n\t},\n\tsetAllLocationsIfNull: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet location = arguments[0];\n\t\t\tthis.setAllLocationsIfNull(0, location);\n\t\t\tthis.setAllLocationsIfNull(1, location);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geomIndex = arguments[0], location = arguments[1];\n\t\t\tthis.elt[geomIndex].setAllLocationsIfNull(location);\n\t\t}\n\t},\n\tisLine: function (geomIndex) {\n\t\treturn this.elt[geomIndex].isLine();\n\t},\n\tmerge: function (lbl) {\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this.elt[i] === null && lbl.elt[i] !== null) {\n\t\t\t\tthis.elt[i] = new TopologyLocation(lbl.elt[i]);\n\t\t\t} else {\n\t\t\t\tthis.elt[i].merge(lbl.elt[i]);\n\t\t\t}\n\t\t}\n\t},\n\tflip: function () {\n\t\tthis.elt[0].flip();\n\t\tthis.elt[1].flip();\n\t},\n\tgetLocation: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geomIndex = arguments[0];\n\t\t\treturn this.elt[geomIndex].get(Position.ON);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geomIndex = arguments[0], posIndex = arguments[1];\n\t\t\treturn this.elt[geomIndex].get(posIndex);\n\t\t}\n\t},\n\ttoString: function () {\n\t\tvar buf = new StringBuffer();\n\t\tif (this.elt[0] !== null) {\n\t\t\tbuf.append(\"A:\");\n\t\t\tbuf.append(this.elt[0].toString());\n\t\t}\n\t\tif (this.elt[1] !== null) {\n\t\t\tbuf.append(\" B:\");\n\t\t\tbuf.append(this.elt[1].toString());\n\t\t}\n\t\treturn buf.toString();\n\t},\n\tisArea: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.elt[0].isArea() || this.elt[1].isArea();\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet geomIndex = arguments[0];\n\t\t\treturn this.elt[geomIndex].isArea();\n\t\t}\n\t},\n\tisAnyNull: function (geomIndex) {\n\t\treturn this.elt[geomIndex].isAnyNull();\n\t},\n\tsetLocation: function () {\n\t\tif (arguments.length === 2) {\n\t\t\tlet geomIndex = arguments[0], location = arguments[1];\n\t\t\tthis.elt[geomIndex].setLocation(Position.ON, location);\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet geomIndex = arguments[0], posIndex = arguments[1], location = arguments[2];\n\t\t\tthis.elt[geomIndex].setLocation(posIndex, location);\n\t\t}\n\t},\n\tisEqualOnSide: function (lbl, side) {\n\t\treturn this.elt[0].isEqualOnSide(lbl.elt[0], side) && this.elt[1].isEqualOnSide(lbl.elt[1], side);\n\t},\n\tallPositionsEqual: function (geomIndex, loc) {\n\t\treturn this.elt[geomIndex].allPositionsEqual(loc);\n\t},\n\ttoLine: function (geomIndex) {\n\t\tif (this.elt[geomIndex].isArea()) this.elt[geomIndex] = new TopologyLocation(this.elt[geomIndex].location[0]);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Label;\n\t}\n});\nLabel.toLineLabel = function (label) {\n\tvar lineLabel = new Label(Location.NONE);\n\tfor (var i = 0; i < 2; i++) {\n\t\tlineLabel.setLocation(i, label.getLocation(i));\n\t}\n\treturn lineLabel;\n};\n","import Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport Comparable from '../../../../java/lang/Comparable';\nexport default function EdgeIntersection() {\n\tthis.coord = null;\n\tthis.segmentIndex = null;\n\tthis.dist = null;\n\tlet coord = arguments[0], segmentIndex = arguments[1], dist = arguments[2];\n\tthis.coord = new Coordinate(coord);\n\tthis.segmentIndex = segmentIndex;\n\tthis.dist = dist;\n}\nextend(EdgeIntersection.prototype, {\n\tgetSegmentIndex: function () {\n\t\treturn this.segmentIndex;\n\t},\n\tgetCoordinate: function () {\n\t\treturn this.coord;\n\t},\n\tprint: function (out) {\n\t\tout.print(this.coord);\n\t\tout.print(\" seg # = \" + this.segmentIndex);\n\t\tout.println(\" dist = \" + this.dist);\n\t},\n\tcompareTo: function (obj) {\n\t\tvar other = obj;\n\t\treturn this.compare(other.segmentIndex, other.dist);\n\t},\n\tisEndPoint: function (maxSegmentIndex) {\n\t\tif (this.segmentIndex === 0 && this.dist === 0.0) return true;\n\t\tif (this.segmentIndex === maxSegmentIndex) return true;\n\t\treturn false;\n\t},\n\ttoString: function () {\n\t\treturn this.coord + \" seg # = \" + this.segmentIndex + \" dist = \" + this.dist;\n\t},\n\tgetDistance: function () {\n\t\treturn this.dist;\n\t},\n\tcompare: function (segmentIndex, dist) {\n\t\tif (this.segmentIndex < segmentIndex) return -1;\n\t\tif (this.segmentIndex > segmentIndex) return 1;\n\t\tif (this.dist < dist) return -1;\n\t\tif (this.dist > dist) return 1;\n\t\treturn 0;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeIntersection;\n\t}\n});\n","import EdgeIntersection from './EdgeIntersection';\nimport Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport Label from './Label';\nimport Edge from './Edge';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default function EdgeIntersectionList() {\n\tthis._nodeMap = new TreeMap();\n\tthis.edge = null;\n\tlet edge = arguments[0];\n\tthis.edge = edge;\n}\nextend(EdgeIntersectionList.prototype, {\n\tprint: function (out) {\n\t\tout.println(\"Intersections:\");\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ei = it.next();\n\t\t\tei.print(out);\n\t\t}\n\t},\n\titerator: function () {\n\t\treturn this._nodeMap.values().iterator();\n\t},\n\taddSplitEdges: function (edgeList) {\n\t\tthis.addEndpoints();\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tvar newEdge = this.createSplitEdge(eiPrev, ei);\n\t\t\tedgeList.add(newEdge);\n\t\t\teiPrev = ei;\n\t\t}\n\t},\n\taddEndpoints: function () {\n\t\tvar maxSegIndex = this.edge.pts.length - 1;\n\t\tthis.add(this.edge.pts[0], 0, 0.0);\n\t\tthis.add(this.edge.pts[maxSegIndex], maxSegIndex, 0.0);\n\t},\n\tcreateSplitEdge: function (ei0, ei1) {\n\t\tvar npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\t\tvar lastSegStartPt = this.edge.pts[ei1.segmentIndex];\n\t\tvar useIntPt1 = ei1.dist > 0.0 || !ei1.coord.equals2D(lastSegStartPt);\n\t\tif (!useIntPt1) {\n\t\t\tnpts--;\n\t\t}\n\t\tvar pts = new Array(npts).fill(null);\n\t\tvar ipt = 0;\n\t\tpts[ipt++] = new Coordinate(ei0.coord);\n\t\tfor (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n\t\t\tpts[ipt++] = this.edge.pts[i];\n\t\t}\n\t\tif (useIntPt1) pts[ipt] = ei1.coord;\n\t\treturn new Edge(pts, new Label(this.edge._label));\n\t},\n\tadd: function (intPt, segmentIndex, dist) {\n\t\tvar eiNew = new EdgeIntersection(intPt, segmentIndex, dist);\n\t\tvar ei = this._nodeMap.get(eiNew);\n\t\tif (ei !== null) {\n\t\t\treturn ei;\n\t\t}\n\t\tthis._nodeMap.put(eiNew, eiNew);\n\t\treturn eiNew;\n\t},\n\tisIntersection: function (pt) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ei = it.next();\n\t\t\tif (ei.coord.equals(pt)) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeIntersectionList;\n\t}\n});\n","import extend from '../../../../../extend';\nimport Integer from '../../../../../java/lang/Integer';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Quadrant from '../Quadrant';\nexport default function MonotoneChainIndexer() {}\nextend(MonotoneChainIndexer.prototype, {\n\tgetChainStartIndices: function (pts) {\n\t\tvar start = 0;\n\t\tvar startIndexList = new ArrayList();\n\t\tstartIndexList.add(new Integer(start));\n\t\tdo {\n\t\t\tvar last = this.findChainEnd(pts, start);\n\t\t\tstartIndexList.add(new Integer(last));\n\t\t\tstart = last;\n\t\t} while (start < pts.length - 1);\n\t\tvar startIndex = MonotoneChainIndexer.toIntArray(startIndexList);\n\t\treturn startIndex;\n\t},\n\tfindChainEnd: function (pts, start) {\n\t\tvar chainQuad = Quadrant.quadrant(pts[start], pts[start + 1]);\n\t\tvar last = start + 1;\n\t\twhile (last < pts.length) {\n\t\t\tvar quad = Quadrant.quadrant(pts[last - 1], pts[last]);\n\t\t\tif (quad !== chainQuad) break;\n\t\t\tlast++;\n\t\t}\n\t\treturn last - 1;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MonotoneChainIndexer;\n\t}\n});\nMonotoneChainIndexer.toIntArray = function (list) {\n\tvar array = new Array(list.size()).fill(null);\n\tfor (var i = 0; i < array.length; i++) {\n\t\tarray[i] = list.get(i).intValue();\n\t}\n\treturn array;\n};\n","import extend from '../../../../../extend';\nimport MonotoneChainIndexer from './MonotoneChainIndexer';\nimport Envelope from '../../geom/Envelope';\nexport default function MonotoneChainEdge() {\n\tthis.e = null;\n\tthis.pts = null;\n\tthis.startIndex = null;\n\tlet e = arguments[0];\n\tthis.e = e;\n\tthis.pts = e.getCoordinates();\n\tvar mcb = new MonotoneChainIndexer();\n\tthis.startIndex = mcb.getChainStartIndices(this.pts);\n}\nextend(MonotoneChainEdge.prototype, {\n\tgetCoordinates: function () {\n\t\treturn this.pts;\n\t},\n\tgetMaxX: function (chainIndex) {\n\t\tvar x1 = this.pts[this.startIndex[chainIndex]].x;\n\t\tvar x2 = this.pts[this.startIndex[chainIndex + 1]].x;\n\t\treturn x1 > x2 ? x1 : x2;\n\t},\n\tgetMinX: function (chainIndex) {\n\t\tvar x1 = this.pts[this.startIndex[chainIndex]].x;\n\t\tvar x2 = this.pts[this.startIndex[chainIndex + 1]].x;\n\t\treturn x1 < x2 ? x1 : x2;\n\t},\n\tcomputeIntersectsForChain: function () {\n\t\tif (arguments.length === 4) {\n\t\t\tlet chainIndex0 = arguments[0], mce = arguments[1], chainIndex1 = arguments[2], si = arguments[3];\n\t\t\tthis.computeIntersectsForChain(this.startIndex[chainIndex0], this.startIndex[chainIndex0 + 1], mce, mce.startIndex[chainIndex1], mce.startIndex[chainIndex1 + 1], si);\n\t\t} else if (arguments.length === 6) {\n\t\t\tlet start0 = arguments[0], end0 = arguments[1], mce = arguments[2], start1 = arguments[3], end1 = arguments[4], ei = arguments[5];\n\t\t\tif (end0 - start0 === 1 && end1 - start1 === 1) {\n\t\t\t\tei.addIntersections(this.e, start0, mce.e, start1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (!this.overlaps(start0, end0, mce, start1, end1)) return null;\n\t\t\tvar mid0 = Math.trunc((start0 + end0) / 2);\n\t\t\tvar mid1 = Math.trunc((start1 + end1) / 2);\n\t\t\tif (start0 < mid0) {\n\t\t\t\tif (start1 < mid1) this.computeIntersectsForChain(start0, mid0, mce, start1, mid1, ei);\n\t\t\t\tif (mid1 < end1) this.computeIntersectsForChain(start0, mid0, mce, mid1, end1, ei);\n\t\t\t}\n\t\t\tif (mid0 < end0) {\n\t\t\t\tif (start1 < mid1) this.computeIntersectsForChain(mid0, end0, mce, start1, mid1, ei);\n\t\t\t\tif (mid1 < end1) this.computeIntersectsForChain(mid0, end0, mce, mid1, end1, ei);\n\t\t\t}\n\t\t}\n\t},\n\toverlaps: function (start0, end0, mce, start1, end1) {\n\t\treturn Envelope.intersects(this.pts[start0], this.pts[end0], mce.pts[start1], mce.pts[end1]);\n\t},\n\tgetStartIndexes: function () {\n\t\treturn this.startIndex;\n\t},\n\tcomputeIntersects: function (mce, si) {\n\t\tfor (var i = 0; i < this.startIndex.length - 1; i++) {\n\t\t\tfor (var j = 0; j < mce.startIndex.length - 1; j++) {\n\t\t\t\tthis.computeIntersectsForChain(i, mce, j, si);\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MonotoneChainEdge;\n\t}\n});\n","import Location from '../geom/Location';\nimport Position from './Position';\nimport extend from '../../../../extend';\nexport default function Depth() {\n\tthis._depth = Array(2).fill().map(() => Array(3));\n\tfor (var i = 0; i < 2; i++) {\n\t\tfor (var j = 0; j < 3; j++) {\n\t\t\tthis._depth[i][j] = Depth.NULL_VALUE;\n\t\t}\n\t}\n}\nextend(Depth.prototype, {\n\tgetDepth: function (geomIndex, posIndex) {\n\t\treturn this._depth[geomIndex][posIndex];\n\t},\n\tsetDepth: function (geomIndex, posIndex, depthValue) {\n\t\tthis._depth[geomIndex][posIndex] = depthValue;\n\t},\n\tisNull: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tfor (var j = 0; j < 3; j++) {\n\t\t\t\t\tif (this._depth[i][j] !== Depth.NULL_VALUE) return false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet geomIndex = arguments[0];\n\t\t\treturn this._depth[geomIndex][1] === Depth.NULL_VALUE;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geomIndex = arguments[0], posIndex = arguments[1];\n\t\t\treturn this._depth[geomIndex][posIndex] === Depth.NULL_VALUE;\n\t\t}\n\t},\n\tnormalize: function () {\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (!this.isNull(i)) {\n\t\t\t\tvar minDepth = this._depth[i][1];\n\t\t\t\tif (this._depth[i][2] < minDepth) minDepth = this._depth[i][2];\n\t\t\t\tif (minDepth < 0) minDepth = 0;\n\t\t\t\tfor (var j = 1; j < 3; j++) {\n\t\t\t\t\tvar newValue = 0;\n\t\t\t\t\tif (this._depth[i][j] > minDepth) newValue = 1;\n\t\t\t\t\tthis._depth[i][j] = newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetDelta: function (geomIndex) {\n\t\treturn this._depth[geomIndex][Position.RIGHT] - this._depth[geomIndex][Position.LEFT];\n\t},\n\tgetLocation: function (geomIndex, posIndex) {\n\t\tif (this._depth[geomIndex][posIndex] <= 0) return Location.EXTERIOR;\n\t\treturn Location.INTERIOR;\n\t},\n\ttoString: function () {\n\t\treturn \"A: \" + this._depth[0][1] + \",\" + this._depth[0][2] + \" B: \" + this._depth[1][1] + \",\" + this._depth[1][2];\n\t},\n\tadd: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet lbl = arguments[0];\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tfor (var j = 1; j < 3; j++) {\n\t\t\t\t\tvar loc = lbl.getLocation(i, j);\n\t\t\t\t\tif (loc === Location.EXTERIOR || loc === Location.INTERIOR) {\n\t\t\t\t\t\tif (this.isNull(i, j)) {\n\t\t\t\t\t\t\tthis._depth[i][j] = Depth.depthAtLocation(loc);\n\t\t\t\t\t\t} else this._depth[i][j] += Depth.depthAtLocation(loc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet geomIndex = arguments[0], posIndex = arguments[1], location = arguments[2];\n\t\t\tif (location === Location.INTERIOR) this._depth[geomIndex][posIndex]++;\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Depth;\n\t}\n});\nDepth.depthAtLocation = function (location) {\n\tif (location === Location.EXTERIOR) return 0;\n\tif (location === Location.INTERIOR) return 1;\n\treturn Depth.NULL_VALUE;\n};\nDepth.NULL_VALUE = -1;\n","import extend from '../../../../extend';\nimport Assert from '../util/Assert';\nexport default function GraphComponent() {\n\tthis._label = null;\n\tthis._isInResult = false;\n\tthis._isCovered = false;\n\tthis._isCoveredSet = false;\n\tthis._isVisited = false;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet label = arguments[0];\n\t\tthis._label = label;\n\t}\n}\nextend(GraphComponent.prototype, {\n\tsetVisited: function (isVisited) {\n\t\tthis._isVisited = isVisited;\n\t},\n\tsetInResult: function (isInResult) {\n\t\tthis._isInResult = isInResult;\n\t},\n\tisCovered: function () {\n\t\treturn this._isCovered;\n\t},\n\tisCoveredSet: function () {\n\t\treturn this._isCoveredSet;\n\t},\n\tsetLabel: function (label) {\n\t\tthis._label = label;\n\t},\n\tgetLabel: function () {\n\t\treturn this._label;\n\t},\n\tsetCovered: function (isCovered) {\n\t\tthis._isCovered = isCovered;\n\t\tthis._isCoveredSet = true;\n\t},\n\tupdateIM: function (im) {\n\t\tAssert.isTrue(this._label.getGeometryCount() >= 2, \"found partial label\");\n\t\tthis.computeIM(im);\n\t},\n\tisInResult: function () {\n\t\treturn this._isInResult;\n\t},\n\tisVisited: function () {\n\t\treturn this._isVisited;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GraphComponent;\n\t}\n});\n","import EdgeIntersectionList from './EdgeIntersectionList';\nimport IntersectionMatrix from '../geom/IntersectionMatrix';\nimport MonotoneChainEdge from './index/MonotoneChainEdge';\nimport Position from './Position';\nimport Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport Label from './Label';\nimport Envelope from '../geom/Envelope';\nimport inherits from '../../../../inherits';\nimport StringBuilder from '../../../../java/lang/StringBuilder';\nimport Depth from './Depth';\nimport GraphComponent from './GraphComponent';\nexport default function Edge() {\n\tGraphComponent.apply(this);\n\tthis.pts = null;\n\tthis._env = null;\n\tthis.eiList = new EdgeIntersectionList(this);\n\tthis._name = null;\n\tthis._mce = null;\n\tthis._isIsolated = true;\n\tthis._depth = new Depth();\n\tthis._depthDelta = 0;\n\tif (arguments.length === 1) {\n\t\tlet pts = arguments[0];\n\t\tEdge.call(this, pts, null);\n\t} else if (arguments.length === 2) {\n\t\tlet pts = arguments[0], label = arguments[1];\n\t\tthis.pts = pts;\n\t\tthis._label = label;\n\t}\n}\ninherits(Edge, GraphComponent);\nextend(Edge.prototype, {\n\tgetDepth: function () {\n\t\treturn this._depth;\n\t},\n\tgetCollapsedEdge: function () {\n\t\tvar newPts = new Array(2).fill(null);\n\t\tnewPts[0] = this.pts[0];\n\t\tnewPts[1] = this.pts[1];\n\t\tvar newe = new Edge(newPts, Label.toLineLabel(this._label));\n\t\treturn newe;\n\t},\n\tisIsolated: function () {\n\t\treturn this._isIsolated;\n\t},\n\tgetCoordinates: function () {\n\t\treturn this.pts;\n\t},\n\tsetIsolated: function (isIsolated) {\n\t\tthis._isIsolated = isIsolated;\n\t},\n\tsetName: function (name) {\n\t\tthis._name = name;\n\t},\n\tequals: function (o) {\n\t\tif (!(o instanceof Edge)) return false;\n\t\tvar e = o;\n\t\tif (this.pts.length !== e.pts.length) return false;\n\t\tvar isEqualForward = true;\n\t\tvar isEqualReverse = true;\n\t\tvar iRev = this.pts.length;\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (!this.pts[i].equals2D(e.pts[i])) {\n\t\t\t\tisEqualForward = false;\n\t\t\t}\n\t\t\tif (!this.pts[i].equals2D(e.pts[-- iRev])) {\n\t\t\t\tisEqualReverse = false;\n\t\t\t}\n\t\t\tif (!isEqualForward && !isEqualReverse) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tgetCoordinate: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.pts.length > 0) return this.pts[0];\n\t\t\treturn null;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet i = arguments[0];\n\t\t\treturn this.pts[i];\n\t\t}\n\t},\n\tprint: function (out) {\n\t\tout.print(\"edge \" + this._name + \": \");\n\t\tout.print(\"LINESTRING (\");\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (i > 0) out.print(\",\");\n\t\t\tout.print(this.pts[i].x + \" \" + this.pts[i].y);\n\t\t}\n\t\tout.print(\")  \" + this._label + \" \" + this._depthDelta);\n\t},\n\tcomputeIM: function (im) {\n\t\tEdge.updateIM(this._label, im);\n\t},\n\tisCollapsed: function () {\n\t\tif (!this._label.isArea()) return false;\n\t\tif (this.pts.length !== 3) return false;\n\t\tif (this.pts[0].equals(this.pts[2])) return true;\n\t\treturn false;\n\t},\n\tisClosed: function () {\n\t\treturn this.pts[0].equals(this.pts[this.pts.length - 1]);\n\t},\n\tgetMaximumSegmentIndex: function () {\n\t\treturn this.pts.length - 1;\n\t},\n\tgetDepthDelta: function () {\n\t\treturn this._depthDelta;\n\t},\n\tgetNumPoints: function () {\n\t\treturn this.pts.length;\n\t},\n\tprintReverse: function (out) {\n\t\tout.print(\"edge \" + this._name + \": \");\n\t\tfor (var i = this.pts.length - 1; i >= 0; i--) {\n\t\t\tout.print(this.pts[i] + \" \");\n\t\t}\n\t\tout.println(\"\");\n\t},\n\tgetMonotoneChainEdge: function () {\n\t\tif (this._mce === null) this._mce = new MonotoneChainEdge(this);\n\t\treturn this._mce;\n\t},\n\tgetEnvelope: function () {\n\t\tif (this._env === null) {\n\t\t\tthis._env = new Envelope();\n\t\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\t\tthis._env.expandToInclude(this.pts[i]);\n\t\t\t}\n\t\t}\n\t\treturn this._env;\n\t},\n\taddIntersection: function (li, segmentIndex, geomIndex, intIndex) {\n\t\tvar intPt = new Coordinate(li.getIntersection(intIndex));\n\t\tvar normalizedSegmentIndex = segmentIndex;\n\t\tvar dist = li.getEdgeDistance(geomIndex, intIndex);\n\t\tvar nextSegIndex = normalizedSegmentIndex + 1;\n\t\tif (nextSegIndex < this.pts.length) {\n\t\t\tvar nextPt = this.pts[nextSegIndex];\n\t\t\tif (intPt.equals2D(nextPt)) {\n\t\t\t\tnormalizedSegmentIndex = nextSegIndex;\n\t\t\t\tdist = 0.0;\n\t\t\t}\n\t\t}\n\t\tvar ei = this.eiList.add(intPt, normalizedSegmentIndex, dist);\n\t},\n\ttoString: function () {\n\t\tvar builder = new StringBuilder();\n\t\tbuilder.append(\"edge \" + this._name + \": \");\n\t\tbuilder.append(\"LINESTRING (\");\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (i > 0) builder.append(\",\");\n\t\t\tbuilder.append(this.pts[i].x + \" \" + this.pts[i].y);\n\t\t}\n\t\tbuilder.append(\")  \" + this._label + \" \" + this._depthDelta);\n\t\treturn builder.toString();\n\t},\n\tisPointwiseEqual: function (e) {\n\t\tif (this.pts.length !== e.pts.length) return false;\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (!this.pts[i].equals2D(e.pts[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tsetDepthDelta: function (depthDelta) {\n\t\tthis._depthDelta = depthDelta;\n\t},\n\tgetEdgeIntersectionList: function () {\n\t\treturn this.eiList;\n\t},\n\taddIntersections: function (li, segmentIndex, geomIndex) {\n\t\tfor (var i = 0; i < li.getIntersectionNum(); i++) {\n\t\t\tthis.addIntersection(li, segmentIndex, geomIndex, i);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Edge;\n\t}\n});\nEdge.updateIM = function () {\n\tif (arguments.length === 2 && (arguments[1] instanceof IntersectionMatrix && arguments[0] instanceof Label)) {\n\t\tlet label = arguments[0], im = arguments[1];\n\t\tim.setAtLeastIfValid(label.getLocation(0, Position.ON), label.getLocation(1, Position.ON), 1);\n\t\tif (label.isArea()) {\n\t\t\tim.setAtLeastIfValid(label.getLocation(0, Position.LEFT), label.getLocation(1, Position.LEFT), 2);\n\t\t\tim.setAtLeastIfValid(label.getLocation(0, Position.RIGHT), label.getLocation(1, Position.RIGHT), 2);\n\t\t}\n\t} else return GraphComponent.prototype.updateIM.apply(this, arguments);\n};\n","import Location from '../geom/Location';\nimport extend from '../../../../extend';\nimport Label from './Label';\nimport inherits from '../../../../inherits';\nimport GraphComponent from './GraphComponent';\nexport default function Node() {\n\tGraphComponent.apply(this);\n\tthis._coord = null;\n\tthis._edges = null;\n\tlet coord = arguments[0], edges = arguments[1];\n\tthis._coord = coord;\n\tthis._edges = edges;\n\tthis._label = new Label(0, Location.NONE);\n}\ninherits(Node, GraphComponent);\nextend(Node.prototype, {\n\tisIncidentEdgeInResult: function () {\n\t\tfor (var it = this.getEdges().getEdges().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.getEdge().isInResult()) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tisIsolated: function () {\n\t\treturn this._label.getGeometryCount() === 1;\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._coord;\n\t},\n\tprint: function (out) {\n\t\tout.println(\"node \" + this._coord + \" lbl: \" + this._label);\n\t},\n\tcomputeIM: function (im) {},\n\tcomputeMergedLocation: function (label2, eltIndex) {\n\t\tvar loc = Location.NONE;\n\t\tloc = this._label.getLocation(eltIndex);\n\t\tif (!label2.isNull(eltIndex)) {\n\t\t\tvar nLoc = label2.getLocation(eltIndex);\n\t\t\tif (loc !== Location.BOUNDARY) loc = nLoc;\n\t\t}\n\t\treturn loc;\n\t},\n\tsetLabel: function () {\n\t\tif (arguments.length === 2 && (Number.isInteger(arguments[1]) && Number.isInteger(arguments[0]))) {\n\t\t\tlet argIndex = arguments[0], onLocation = arguments[1];\n\t\t\tif (this._label === null) {\n\t\t\t\tthis._label = new Label(argIndex, onLocation);\n\t\t\t} else this._label.setLocation(argIndex, onLocation);\n\t\t} else return GraphComponent.prototype.setLabel.apply(this, arguments);\n\t},\n\tgetEdges: function () {\n\t\treturn this._edges;\n\t},\n\tmergeLabel: function () {\n\t\tif (arguments[0] instanceof Node) {\n\t\t\tlet n = arguments[0];\n\t\t\tthis.mergeLabel(n._label);\n\t\t} else if (arguments[0] instanceof Label) {\n\t\t\tlet label2 = arguments[0];\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tvar loc = this.computeMergedLocation(label2, i);\n\t\t\t\tvar thisLoc = this._label.getLocation(i);\n\t\t\t\tif (thisLoc === Location.NONE) this._label.setLocation(i, loc);\n\t\t\t}\n\t\t}\n\t},\n\tadd: function (e) {\n\t\tthis._edges.insert(e);\n\t\te.setNode(this);\n\t},\n\tsetLabelBoundary: function (argIndex) {\n\t\tif (this._label === null) return null;\n\t\tvar loc = Location.NONE;\n\t\tif (this._label !== null) loc = this._label.getLocation(argIndex);\n\t\tvar newLoc = null;\n\t\tswitch (loc) {\n\t\t\tcase Location.BOUNDARY:\n\t\t\t\tnewLoc = Location.INTERIOR;\n\t\t\t\tbreak;\n\t\t\tcase Location.INTERIOR:\n\t\t\t\tnewLoc = Location.BOUNDARY;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tnewLoc = Location.BOUNDARY;\n\t\t\t\tbreak;\n\t\t}\n\t\tthis._label.setLocation(argIndex, newLoc);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Node;\n\t}\n});\n","import Location from '../geom/Location';\nimport Coordinate from '../geom/Coordinate';\nimport Node from './Node';\nimport extend from '../../../../extend';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default function NodeMap() {\n\tthis.nodeMap = new TreeMap();\n\tthis.nodeFact = null;\n\tlet nodeFact = arguments[0];\n\tthis.nodeFact = nodeFact;\n}\nextend(NodeMap.prototype, {\n\tfind: function (coord) {\n\t\treturn this.nodeMap.get(coord);\n\t},\n\taddNode: function () {\n\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\tlet coord = arguments[0];\n\t\t\tvar node = this.nodeMap.get(coord);\n\t\t\tif (node === null) {\n\t\t\t\tnode = this.nodeFact.createNode(coord);\n\t\t\t\tthis.nodeMap.put(coord, node);\n\t\t\t}\n\t\t\treturn node;\n\t\t} else if (arguments[0] instanceof Node) {\n\t\t\tlet n = arguments[0];\n\t\t\tvar node = this.nodeMap.get(n.getCoordinate());\n\t\t\tif (node === null) {\n\t\t\t\tthis.nodeMap.put(n.getCoordinate(), n);\n\t\t\t\treturn n;\n\t\t\t}\n\t\t\tnode.mergeLabel(n);\n\t\t\treturn node;\n\t\t}\n\t},\n\tprint: function (out) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar n = it.next();\n\t\t\tn.print(out);\n\t\t}\n\t},\n\titerator: function () {\n\t\treturn this.nodeMap.values().iterator();\n\t},\n\tvalues: function () {\n\t\treturn this.nodeMap.values();\n\t},\n\tgetBoundaryNodes: function (geomIndex) {\n\t\tvar bdyNodes = new ArrayList();\n\t\tfor (var i = this.iterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tif (node.getLabel().getLocation(geomIndex) === Location.BOUNDARY) bdyNodes.add(node);\n\t\t}\n\t\treturn bdyNodes;\n\t},\n\tadd: function (e) {\n\t\tvar p = e.getCoordinate();\n\t\tvar n = this.addNode(p);\n\t\tn.add(e);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn NodeMap;\n\t}\n});\n","import extend from '../../../../extend';\nimport Orientation from '../algorithm/Orientation';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Quadrant from './Quadrant';\nimport Assert from '../util/Assert';\nexport default function EdgeEnd() {\n\tthis._edge = null;\n\tthis._label = null;\n\tthis._node = null;\n\tthis._p0 = null;\n\tthis._p1 = null;\n\tthis._dx = null;\n\tthis._dy = null;\n\tthis._quadrant = null;\n\tif (arguments.length === 1) {\n\t\tlet edge = arguments[0];\n\t\tthis._edge = edge;\n\t} else if (arguments.length === 3) {\n\t\tlet edge = arguments[0], p0 = arguments[1], p1 = arguments[2];\n\t\tEdgeEnd.call(this, edge, p0, p1, null);\n\t} else if (arguments.length === 4) {\n\t\tlet edge = arguments[0], p0 = arguments[1], p1 = arguments[2], label = arguments[3];\n\t\tEdgeEnd.call(this, edge);\n\t\tthis.init(p0, p1);\n\t\tthis._label = label;\n\t}\n}\nextend(EdgeEnd.prototype, {\n\tcompareDirection: function (e) {\n\t\tif (this._dx === e._dx && this._dy === e._dy) return 0;\n\t\tif (this._quadrant > e._quadrant) return 1;\n\t\tif (this._quadrant < e._quadrant) return -1;\n\t\treturn Orientation.index(e._p0, e._p1, this._p1);\n\t},\n\tgetDy: function () {\n\t\treturn this._dy;\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._p0;\n\t},\n\tsetNode: function (node) {\n\t\tthis._node = node;\n\t},\n\tprint: function (out) {\n\t\tvar angle = Math.atan2(this._dy, this._dx);\n\t\tvar className = this.getClass().getName();\n\t\tvar lastDotPos = className.lastIndexOf('.');\n\t\tvar name = className.substring(lastDotPos + 1);\n\t\tout.print(\"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + angle + \"   \" + this._label);\n\t},\n\tcompareTo: function (obj) {\n\t\tvar e = obj;\n\t\treturn this.compareDirection(e);\n\t},\n\tgetDirectedCoordinate: function () {\n\t\treturn this._p1;\n\t},\n\tgetDx: function () {\n\t\treturn this._dx;\n\t},\n\tgetLabel: function () {\n\t\treturn this._label;\n\t},\n\tgetEdge: function () {\n\t\treturn this._edge;\n\t},\n\tgetQuadrant: function () {\n\t\treturn this._quadrant;\n\t},\n\tgetNode: function () {\n\t\treturn this._node;\n\t},\n\ttoString: function () {\n\t\tvar angle = Math.atan2(this._dy, this._dx);\n\t\tvar className = this.getClass().getName();\n\t\tvar lastDotPos = className.lastIndexOf('.');\n\t\tvar name = className.substring(lastDotPos + 1);\n\t\treturn \"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + angle + \"   \" + this._label;\n\t},\n\tcomputeLabel: function (boundaryNodeRule) {},\n\tinit: function (p0, p1) {\n\t\tthis._p0 = p0;\n\t\tthis._p1 = p1;\n\t\tthis._dx = p1.x - p0.x;\n\t\tthis._dy = p1.y - p0.y;\n\t\tthis._quadrant = Quadrant.quadrant(this._dx, this._dy);\n\t\tAssert.isTrue(!(this._dx === 0 && this._dy === 0), \"EdgeEnd with identical endpoints found\");\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeEnd;\n\t}\n});\n","import Coordinate from './Coordinate';\nimport extend from '../../../../extend';\nimport RuntimeException from '../../../../java/lang/RuntimeException';\nimport inherits from '../../../../inherits';\nexport default function TopologyException() {\n\tthis.pt = null;\n\tif (arguments.length === 1) {\n\t\tlet msg = arguments[0];\n\t\tRuntimeException.call(this, msg);\n\t} else if (arguments.length === 2) {\n\t\tlet msg = arguments[0], pt = arguments[1];\n\t\tRuntimeException.call(this, TopologyException.msgWithCoord(msg, pt));\n\t\tthis.name = 'TopologyException';\n\t\tthis.pt = new Coordinate(pt);\n\t}\n}\ninherits(TopologyException, RuntimeException);\nextend(TopologyException.prototype, {\n\tgetCoordinate: function () {\n\t\treturn this.pt;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn TopologyException;\n\t}\n});\nTopologyException.msgWithCoord = function (msg, pt) {\n\tif (pt !== null) return msg + \" [ \" + pt + \" ]\";\n\treturn msg;\n};\n","import Location from '../geom/Location';\nimport EdgeEnd from './EdgeEnd';\nimport Position from './Position';\nimport TopologyException from '../geom/TopologyException';\nimport extend from '../../../../extend';\nimport Label from './Label';\nimport inherits from '../../../../inherits';\nexport default function DirectedEdge() {\n\tthis._isForward = null;\n\tthis._isInResult = false;\n\tthis._isVisited = false;\n\tthis._sym = null;\n\tthis._next = null;\n\tthis._nextMin = null;\n\tthis._edgeRing = null;\n\tthis._minEdgeRing = null;\n\tthis._depth = [0, -999, -999];\n\tlet edge = arguments[0], isForward = arguments[1];\n\tEdgeEnd.call(this, edge);\n\tthis._isForward = isForward;\n\tif (isForward) {\n\t\tthis.init(edge.getCoordinate(0), edge.getCoordinate(1));\n\t} else {\n\t\tvar n = edge.getNumPoints() - 1;\n\t\tthis.init(edge.getCoordinate(n), edge.getCoordinate(n - 1));\n\t}\n\tthis.computeDirectedLabel();\n}\ninherits(DirectedEdge, EdgeEnd);\nextend(DirectedEdge.prototype, {\n\tgetNextMin: function () {\n\t\treturn this._nextMin;\n\t},\n\tgetDepth: function (position) {\n\t\treturn this._depth[position];\n\t},\n\tsetVisited: function (isVisited) {\n\t\tthis._isVisited = isVisited;\n\t},\n\tcomputeDirectedLabel: function () {\n\t\tthis._label = new Label(this._edge.getLabel());\n\t\tif (!this._isForward) this._label.flip();\n\t},\n\tgetNext: function () {\n\t\treturn this._next;\n\t},\n\tsetDepth: function (position, depthVal) {\n\t\tif (this._depth[position] !== -999) {\n\t\t\tif (this._depth[position] !== depthVal) throw new TopologyException(\"assigned depths do not match\", this.getCoordinate());\n\t\t}\n\t\tthis._depth[position] = depthVal;\n\t},\n\tisInteriorAreaEdge: function () {\n\t\tvar isInteriorAreaEdge = true;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (!(this._label.isArea(i) && this._label.getLocation(i, Position.LEFT) === Location.INTERIOR && this._label.getLocation(i, Position.RIGHT) === Location.INTERIOR)) {\n\t\t\t\tisInteriorAreaEdge = false;\n\t\t\t}\n\t\t}\n\t\treturn isInteriorAreaEdge;\n\t},\n\tsetNextMin: function (nextMin) {\n\t\tthis._nextMin = nextMin;\n\t},\n\tprint: function (out) {\n\t\tEdgeEnd.prototype.print.call(this, out);\n\t\tout.print(\" \" + this._depth[Position.LEFT] + \"/\" + this._depth[Position.RIGHT]);\n\t\tout.print(\" (\" + this.getDepthDelta() + \")\");\n\t\tif (this._isInResult) out.print(\" inResult\");\n\t},\n\tsetMinEdgeRing: function (minEdgeRing) {\n\t\tthis._minEdgeRing = minEdgeRing;\n\t},\n\tisLineEdge: function () {\n\t\tvar isLine = this._label.isLine(0) || this._label.isLine(1);\n\t\tvar isExteriorIfArea0 = !this._label.isArea(0) || this._label.allPositionsEqual(0, Location.EXTERIOR);\n\t\tvar isExteriorIfArea1 = !this._label.isArea(1) || this._label.allPositionsEqual(1, Location.EXTERIOR);\n\t\treturn isLine && isExteriorIfArea0 && isExteriorIfArea1;\n\t},\n\tsetEdgeRing: function (edgeRing) {\n\t\tthis._edgeRing = edgeRing;\n\t},\n\tgetMinEdgeRing: function () {\n\t\treturn this._minEdgeRing;\n\t},\n\tgetDepthDelta: function () {\n\t\tvar depthDelta = this._edge.getDepthDelta();\n\t\tif (!this._isForward) depthDelta = -depthDelta;\n\t\treturn depthDelta;\n\t},\n\tsetInResult: function (isInResult) {\n\t\tthis._isInResult = isInResult;\n\t},\n\tgetSym: function () {\n\t\treturn this._sym;\n\t},\n\tisForward: function () {\n\t\treturn this._isForward;\n\t},\n\tgetEdge: function () {\n\t\treturn this._edge;\n\t},\n\tprintEdge: function (out) {\n\t\tthis.print(out);\n\t\tout.print(\" \");\n\t\tif (this._isForward) this._edge.print(out); else this._edge.printReverse(out);\n\t},\n\tsetSym: function (de) {\n\t\tthis._sym = de;\n\t},\n\tsetVisitedEdge: function (isVisited) {\n\t\tthis.setVisited(isVisited);\n\t\tthis._sym.setVisited(isVisited);\n\t},\n\tsetEdgeDepths: function (position, depth) {\n\t\tvar depthDelta = this.getEdge().getDepthDelta();\n\t\tif (!this._isForward) depthDelta = -depthDelta;\n\t\tvar directionFactor = 1;\n\t\tif (position === Position.LEFT) directionFactor = -1;\n\t\tvar oppositePos = Position.opposite(position);\n\t\tvar delta = depthDelta * directionFactor;\n\t\tvar oppositeDepth = depth + delta;\n\t\tthis.setDepth(position, depth);\n\t\tthis.setDepth(oppositePos, oppositeDepth);\n\t},\n\tgetEdgeRing: function () {\n\t\treturn this._edgeRing;\n\t},\n\tisInResult: function () {\n\t\treturn this._isInResult;\n\t},\n\tsetNext: function (next) {\n\t\tthis._next = next;\n\t},\n\tisVisited: function () {\n\t\treturn this._isVisited;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DirectedEdge;\n\t}\n});\nDirectedEdge.depthFactor = function (currLocation, nextLocation) {\n\tif (currLocation === Location.EXTERIOR && nextLocation === Location.INTERIOR) return 1; else if (currLocation === Location.INTERIOR && nextLocation === Location.EXTERIOR) return -1;\n\treturn 0;\n};\n","import Node from './Node';\nimport extend from '../../../../extend';\nexport default function NodeFactory() {}\nextend(NodeFactory.prototype, {\n\tcreateNode: function (coord) {\n\t\treturn new Node(coord, null);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn NodeFactory;\n\t}\n});\n","import Location from '../geom/Location';\nimport Coordinate from '../geom/Coordinate';\nimport Node from './Node';\nimport extend from '../../../../extend';\nimport NodeMap from './NodeMap';\nimport Orientation from '../algorithm/Orientation';\nimport DirectedEdge from './DirectedEdge';\nimport System from '../../../../java/lang/System';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Quadrant from './Quadrant';\nimport NodeFactory from './NodeFactory';\nexport default function PlanarGraph() {\n\tthis._edges = new ArrayList();\n\tthis._nodes = null;\n\tthis._edgeEndList = new ArrayList();\n\tif (arguments.length === 0) {\n\t\tthis._nodes = new NodeMap(new NodeFactory());\n\t} else if (arguments.length === 1) {\n\t\tlet nodeFact = arguments[0];\n\t\tthis._nodes = new NodeMap(nodeFact);\n\t}\n}\nextend(PlanarGraph.prototype, {\n\tprintEdges: function (out) {\n\t\tout.println(\"Edges:\");\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tout.println(\"edge \" + i + \":\");\n\t\t\tvar e = this._edges.get(i);\n\t\t\te.print(out);\n\t\t\te.eiList.print(out);\n\t\t}\n\t},\n\tfind: function (coord) {\n\t\treturn this._nodes.find(coord);\n\t},\n\taddNode: function () {\n\t\tif (arguments[0] instanceof Node) {\n\t\t\tlet node = arguments[0];\n\t\t\treturn this._nodes.addNode(node);\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet coord = arguments[0];\n\t\t\treturn this._nodes.addNode(coord);\n\t\t}\n\t},\n\tgetNodeIterator: function () {\n\t\treturn this._nodes.iterator();\n\t},\n\tlinkResultDirectedEdges: function () {\n\t\tfor (var nodeit = this._nodes.iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().linkResultDirectedEdges();\n\t\t}\n\t},\n\tdebugPrintln: function (o) {\n\t\tSystem.out.println(o);\n\t},\n\tisBoundaryNode: function (geomIndex, coord) {\n\t\tvar node = this._nodes.find(coord);\n\t\tif (node === null) return false;\n\t\tvar label = node.getLabel();\n\t\tif (label !== null && label.getLocation(geomIndex) === Location.BOUNDARY) return true;\n\t\treturn false;\n\t},\n\tlinkAllDirectedEdges: function () {\n\t\tfor (var nodeit = this._nodes.iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().linkAllDirectedEdges();\n\t\t}\n\t},\n\tmatchInSameDirection: function (p0, p1, ep0, ep1) {\n\t\tif (!p0.equals(ep0)) return false;\n\t\tif (Orientation.index(p0, p1, ep1) === Orientation.COLLINEAR && Quadrant.quadrant(p0, p1) === Quadrant.quadrant(ep0, ep1)) return true;\n\t\treturn false;\n\t},\n\tgetEdgeEnds: function () {\n\t\treturn this._edgeEndList;\n\t},\n\tdebugPrint: function (o) {\n\t\tSystem.out.print(o);\n\t},\n\tgetEdgeIterator: function () {\n\t\treturn this._edges.iterator();\n\t},\n\tfindEdgeInSameDirection: function (p0, p1) {\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tvar e = this._edges.get(i);\n\t\t\tvar eCoord = e.getCoordinates();\n\t\t\tif (this.matchInSameDirection(p0, p1, eCoord[0], eCoord[1])) return e;\n\t\t\tif (this.matchInSameDirection(p0, p1, eCoord[eCoord.length - 1], eCoord[eCoord.length - 2])) return e;\n\t\t}\n\t\treturn null;\n\t},\n\tinsertEdge: function (e) {\n\t\tthis._edges.add(e);\n\t},\n\tfindEdgeEnd: function (e) {\n\t\tfor (var i = this.getEdgeEnds().iterator(); i.hasNext(); ) {\n\t\t\tvar ee = i.next();\n\t\t\tif (ee.getEdge() === e) return ee;\n\t\t}\n\t\treturn null;\n\t},\n\taddEdges: function (edgesToAdd) {\n\t\tfor (var it = edgesToAdd.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tthis._edges.add(e);\n\t\t\tvar de1 = new DirectedEdge(e, true);\n\t\t\tvar de2 = new DirectedEdge(e, false);\n\t\t\tde1.setSym(de2);\n\t\t\tde2.setSym(de1);\n\t\t\tthis.add(de1);\n\t\t\tthis.add(de2);\n\t\t}\n\t},\n\tadd: function (e) {\n\t\tthis._nodes.add(e);\n\t\tthis._edgeEndList.add(e);\n\t},\n\tgetNodes: function () {\n\t\treturn this._nodes.values();\n\t},\n\tfindEdge: function (p0, p1) {\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tvar e = this._edges.get(i);\n\t\t\tvar eCoord = e.getCoordinates();\n\t\t\tif (p0.equals(eCoord[0]) && p1.equals(eCoord[1])) return e;\n\t\t}\n\t\treturn null;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PlanarGraph;\n\t}\n});\nPlanarGraph.linkResultDirectedEdges = function (nodes) {\n\tfor (var nodeit = nodes.iterator(); nodeit.hasNext(); ) {\n\t\tvar node = nodeit.next();\n\t\tnode.getEdges().linkResultDirectedEdges();\n\t}\n};\n","import PointLocator from '../algorithm/PointLocator';\nimport Location from '../geom/Location';\nimport LineString from '../geom/LineString';\nimport HashMap from '../../../../java/util/HashMap';\nimport Geometry from '../geom/Geometry';\nimport hasInterface from '../../../../hasInterface';\nimport Position from './Position';\nimport Coordinate from '../geom/Coordinate';\nimport Point from '../geom/Point';\nimport Polygon from '../geom/Polygon';\nimport MultiPoint from '../geom/MultiPoint';\nimport SimpleMCSweepLineIntersector from './index/SimpleMCSweepLineIntersector';\nimport LinearRing from '../geom/LinearRing';\nimport BoundaryNodeRule from '../algorithm/BoundaryNodeRule';\nimport extend from '../../../../extend';\nimport Orientation from '../algorithm/Orientation';\nimport SegmentIntersector from './index/SegmentIntersector';\nimport MultiPolygon from '../geom/MultiPolygon';\nimport Label from './Label';\nimport GeometryCollection from '../geom/GeometryCollection';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport Polygonal from '../geom/Polygonal';\nimport IndexedPointInAreaLocator from '../algorithm/locate/IndexedPointInAreaLocator';\nimport Assert from '../util/Assert';\nimport Edge from './Edge';\nimport inherits from '../../../../inherits';\nimport MultiLineString from '../geom/MultiLineString';\nimport PlanarGraph from './PlanarGraph';\nexport default function GeometryGraph() {\n\tPlanarGraph.apply(this);\n\tthis._parentGeom = null;\n\tthis._lineEdgeMap = new HashMap();\n\tthis._boundaryNodeRule = null;\n\tthis._useBoundaryDeterminationRule = true;\n\tthis._argIndex = null;\n\tthis._boundaryNodes = null;\n\tthis._hasTooFewPoints = false;\n\tthis._invalidPoint = null;\n\tthis._areaPtLocator = null;\n\tthis._ptLocator = new PointLocator();\n\tif (arguments.length === 2) {\n\t\tlet argIndex = arguments[0], parentGeom = arguments[1];\n\t\tGeometryGraph.call(this, argIndex, parentGeom, BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE);\n\t} else if (arguments.length === 3) {\n\t\tlet argIndex = arguments[0], parentGeom = arguments[1], boundaryNodeRule = arguments[2];\n\t\tthis._argIndex = argIndex;\n\t\tthis._parentGeom = parentGeom;\n\t\tthis._boundaryNodeRule = boundaryNodeRule;\n\t\tif (parentGeom !== null) {\n\t\t\tthis.add(parentGeom);\n\t\t}\n\t}\n}\ninherits(GeometryGraph, PlanarGraph);\nextend(GeometryGraph.prototype, {\n\tinsertBoundaryPoint: function (argIndex, coord) {\n\t\tvar n = this._nodes.addNode(coord);\n\t\tvar lbl = n.getLabel();\n\t\tvar boundaryCount = 1;\n\t\tvar loc = Location.NONE;\n\t\tloc = lbl.getLocation(argIndex, Position.ON);\n\t\tif (loc === Location.BOUNDARY) boundaryCount++;\n\t\tvar newLoc = GeometryGraph.determineBoundary(this._boundaryNodeRule, boundaryCount);\n\t\tlbl.setLocation(argIndex, newLoc);\n\t},\n\tcomputeSelfNodes: function () {\n\t\tif (arguments.length === 2) {\n\t\t\tlet li = arguments[0], computeRingSelfNodes = arguments[1];\n\t\t\treturn this.computeSelfNodes(li, computeRingSelfNodes, false);\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet li = arguments[0], computeRingSelfNodes = arguments[1], isDoneIfProperInt = arguments[2];\n\t\t\tvar si = new SegmentIntersector(li, true, false);\n\t\t\tsi.setIsDoneIfProperInt(isDoneIfProperInt);\n\t\t\tvar esi = this.createEdgeSetIntersector();\n\t\t\tvar isRings = this._parentGeom instanceof LinearRing || this._parentGeom instanceof Polygon || this._parentGeom instanceof MultiPolygon;\n\t\t\tvar computeAllSegments = computeRingSelfNodes || !isRings;\n\t\t\tesi.computeIntersections(this._edges, si, computeAllSegments);\n\t\t\tthis.addSelfIntersectionNodes(this._argIndex);\n\t\t\treturn si;\n\t\t}\n\t},\n\tcomputeSplitEdges: function (edgelist) {\n\t\tfor (var i = this._edges.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\te.eiList.addSplitEdges(edgelist);\n\t\t}\n\t},\n\tcomputeEdgeIntersections: function (g, li, includeProper) {\n\t\tvar si = new SegmentIntersector(li, includeProper, true);\n\t\tsi.setBoundaryNodes(this.getBoundaryNodes(), g.getBoundaryNodes());\n\t\tvar esi = this.createEdgeSetIntersector();\n\t\tesi.computeIntersections(this._edges, g._edges, si);\n\t\treturn si;\n\t},\n\tgetGeometry: function () {\n\t\treturn this._parentGeom;\n\t},\n\tgetBoundaryNodeRule: function () {\n\t\treturn this._boundaryNodeRule;\n\t},\n\thasTooFewPoints: function () {\n\t\treturn this._hasTooFewPoints;\n\t},\n\taddPoint: function () {\n\t\tif (arguments[0] instanceof Point) {\n\t\t\tlet p = arguments[0];\n\t\t\tvar coord = p.getCoordinate();\n\t\t\tthis.insertPoint(this._argIndex, coord, Location.INTERIOR);\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet pt = arguments[0];\n\t\t\tthis.insertPoint(this._argIndex, pt, Location.INTERIOR);\n\t\t}\n\t},\n\taddPolygon: function (p) {\n\t\tthis.addPolygonRing(p.getExteriorRing(), Location.EXTERIOR, Location.INTERIOR);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tthis.addPolygonRing(hole, Location.INTERIOR, Location.EXTERIOR);\n\t\t}\n\t},\n\taddEdge: function (e) {\n\t\tthis.insertEdge(e);\n\t\tvar coord = e.getCoordinates();\n\t\tthis.insertPoint(this._argIndex, coord[0], Location.BOUNDARY);\n\t\tthis.insertPoint(this._argIndex, coord[coord.length - 1], Location.BOUNDARY);\n\t},\n\taddLineString: function (line) {\n\t\tvar coord = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\t\tif (coord.length < 2) {\n\t\t\tthis._hasTooFewPoints = true;\n\t\t\tthis._invalidPoint = coord[0];\n\t\t\treturn null;\n\t\t}\n\t\tvar e = new Edge(coord, new Label(this._argIndex, Location.INTERIOR));\n\t\tthis._lineEdgeMap.put(line, e);\n\t\tthis.insertEdge(e);\n\t\tAssert.isTrue(coord.length >= 2, \"found LineString with single point\");\n\t\tthis.insertBoundaryPoint(this._argIndex, coord[0]);\n\t\tthis.insertBoundaryPoint(this._argIndex, coord[coord.length - 1]);\n\t},\n\tgetInvalidPoint: function () {\n\t\treturn this._invalidPoint;\n\t},\n\tgetBoundaryPoints: function () {\n\t\tvar coll = this.getBoundaryNodes();\n\t\tvar pts = new Array(coll.size()).fill(null);\n\t\tvar i = 0;\n\t\tfor (var it = coll.iterator(); it.hasNext(); ) {\n\t\t\tvar node = it.next();\n\t\t\tpts[i++] = node.getCoordinate().copy();\n\t\t}\n\t\treturn pts;\n\t},\n\tgetBoundaryNodes: function () {\n\t\tif (this._boundaryNodes === null) this._boundaryNodes = this._nodes.getBoundaryNodes(this._argIndex);\n\t\treturn this._boundaryNodes;\n\t},\n\taddSelfIntersectionNode: function (argIndex, coord, loc) {\n\t\tif (this.isBoundaryNode(argIndex, coord)) return null;\n\t\tif (loc === Location.BOUNDARY && this._useBoundaryDeterminationRule) this.insertBoundaryPoint(argIndex, coord); else this.insertPoint(argIndex, coord, loc);\n\t},\n\taddPolygonRing: function (lr, cwLeft, cwRight) {\n\t\tif (lr.isEmpty()) return null;\n\t\tvar coord = CoordinateArrays.removeRepeatedPoints(lr.getCoordinates());\n\t\tif (coord.length < 4) {\n\t\t\tthis._hasTooFewPoints = true;\n\t\t\tthis._invalidPoint = coord[0];\n\t\t\treturn null;\n\t\t}\n\t\tvar left = cwLeft;\n\t\tvar right = cwRight;\n\t\tif (Orientation.isCCW(coord)) {\n\t\t\tleft = cwRight;\n\t\t\tright = cwLeft;\n\t\t}\n\t\tvar e = new Edge(coord, new Label(this._argIndex, Location.BOUNDARY, left, right));\n\t\tthis._lineEdgeMap.put(lr, e);\n\t\tthis.insertEdge(e);\n\t\tthis.insertPoint(this._argIndex, coord[0], Location.BOUNDARY);\n\t},\n\tinsertPoint: function (argIndex, coord, onLocation) {\n\t\tvar n = this._nodes.addNode(coord);\n\t\tvar lbl = n.getLabel();\n\t\tif (lbl === null) {\n\t\t\tn._label = new Label(argIndex, onLocation);\n\t\t} else lbl.setLocation(argIndex, onLocation);\n\t},\n\tcreateEdgeSetIntersector: function () {\n\t\treturn new SimpleMCSweepLineIntersector();\n\t},\n\taddSelfIntersectionNodes: function (argIndex) {\n\t\tfor (var i = this._edges.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.eiList.iterator(); eiIt.hasNext(); ) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tthis.addSelfIntersectionNode(argIndex, ei.coord, eLoc);\n\t\t\t}\n\t\t}\n\t},\n\tadd: function () {\n\t\tif (arguments.length === 1 && arguments[0] instanceof Geometry) {\n\t\t\tlet g = arguments[0];\n\t\t\tif (g.isEmpty()) return null;\n\t\t\tif (g instanceof MultiPolygon) this._useBoundaryDeterminationRule = false;\n\t\t\tif (g instanceof Polygon) this.addPolygon(g); else if (g instanceof LineString) this.addLineString(g); else if (g instanceof Point) this.addPoint(g); else if (g instanceof MultiPoint) this.addCollection(g); else if (g instanceof MultiLineString) this.addCollection(g); else if (g instanceof MultiPolygon) this.addCollection(g); else if (g instanceof GeometryCollection) this.addCollection(g); else throw new UnsupportedOperationException(g.getClass().getName());\n\t\t} else return PlanarGraph.prototype.add.apply(this, arguments);\n\t},\n\taddCollection: function (gc) {\n\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\tvar g = gc.getGeometryN(i);\n\t\t\tthis.add(g);\n\t\t}\n\t},\n\tlocate: function (pt) {\n\t\tif (hasInterface(this._parentGeom, Polygonal) && this._parentGeom.getNumGeometries() > 50) {\n\t\t\tif (this._areaPtLocator === null) {\n\t\t\t\tthis._areaPtLocator = new IndexedPointInAreaLocator(this._parentGeom);\n\t\t\t}\n\t\t\treturn this._areaPtLocator.locate(pt);\n\t\t}\n\t\treturn this._ptLocator.locate(pt, this._parentGeom);\n\t},\n\tfindEdge: function () {\n\t\tif (arguments.length === 1 && arguments[0] instanceof LineString) {\n\t\t\tlet line = arguments[0];\n\t\t\treturn this._lineEdgeMap.get(line);\n\t\t} else return PlanarGraph.prototype.findEdge.apply(this, arguments);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryGraph;\n\t}\n});\nGeometryGraph.determineBoundary = function (boundaryNodeRule, boundaryCount) {\n\treturn boundaryNodeRule.isInBoundary(boundaryCount) ? Location.BOUNDARY : Location.INTERIOR;\n};\n","import extend from '../../../../../extend';\nexport default function KdNodeVisitor() {}\nextend(KdNodeVisitor.prototype, {\n\tvisit: function (node) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn KdNodeVisitor;\n\t}\n});\n","import Coordinate from '../../geom/Coordinate';\nimport extend from '../../../../../extend';\nexport default function KdNode() {\n\tthis._p = null;\n\tthis._data = null;\n\tthis._left = null;\n\tthis._right = null;\n\tthis._count = null;\n\tif (arguments.length === 2) {\n\t\tlet p = arguments[0], data = arguments[1];\n\t\tthis._p = new Coordinate(p);\n\t\tthis._left = null;\n\t\tthis._right = null;\n\t\tthis._count = 1;\n\t\tthis._data = data;\n\t} else if (arguments.length === 3) {\n\t\tlet _x = arguments[0], _y = arguments[1], data = arguments[2];\n\t\tthis._p = new Coordinate(_x, _y);\n\t\tthis._left = null;\n\t\tthis._right = null;\n\t\tthis._count = 1;\n\t\tthis._data = data;\n\t}\n}\nextend(KdNode.prototype, {\n\tisRepeated: function () {\n\t\treturn this._count > 1;\n\t},\n\tgetRight: function () {\n\t\treturn this._right;\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._p;\n\t},\n\tsetLeft: function (_left) {\n\t\tthis._left = _left;\n\t},\n\tgetX: function () {\n\t\treturn this._p.x;\n\t},\n\tgetData: function () {\n\t\treturn this._data;\n\t},\n\tgetCount: function () {\n\t\treturn this._count;\n\t},\n\tgetLeft: function () {\n\t\treturn this._left;\n\t},\n\tgetY: function () {\n\t\treturn this._p.y;\n\t},\n\tincrement: function () {\n\t\tthis._count = this._count + 1;\n\t},\n\tsetRight: function (_right) {\n\t\tthis._right = _right;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn KdNode;\n\t}\n});\n","import CoordinateList from '../../geom/CoordinateList';\nimport hasInterface from '../../../../../hasInterface';\nimport extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport KdNodeVisitor from './KdNodeVisitor';\nimport Envelope from '../../geom/Envelope';\nimport List from '../../../../../java/util/List';\nimport KdNode from './KdNode';\nexport default function KdTree() {\n\tthis._root = null;\n\tthis._numberOfNodes = null;\n\tthis._tolerance = null;\n\tif (arguments.length === 0) {\n\t\tKdTree.call(this, 0.0);\n\t} else if (arguments.length === 1) {\n\t\tlet tolerance = arguments[0];\n\t\tthis._tolerance = tolerance;\n\t}\n}\nextend(KdTree.prototype, {\n\tinsert: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet p = arguments[0];\n\t\t\treturn this.insert(p, null);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p = arguments[0], data = arguments[1];\n\t\t\tif (this._root === null) {\n\t\t\t\tthis._root = new KdNode(p, data);\n\t\t\t\treturn this._root;\n\t\t\t}\n\t\t\tif (this._tolerance > 0) {\n\t\t\t\tvar matchNode = this.findBestMatchNode(p);\n\t\t\t\tif (matchNode !== null) {\n\t\t\t\t\tmatchNode.increment();\n\t\t\t\t\treturn matchNode;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.insertExact(p, data);\n\t\t}\n\t},\n\tquery: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet queryEnv = arguments[0];\n\t\t\tvar result = new ArrayList();\n\t\t\tthis.query(queryEnv, result);\n\t\t\treturn result;\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof Envelope && hasInterface(arguments[1], List)) {\n\t\t\t\tlet queryEnv = arguments[0], result = arguments[1];\n\t\t\t\tthis.queryNode(this._root, queryEnv, true, {\n\t\t\t\t\tinterfaces_: function () {\n\t\t\t\t\t\treturn [KdNodeVisitor];\n\t\t\t\t\t},\n\t\t\t\t\tvisit: function (node) {\n\t\t\t\t\t\tresult.add(node);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (arguments[0] instanceof Envelope && hasInterface(arguments[1], KdNodeVisitor)) {\n\t\t\t\tlet queryEnv = arguments[0], visitor = arguments[1];\n\t\t\t\tthis.queryNode(this._root, queryEnv, true, visitor);\n\t\t\t}\n\t\t}\n\t},\n\tqueryNode: function (currentNode, queryEnv, odd, visitor) {\n\t\tif (currentNode === null) return null;\n\t\tvar min = null;\n\t\tvar max = null;\n\t\tvar discriminant = null;\n\t\tif (odd) {\n\t\t\tmin = queryEnv.getMinX();\n\t\t\tmax = queryEnv.getMaxX();\n\t\t\tdiscriminant = currentNode.getX();\n\t\t} else {\n\t\t\tmin = queryEnv.getMinY();\n\t\t\tmax = queryEnv.getMaxY();\n\t\t\tdiscriminant = currentNode.getY();\n\t\t}\n\t\tvar searchLeft = min < discriminant;\n\t\tvar searchRight = discriminant <= max;\n\t\tif (searchLeft) {\n\t\t\tthis.queryNode(currentNode.getLeft(), queryEnv, !odd, visitor);\n\t\t}\n\t\tif (queryEnv.contains(currentNode.getCoordinate())) {\n\t\t\tvisitor.visit(currentNode);\n\t\t}\n\t\tif (searchRight) {\n\t\t\tthis.queryNode(currentNode.getRight(), queryEnv, !odd, visitor);\n\t\t}\n\t},\n\tfindBestMatchNode: function (p) {\n\t\tvar visitor = new BestMatchVisitor(p, this._tolerance);\n\t\tthis.query(visitor.queryEnvelope(), visitor);\n\t\treturn visitor.getNode();\n\t},\n\tisEmpty: function () {\n\t\tif (this._root === null) return true;\n\t\treturn false;\n\t},\n\tinsertExact: function (p, data) {\n\t\tvar currentNode = this._root;\n\t\tvar leafNode = this._root;\n\t\tvar isOddLevel = true;\n\t\tvar isLessThan = true;\n\t\twhile (currentNode !== null) {\n\t\t\tif (currentNode !== null) {\n\t\t\t\tvar isInTolerance = p.distance(currentNode.getCoordinate()) <= this._tolerance;\n\t\t\t\tif (isInTolerance) {\n\t\t\t\t\tcurrentNode.increment();\n\t\t\t\t\treturn currentNode;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isOddLevel) {\n\t\t\t\tisLessThan = p.x < currentNode.getX();\n\t\t\t} else {\n\t\t\t\tisLessThan = p.y < currentNode.getY();\n\t\t\t}\n\t\t\tleafNode = currentNode;\n\t\t\tif (isLessThan) {\n\t\t\t\tcurrentNode = currentNode.getLeft();\n\t\t\t} else {\n\t\t\t\tcurrentNode = currentNode.getRight();\n\t\t\t}\n\t\t\tisOddLevel = !isOddLevel;\n\t\t}\n\t\tthis._numberOfNodes = this._numberOfNodes + 1;\n\t\tvar node = new KdNode(p, data);\n\t\tif (isLessThan) {\n\t\t\tleafNode.setLeft(node);\n\t\t} else {\n\t\t\tleafNode.setRight(node);\n\t\t}\n\t\treturn node;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn KdTree;\n\t}\n});\nKdTree.toCoordinates = function () {\n\tif (arguments.length === 1) {\n\t\tlet kdnodes = arguments[0];\n\t\treturn KdTree.toCoordinates(kdnodes, false);\n\t} else if (arguments.length === 2) {\n\t\tlet kdnodes = arguments[0], includeRepeated = arguments[1];\n\t\tvar coord = new CoordinateList();\n\t\tfor (var it = kdnodes.iterator(); it.hasNext(); ) {\n\t\t\tvar node = it.next();\n\t\t\tvar count = includeRepeated ? node.getCount() : 1;\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tcoord.add(node.getCoordinate(), true);\n\t\t\t}\n\t\t}\n\t\treturn coord.toCoordinateArray();\n\t}\n};\nfunction BestMatchVisitor() {\n\tthis._tolerance = null;\n\tthis._matchNode = null;\n\tthis._matchDist = 0.0;\n\tthis._p = null;\n\tlet p = arguments[0], tolerance = arguments[1];\n\tthis._p = p;\n\tthis._tolerance = tolerance;\n}\nextend(BestMatchVisitor.prototype, {\n\tvisit: function (node) {\n\t\tvar dist = this._p.distance(node.getCoordinate());\n\t\tvar isInTolerance = dist <= this._tolerance;\n\t\tif (!isInTolerance) return null;\n\t\tvar update = false;\n\t\tif (this._matchNode === null || dist < this._matchDist || this._matchNode !== null && dist === this._matchDist && node.getCoordinate().compareTo(this._matchNode.getCoordinate()) < 1) update = true;\n\t\tif (update) {\n\t\t\tthis._matchNode = node;\n\t\t\tthis._matchDist = dist;\n\t\t}\n\t},\n\tqueryEnvelope: function () {\n\t\tvar queryEnv = new Envelope(this._p);\n\t\tqueryEnv.expandBy(this._tolerance);\n\t\treturn queryEnv;\n\t},\n\tgetNode: function () {\n\t\treturn this._matchNode;\n\t},\n\tinterfaces_: function () {\n\t\treturn [KdNodeVisitor];\n\t},\n\tgetClass: function () {\n\t\treturn BestMatchVisitor;\n\t}\n});\nKdTree.BestMatchVisitor = BestMatchVisitor;\n","import extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Serializable from '../../../../../java/io/Serializable';\nexport default function NodeBase() {\n\tthis._items = new ArrayList();\n\tthis._subnode = new Array(4).fill(null);\n}\nextend(NodeBase.prototype, {\n\thasChildren: function () {\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tisPrunable: function () {\n\t\treturn !(this.hasChildren() || this.hasItems());\n\t},\n\taddAllItems: function (resultItems) {\n\t\tresultItems.addAll(this._items);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].addAllItems(resultItems);\n\t\t\t}\n\t\t}\n\t\treturn resultItems;\n\t},\n\tgetNodeCount: function () {\n\t\tvar subSize = 0;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tsubSize += this._subnode[i].size();\n\t\t\t}\n\t\t}\n\t\treturn subSize + 1;\n\t},\n\tsize: function () {\n\t\tvar subSize = 0;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tsubSize += this._subnode[i].size();\n\t\t\t}\n\t\t}\n\t\treturn subSize + this._items.size();\n\t},\n\taddAllItemsFromOverlapping: function (searchEnv, resultItems) {\n\t\tif (!this.isSearchMatch(searchEnv)) return null;\n\t\tresultItems.addAll(this._items);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].addAllItemsFromOverlapping(searchEnv, resultItems);\n\t\t\t}\n\t\t}\n\t},\n\tvisitItems: function (searchEnv, visitor) {\n\t\tfor (var i = this._items.iterator(); i.hasNext(); ) {\n\t\t\tvisitor.visitItem(i.next());\n\t\t}\n\t},\n\thasItems: function () {\n\t\treturn !this._items.isEmpty();\n\t},\n\tremove: function (itemEnv, item) {\n\t\tif (!this.isSearchMatch(itemEnv)) return false;\n\t\tvar found = false;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tfound = this._subnode[i].remove(itemEnv, item);\n\t\t\t\tif (found) {\n\t\t\t\t\tif (this._subnode[i].isPrunable()) this._subnode[i] = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (found) return found;\n\t\tfound = this._items.remove(item);\n\t\treturn found;\n\t},\n\tvisit: function (searchEnv, visitor) {\n\t\tif (!this.isSearchMatch(searchEnv)) return null;\n\t\tthis.visitItems(searchEnv, visitor);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].visit(searchEnv, visitor);\n\t\t\t}\n\t\t}\n\t},\n\tgetItems: function () {\n\t\treturn this._items;\n\t},\n\tdepth: function () {\n\t\tvar maxSubDepth = 0;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tvar sqd = this._subnode[i].depth();\n\t\t\t\tif (sqd > maxSubDepth) maxSubDepth = sqd;\n\t\t\t}\n\t\t}\n\t\treturn maxSubDepth + 1;\n\t},\n\tisEmpty: function () {\n\t\tvar isEmpty = true;\n\t\tif (!this._items.isEmpty()) isEmpty = false; else {\n\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\t\tif (!this._subnode[i].isEmpty()) {\n\t\t\t\t\t\tisEmpty = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn isEmpty;\n\t},\n\tadd: function (item) {\n\t\tthis._items.add(item);\n\t},\n\tinterfaces_: function () {\n\t\treturn [Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn NodeBase;\n\t}\n});\nNodeBase.getSubnodeIndex = function (env, centrex, centrey) {\n\tvar subnodeIndex = -1;\n\tif (env.getMinX() >= centrex) {\n\t\tif (env.getMinY() >= centrey) subnodeIndex = 3;\n\t\tif (env.getMaxY() <= centrey) subnodeIndex = 1;\n\t}\n\tif (env.getMaxX() <= centrex) {\n\t\tif (env.getMinY() >= centrey) subnodeIndex = 2;\n\t\tif (env.getMaxY() <= centrey) subnodeIndex = 0;\n\t}\n\treturn subnodeIndex;\n};\n","import Coordinate from '../../geom/Coordinate';\nimport extend from '../../../../../extend';\nimport DoubleBits from './DoubleBits';\nimport Envelope from '../../geom/Envelope';\nexport default function Key() {\n\tthis._pt = new Coordinate();\n\tthis._level = 0;\n\tthis._env = null;\n\tlet itemEnv = arguments[0];\n\tthis.computeKey(itemEnv);\n}\nextend(Key.prototype, {\n\tgetLevel: function () {\n\t\treturn this._level;\n\t},\n\tcomputeKey: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet itemEnv = arguments[0];\n\t\t\tthis._level = Key.computeQuadLevel(itemEnv);\n\t\t\tthis._env = new Envelope();\n\t\t\tthis.computeKey(this._level, itemEnv);\n\t\t\twhile (!this._env.contains(itemEnv)) {\n\t\t\t\tthis._level += 1;\n\t\t\t\tthis.computeKey(this._level, itemEnv);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet level = arguments[0], itemEnv = arguments[1];\n\t\t\tvar quadSize = DoubleBits.powerOf2(level);\n\t\t\tthis._pt.x = Math.floor(itemEnv.getMinX() / quadSize) * quadSize;\n\t\t\tthis._pt.y = Math.floor(itemEnv.getMinY() / quadSize) * quadSize;\n\t\t\tthis._env.init(this._pt.x, this._pt.x + quadSize, this._pt.y, this._pt.y + quadSize);\n\t\t}\n\t},\n\tgetEnvelope: function () {\n\t\treturn this._env;\n\t},\n\tgetCentre: function () {\n\t\treturn new Coordinate((this._env.getMinX() + this._env.getMaxX()) / 2, (this._env.getMinY() + this._env.getMaxY()) / 2);\n\t},\n\tgetPoint: function () {\n\t\treturn this._pt;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Key;\n\t}\n});\nKey.computeQuadLevel = function (env) {\n\tvar dx = env.getWidth();\n\tvar dy = env.getHeight();\n\tvar dMax = dx > dy ? dx : dy;\n\tvar level = DoubleBits.exponent(dMax) + 1;\n\treturn level;\n};\n","import NodeBase from './NodeBase';\nimport extend from '../../../../../extend';\nimport Envelope from '../../geom/Envelope';\nimport Assert from '../../util/Assert';\nimport inherits from '../../../../../inherits';\nimport Key from './Key';\nexport default function Node() {\n\tNodeBase.apply(this);\n\tthis._env = null;\n\tthis._centrex = null;\n\tthis._centrey = null;\n\tthis._level = null;\n\tlet env = arguments[0], level = arguments[1];\n\tthis._env = env;\n\tthis._level = level;\n\tthis._centrex = (env.getMinX() + env.getMaxX()) / 2;\n\tthis._centrey = (env.getMinY() + env.getMaxY()) / 2;\n}\ninherits(Node, NodeBase);\nextend(Node.prototype, {\n\tfind: function (searchEnv) {\n\t\tvar subnodeIndex = NodeBase.getSubnodeIndex(searchEnv, this._centrex, this._centrey);\n\t\tif (subnodeIndex === -1) return this;\n\t\tif (this._subnode[subnodeIndex] !== null) {\n\t\t\tvar node = this._subnode[subnodeIndex];\n\t\t\treturn node.find(searchEnv);\n\t\t}\n\t\treturn this;\n\t},\n\tisSearchMatch: function (searchEnv) {\n\t\tif (searchEnv === null) return false;\n\t\treturn this._env.intersects(searchEnv);\n\t},\n\tgetSubnode: function (index) {\n\t\tif (this._subnode[index] === null) {\n\t\t\tthis._subnode[index] = this.createSubnode(index);\n\t\t}\n\t\treturn this._subnode[index];\n\t},\n\tgetEnvelope: function () {\n\t\treturn this._env;\n\t},\n\tgetNode: function (searchEnv) {\n\t\tvar subnodeIndex = NodeBase.getSubnodeIndex(searchEnv, this._centrex, this._centrey);\n\t\tif (subnodeIndex !== -1) {\n\t\t\tvar node = this.getSubnode(subnodeIndex);\n\t\t\treturn node.getNode(searchEnv);\n\t\t} else {\n\t\t\treturn this;\n\t\t}\n\t},\n\tcreateSubnode: function (index) {\n\t\tvar minx = 0.0;\n\t\tvar maxx = 0.0;\n\t\tvar miny = 0.0;\n\t\tvar maxy = 0.0;\n\t\tswitch (index) {\n\t\t\tcase 0:\n\t\t\t\tminx = this._env.getMinX();\n\t\t\t\tmaxx = this._centrex;\n\t\t\t\tminy = this._env.getMinY();\n\t\t\t\tmaxy = this._centrey;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tminx = this._centrex;\n\t\t\t\tmaxx = this._env.getMaxX();\n\t\t\t\tminy = this._env.getMinY();\n\t\t\t\tmaxy = this._centrey;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tminx = this._env.getMinX();\n\t\t\t\tmaxx = this._centrex;\n\t\t\t\tminy = this._centrey;\n\t\t\t\tmaxy = this._env.getMaxY();\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tminx = this._centrex;\n\t\t\t\tmaxx = this._env.getMaxX();\n\t\t\t\tminy = this._centrey;\n\t\t\t\tmaxy = this._env.getMaxY();\n\t\t\t\tbreak;\n\t\t}\n\t\tvar sqEnv = new Envelope(minx, maxx, miny, maxy);\n\t\tvar node = new Node(sqEnv, this._level - 1);\n\t\treturn node;\n\t},\n\tinsertNode: function (node) {\n\t\tAssert.isTrue(this._env === null || this._env.contains(node._env));\n\t\tvar index = NodeBase.getSubnodeIndex(node._env, this._centrex, this._centrey);\n\t\tif (node._level === this._level - 1) {\n\t\t\tthis._subnode[index] = node;\n\t\t} else {\n\t\t\tvar childNode = this.createSubnode(index);\n\t\t\tchildNode.insertNode(node);\n\t\t\tthis._subnode[index] = childNode;\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Node;\n\t}\n});\nNode.createNode = function (env) {\n\tvar key = new Key(env);\n\tvar node = new Node(key.getEnvelope(), key.getLevel());\n\treturn node;\n};\nNode.createExpanded = function (node, addEnv) {\n\tvar expandEnv = new Envelope(addEnv);\n\tif (node !== null) expandEnv.expandToInclude(node._env);\n\tvar largerNode = Node.createNode(expandEnv);\n\tif (node !== null) largerNode.insertNode(node);\n\treturn largerNode;\n};\n","import Coordinate from '../../geom/Coordinate';\nimport NodeBase from './NodeBase';\nimport Node from './Node';\nimport extend from '../../../../../extend';\nimport IntervalSize from './IntervalSize';\nimport Assert from '../../util/Assert';\nimport inherits from '../../../../../inherits';\nexport default function Root() {\n\tNodeBase.apply(this);\n}\ninherits(Root, NodeBase);\nextend(Root.prototype, {\n\tinsert: function (itemEnv, item) {\n\t\tvar index = NodeBase.getSubnodeIndex(itemEnv, Root.origin.x, Root.origin.y);\n\t\tif (index === -1) {\n\t\t\tthis.add(item);\n\t\t\treturn null;\n\t\t}\n\t\tvar node = this._subnode[index];\n\t\tif (node === null || !node.getEnvelope().contains(itemEnv)) {\n\t\t\tvar largerNode = Node.createExpanded(node, itemEnv);\n\t\t\tthis._subnode[index] = largerNode;\n\t\t}\n\t\tthis.insertContained(this._subnode[index], itemEnv, item);\n\t},\n\tisSearchMatch: function (searchEnv) {\n\t\treturn true;\n\t},\n\tinsertContained: function (tree, itemEnv, item) {\n\t\tAssert.isTrue(tree.getEnvelope().contains(itemEnv));\n\t\tvar isZeroX = IntervalSize.isZeroWidth(itemEnv.getMinX(), itemEnv.getMaxX());\n\t\tvar isZeroY = IntervalSize.isZeroWidth(itemEnv.getMinY(), itemEnv.getMaxY());\n\t\tvar node = null;\n\t\tif (isZeroX || isZeroY) node = tree.find(itemEnv); else node = tree.getNode(itemEnv);\n\t\tnode.add(item);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Root;\n\t}\n});\nRoot.origin = new Coordinate(0.0, 0.0);\n","import extend from '../../../../extend';\nexport default function SpatialIndex() {}\nextend(SpatialIndex.prototype, {\n\tinsert: function (itemEnv, item) {},\n\tremove: function (itemEnv, item) {},\n\tquery: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet searchEnv = arguments[0];\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet searchEnv = arguments[0], visitor = arguments[1];\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SpatialIndex;\n\t}\n});\n","import Root from './Root';\nimport SpatialIndex from '../SpatialIndex';\nimport extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport ArrayListVisitor from '../ArrayListVisitor';\nimport Serializable from '../../../../../java/io/Serializable';\nimport Envelope from '../../geom/Envelope';\nexport default function Quadtree() {\n\tthis._root = null;\n\tthis._minExtent = 1.0;\n\tthis._root = new Root();\n}\nextend(Quadtree.prototype, {\n\tsize: function () {\n\t\tif (this._root !== null) return this._root.size();\n\t\treturn 0;\n\t},\n\tinsert: function (itemEnv, item) {\n\t\tthis.collectStats(itemEnv);\n\t\tvar insertEnv = Quadtree.ensureExtent(itemEnv, this._minExtent);\n\t\tthis._root.insert(insertEnv, item);\n\t},\n\tquery: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet searchEnv = arguments[0];\n\t\t\tvar visitor = new ArrayListVisitor();\n\t\t\tthis.query(searchEnv, visitor);\n\t\t\treturn visitor.getItems();\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet searchEnv = arguments[0], visitor = arguments[1];\n\t\t\tthis._root.visit(searchEnv, visitor);\n\t\t}\n\t},\n\tqueryAll: function () {\n\t\tvar foundItems = new ArrayList();\n\t\tthis._root.addAllItems(foundItems);\n\t\treturn foundItems;\n\t},\n\tremove: function (itemEnv, item) {\n\t\tvar posEnv = Quadtree.ensureExtent(itemEnv, this._minExtent);\n\t\treturn this._root.remove(posEnv, item);\n\t},\n\tcollectStats: function (itemEnv) {\n\t\tvar delX = itemEnv.getWidth();\n\t\tif (delX < this._minExtent && delX > 0.0) this._minExtent = delX;\n\t\tvar delY = itemEnv.getHeight();\n\t\tif (delY < this._minExtent && delY > 0.0) this._minExtent = delY;\n\t},\n\tdepth: function () {\n\t\tif (this._root !== null) return this._root.depth();\n\t\treturn 0;\n\t},\n\tisEmpty: function () {\n\t\tif (this._root === null) return true;\n\t\treturn this._root.isEmpty();\n\t},\n\tinterfaces_: function () {\n\t\treturn [SpatialIndex, Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn Quadtree;\n\t}\n});\nQuadtree.ensureExtent = function (itemEnv, minExtent) {\n\tvar minx = itemEnv.getMinX();\n\tvar maxx = itemEnv.getMaxX();\n\tvar miny = itemEnv.getMinY();\n\tvar maxy = itemEnv.getMaxY();\n\tif (minx !== maxx && miny !== maxy) return itemEnv;\n\tif (minx === maxx) {\n\t\tminx = minx - minExtent / 2.0;\n\t\tmaxx = minx + minExtent / 2.0;\n\t}\n\tif (miny === maxy) {\n\t\tminy = miny - minExtent / 2.0;\n\t\tmaxy = miny + minExtent / 2.0;\n\t}\n\treturn new Envelope(minx, maxx, miny, maxy);\n};\nQuadtree.serialVersionUID = -7461163625812743604;\n","import extend from '../../../../../extend';\nexport default function Boundable() {}\nextend(Boundable.prototype, {\n\tgetBounds: function () {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Boundable;\n\t}\n});\n","import Boundable from './Boundable';\nimport extend from '../../../../../extend';\nimport Serializable from '../../../../../java/io/Serializable';\nexport default function ItemBoundable() {\n\tthis._bounds = null;\n\tthis._item = null;\n\tlet bounds = arguments[0], item = arguments[1];\n\tthis._bounds = bounds;\n\tthis._item = item;\n}\nextend(ItemBoundable.prototype, {\n\tgetItem: function () {\n\t\treturn this._item;\n\t},\n\tgetBounds: function () {\n\t\treturn this._bounds;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Boundable, Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn ItemBoundable;\n\t}\n});\n","import extend from '../../../../extend';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function PriorityQueue() {\n\tthis._size = null;\n\tthis._items = null;\n\tthis._size = 0;\n\tthis._items = new ArrayList();\n\tthis._items.add(null);\n}\nextend(PriorityQueue.prototype, {\n\tpoll: function () {\n\t\tif (this.isEmpty()) return null;\n\t\tvar minItem = this._items.get(1);\n\t\tthis._items.set(1, this._items.get(this._size));\n\t\tthis._size -= 1;\n\t\tthis.reorder(1);\n\t\treturn minItem;\n\t},\n\tsize: function () {\n\t\treturn this._size;\n\t},\n\treorder: function (hole) {\n\t\tvar child = null;\n\t\tvar tmp = this._items.get(hole);\n\t\tfor (; hole * 2 <= this._size; hole = child) {\n\t\t\tchild = hole * 2;\n\t\t\tif (child !== this._size && this._items.get(child + 1).compareTo(this._items.get(child)) < 0) child++;\n\t\t\tif (this._items.get(child).compareTo(tmp) < 0) this._items.set(hole, this._items.get(child)); else break;\n\t\t}\n\t\tthis._items.set(hole, tmp);\n\t},\n\tclear: function () {\n\t\tthis._size = 0;\n\t\tthis._items.clear();\n\t},\n\tpeek: function () {\n\t\tif (this.isEmpty()) return null;\n\t\tvar minItem = this._items.get(1);\n\t\treturn minItem;\n\t},\n\tisEmpty: function () {\n\t\treturn this._size === 0;\n\t},\n\tadd: function (x) {\n\t\tthis._items.add(null);\n\t\tthis._size += 1;\n\t\tvar hole = this._size;\n\t\tthis._items.set(0, x);\n\t\tfor (; x.compareTo(this._items.get(Math.trunc(hole / 2))) < 0; hole /= 2) {\n\t\t\tthis._items.set(hole, this._items.get(Math.trunc(hole / 2)));\n\t\t}\n\t\tthis._items.set(hole, x);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PriorityQueue;\n\t}\n});\n","import Boundable from './Boundable';\nimport extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Serializable from '../../../../../java/io/Serializable';\nimport Assert from '../../util/Assert';\nexport default function AbstractNode() {\n\tthis._childBoundables = new ArrayList();\n\tthis._bounds = null;\n\tthis._level = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet level = arguments[0];\n\t\tthis._level = level;\n\t}\n}\nextend(AbstractNode.prototype, {\n\tgetLevel: function () {\n\t\treturn this._level;\n\t},\n\tsize: function () {\n\t\treturn this._childBoundables.size();\n\t},\n\tgetChildBoundables: function () {\n\t\treturn this._childBoundables;\n\t},\n\taddChildBoundable: function (childBoundable) {\n\t\tAssert.isTrue(this._bounds === null);\n\t\tthis._childBoundables.add(childBoundable);\n\t},\n\tisEmpty: function () {\n\t\treturn this._childBoundables.isEmpty();\n\t},\n\tgetBounds: function () {\n\t\tif (this._bounds === null) {\n\t\t\tthis._bounds = this.computeBounds();\n\t\t}\n\t\treturn this._bounds;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Boundable, Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn AbstractNode;\n\t}\n});\nAbstractNode.serialVersionUID = 6493722185909573708;\n","import IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport AbstractNode from './AbstractNode';\nimport extend from '../../../../../extend';\nimport Comparable from '../../../../../java/lang/Comparable';\nexport default function BoundablePair() {\n\tthis._boundable1 = null;\n\tthis._boundable2 = null;\n\tthis._distance = null;\n\tthis._itemDistance = null;\n\tlet boundable1 = arguments[0], boundable2 = arguments[1], itemDistance = arguments[2];\n\tthis._boundable1 = boundable1;\n\tthis._boundable2 = boundable2;\n\tthis._itemDistance = itemDistance;\n\tthis._distance = this.distance();\n}\nextend(BoundablePair.prototype, {\n\texpandToQueue: function (priQ, minDistance) {\n\t\tvar isComp1 = BoundablePair.isComposite(this._boundable1);\n\t\tvar isComp2 = BoundablePair.isComposite(this._boundable2);\n\t\tif (isComp1 && isComp2) {\n\t\t\tif (BoundablePair.area(this._boundable1) > BoundablePair.area(this._boundable2)) {\n\t\t\t\tthis.expand(this._boundable1, this._boundable2, priQ, minDistance);\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\tthis.expand(this._boundable2, this._boundable1, priQ, minDistance);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else if (isComp1) {\n\t\t\tthis.expand(this._boundable1, this._boundable2, priQ, minDistance);\n\t\t\treturn null;\n\t\t} else if (isComp2) {\n\t\t\tthis.expand(this._boundable2, this._boundable1, priQ, minDistance);\n\t\t\treturn null;\n\t\t}\n\t\tthrow new IllegalArgumentException(\"neither boundable is composite\");\n\t},\n\tisLeaves: function () {\n\t\treturn !(BoundablePair.isComposite(this._boundable1) || BoundablePair.isComposite(this._boundable2));\n\t},\n\tcompareTo: function (o) {\n\t\tvar nd = o;\n\t\tif (this._distance < nd._distance) return -1;\n\t\tif (this._distance > nd._distance) return 1;\n\t\treturn 0;\n\t},\n\texpand: function (bndComposite, bndOther, priQ, minDistance) {\n\t\tvar children = bndComposite.getChildBoundables();\n\t\tfor (var i = children.iterator(); i.hasNext(); ) {\n\t\t\tvar child = i.next();\n\t\t\tvar bp = new BoundablePair(child, bndOther, this._itemDistance);\n\t\t\tif (bp.getDistance() < minDistance) {\n\t\t\t\tpriQ.add(bp);\n\t\t\t}\n\t\t}\n\t},\n\tgetBoundable: function (i) {\n\t\tif (i === 0) return this._boundable1;\n\t\treturn this._boundable2;\n\t},\n\tgetDistance: function () {\n\t\treturn this._distance;\n\t},\n\tdistance: function () {\n\t\tif (this.isLeaves()) {\n\t\t\treturn this._itemDistance.distance(this._boundable1, this._boundable2);\n\t\t}\n\t\treturn this._boundable1.getBounds().distance(this._boundable2.getBounds());\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn BoundablePair;\n\t}\n});\nBoundablePair.area = function (b) {\n\treturn b.getBounds().getArea();\n};\nBoundablePair.isComposite = function (item) {\n\treturn item instanceof AbstractNode;\n};\n","import ItemBoundable from './ItemBoundable';\nimport hasInterface from '../../../../../hasInterface';\nimport ItemVisitor from '../ItemVisitor';\nimport AbstractNode from './AbstractNode';\nimport extend from '../../../../../extend';\nimport Collections from '../../../../../java/util/Collections';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Serializable from '../../../../../java/io/Serializable';\nimport Assert from '../../util/Assert';\nimport List from '../../../../../java/util/List';\nexport default function AbstractSTRtree() {\n\tthis._root = null;\n\tthis._built = false;\n\tthis._itemBoundables = new ArrayList();\n\tthis._nodeCapacity = null;\n\tif (arguments.length === 0) {\n\t\tAbstractSTRtree.call(this, AbstractSTRtree.DEFAULT_NODE_CAPACITY);\n\t} else if (arguments.length === 1) {\n\t\tlet nodeCapacity = arguments[0];\n\t\tAssert.isTrue(nodeCapacity > 1, \"Node capacity must be greater than 1\");\n\t\tthis._nodeCapacity = nodeCapacity;\n\t}\n}\nextend(AbstractSTRtree.prototype, {\n\tqueryInternal: function () {\n\t\tif (hasInterface(arguments[2], ItemVisitor) && (arguments[0] instanceof Object && arguments[1] instanceof AbstractNode)) {\n\t\t\tlet searchBounds = arguments[0], node = arguments[1], visitor = arguments[2];\n\t\t\tvar childBoundables = node.getChildBoundables();\n\t\t\tfor (var i = 0; i < childBoundables.size(); i++) {\n\t\t\t\tvar childBoundable = childBoundables.get(i);\n\t\t\t\tif (!this.getIntersectsOp().intersects(childBoundable.getBounds(), searchBounds)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tthis.queryInternal(searchBounds, childBoundable, visitor);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tvisitor.visitItem(childBoundable.getItem());\n\t\t\t\t} else {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (hasInterface(arguments[2], List) && (arguments[0] instanceof Object && arguments[1] instanceof AbstractNode)) {\n\t\t\tlet searchBounds = arguments[0], node = arguments[1], matches = arguments[2];\n\t\t\tvar childBoundables = node.getChildBoundables();\n\t\t\tfor (var i = 0; i < childBoundables.size(); i++) {\n\t\t\t\tvar childBoundable = childBoundables.get(i);\n\t\t\t\tif (!this.getIntersectsOp().intersects(childBoundable.getBounds(), searchBounds)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tthis.queryInternal(searchBounds, childBoundable, matches);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tmatches.add(childBoundable.getItem());\n\t\t\t\t} else {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetNodeCapacity: function () {\n\t\treturn this._nodeCapacity;\n\t},\n\tlastNode: function (nodes) {\n\t\treturn nodes.get(nodes.size() - 1);\n\t},\n\tsize: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tthis.build();\n\t\t\treturn this.size(this._root);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet node = arguments[0];\n\t\t\tvar size = 0;\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tsize += this.size(childBoundable);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tsize += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn size;\n\t\t}\n\t},\n\tremoveItem: function (node, item) {\n\t\tvar childToRemove = null;\n\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\tvar childBoundable = i.next();\n\t\t\tif (childBoundable instanceof ItemBoundable) {\n\t\t\t\tif (childBoundable.getItem() === item) childToRemove = childBoundable;\n\t\t\t}\n\t\t}\n\t\tif (childToRemove !== null) {\n\t\t\tnode.getChildBoundables().remove(childToRemove);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\titemsTree: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tthis.build();\n\t\t\tvar valuesTree = this.itemsTree(this._root);\n\t\t\tif (valuesTree === null) return new ArrayList();\n\t\t\treturn valuesTree;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet node = arguments[0];\n\t\t\tvar valuesTreeForNode = new ArrayList();\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tvar valuesTreeForChild = this.itemsTree(childBoundable);\n\t\t\t\t\tif (valuesTreeForChild !== null) valuesTreeForNode.add(valuesTreeForChild);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tvaluesTreeForNode.add(childBoundable.getItem());\n\t\t\t\t} else {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (valuesTreeForNode.size() <= 0) return null;\n\t\t\treturn valuesTreeForNode;\n\t\t}\n\t},\n\tinsert: function (bounds, item) {\n\t\tAssert.isTrue(!this._built, \"Cannot insert items into an STR packed R-tree after it has been built.\");\n\t\tthis._itemBoundables.add(new ItemBoundable(bounds, item));\n\t},\n\tboundablesAtLevel: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet level = arguments[0];\n\t\t\tvar boundables = new ArrayList();\n\t\t\tthis.boundablesAtLevel(level, this._root, boundables);\n\t\t\treturn boundables;\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet level = arguments[0], top = arguments[1], boundables = arguments[2];\n\t\t\tAssert.isTrue(level > -2);\n\t\t\tif (top.getLevel() === level) {\n\t\t\t\tboundables.add(top);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tfor (var i = top.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\t\tvar boundable = i.next();\n\t\t\t\tif (boundable instanceof AbstractNode) {\n\t\t\t\t\tthis.boundablesAtLevel(level, boundable, boundables);\n\t\t\t\t} else {\n\t\t\t\t\tAssert.isTrue(boundable instanceof ItemBoundable);\n\t\t\t\t\tif (level === -1) {\n\t\t\t\t\t\tboundables.add(boundable);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t},\n\tquery: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet searchBounds = arguments[0];\n\t\t\tthis.build();\n\t\t\tvar matches = new ArrayList();\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn matches;\n\t\t\t}\n\t\t\tif (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n\t\t\t\tthis.queryInternal(searchBounds, this._root, matches);\n\t\t\t}\n\t\t\treturn matches;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet searchBounds = arguments[0], visitor = arguments[1];\n\t\t\tthis.build();\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n\t\t\t\tthis.queryInternal(searchBounds, this._root, visitor);\n\t\t\t}\n\t\t}\n\t},\n\tbuild: function () {\n\t\tif (this._built) return null;\n\t\tthis._root = this._itemBoundables.isEmpty() ? this.createNode(0) : this.createHigherLevels(this._itemBoundables, -1);\n\t\tthis._itemBoundables = null;\n\t\tthis._built = true;\n\t},\n\tgetRoot: function () {\n\t\tthis.build();\n\t\treturn this._root;\n\t},\n\tremove: function () {\n\t\tif (arguments.length === 2) {\n\t\t\tlet searchBounds = arguments[0], item = arguments[1];\n\t\t\tthis.build();\n\t\t\tif (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n\t\t\t\treturn this.remove(searchBounds, this._root, item);\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet searchBounds = arguments[0], node = arguments[1], item = arguments[2];\n\t\t\tvar found = this.removeItem(node, item);\n\t\t\tif (found) return true;\n\t\t\tvar childToPrune = null;\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (!this.getIntersectsOp().intersects(childBoundable.getBounds(), searchBounds)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tfound = this.remove(searchBounds, childBoundable, item);\n\t\t\t\t\tif (found) {\n\t\t\t\t\t\tchildToPrune = childBoundable;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (childToPrune !== null) {\n\t\t\t\tif (childToPrune.getChildBoundables().isEmpty()) {\n\t\t\t\t\tnode.getChildBoundables().remove(childToPrune);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn found;\n\t\t}\n\t},\n\tcreateHigherLevels: function (boundablesOfALevel, level) {\n\t\tAssert.isTrue(!boundablesOfALevel.isEmpty());\n\t\tvar parentBoundables = this.createParentBoundables(boundablesOfALevel, level + 1);\n\t\tif (parentBoundables.size() === 1) {\n\t\t\treturn parentBoundables.get(0);\n\t\t}\n\t\treturn this.createHigherLevels(parentBoundables, level + 1);\n\t},\n\tdepth: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tthis.build();\n\t\t\treturn this.depth(this._root);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet node = arguments[0];\n\t\t\tvar maxChildDepth = 0;\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tvar childDepth = this.depth(childBoundable);\n\t\t\t\t\tif (childDepth > maxChildDepth) maxChildDepth = childDepth;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn maxChildDepth + 1;\n\t\t}\n\t},\n\tcreateParentBoundables: function (childBoundables, newLevel) {\n\t\tAssert.isTrue(!childBoundables.isEmpty());\n\t\tvar parentBoundables = new ArrayList();\n\t\tparentBoundables.add(this.createNode(newLevel));\n\t\tvar sortedChildBoundables = new ArrayList(childBoundables);\n\t\tCollections.sort(sortedChildBoundables, this.getComparator());\n\t\tfor (var i = sortedChildBoundables.iterator(); i.hasNext(); ) {\n\t\t\tvar childBoundable = i.next();\n\t\t\tif (this.lastNode(parentBoundables).getChildBoundables().size() === this.getNodeCapacity()) {\n\t\t\t\tparentBoundables.add(this.createNode(newLevel));\n\t\t\t}\n\t\t\tthis.lastNode(parentBoundables).addChildBoundable(childBoundable);\n\t\t}\n\t\treturn parentBoundables;\n\t},\n\tisEmpty: function () {\n\t\tif (!this._built) return this._itemBoundables.isEmpty();\n\t\treturn this._root.isEmpty();\n\t},\n\tinterfaces_: function () {\n\t\treturn [Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn AbstractSTRtree;\n\t}\n});\nAbstractSTRtree.compareDoubles = function (a, b) {\n\treturn a > b ? 1 : a < b ? -1 : 0;\n};\nfunction IntersectsOp() {}\nAbstractSTRtree.IntersectsOp = IntersectsOp;\nAbstractSTRtree.serialVersionUID = -3886435814360241337;\nAbstractSTRtree.DEFAULT_NODE_CAPACITY = 10;\n","import extend from '../../../../../extend';\nexport default function ItemDistance() {}\nextend(ItemDistance.prototype, {\n\tdistance: function (item1, item2) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ItemDistance;\n\t}\n});\n","import ItemBoundable from './ItemBoundable';\nimport PriorityQueue from '../../util/PriorityQueue';\nimport hasInterface from '../../../../../hasInterface';\nimport SpatialIndex from '../SpatialIndex';\nimport AbstractNode from './AbstractNode';\nimport Double from '../../../../../java/lang/Double';\nimport extend from '../../../../../extend';\nimport Collections from '../../../../../java/util/Collections';\nimport BoundablePair from './BoundablePair';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Comparator from '../../../../../java/util/Comparator';\nimport Serializable from '../../../../../java/io/Serializable';\nimport Envelope from '../../geom/Envelope';\nimport Assert from '../../util/Assert';\nimport inherits from '../../../../../inherits';\nimport AbstractSTRtree from './AbstractSTRtree';\nimport ItemDistance from './ItemDistance';\nexport default function STRtree() {\n\tif (arguments.length === 0) {\n\t\tSTRtree.call(this, STRtree.DEFAULT_NODE_CAPACITY);\n\t} else if (arguments.length === 1) {\n\t\tlet nodeCapacity = arguments[0];\n\t\tAbstractSTRtree.call(this, nodeCapacity);\n\t}\n}\ninherits(STRtree, AbstractSTRtree);\nextend(STRtree.prototype, {\n\tcreateParentBoundablesFromVerticalSlices: function (verticalSlices, newLevel) {\n\t\tAssert.isTrue(verticalSlices.length > 0);\n\t\tvar parentBoundables = new ArrayList();\n\t\tfor (var i = 0; i < verticalSlices.length; i++) {\n\t\t\tparentBoundables.addAll(this.createParentBoundablesFromVerticalSlice(verticalSlices[i], newLevel));\n\t\t}\n\t\treturn parentBoundables;\n\t},\n\tcreateNode: function (level) {\n\t\treturn new STRtreeNode(level);\n\t},\n\tsize: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn AbstractSTRtree.prototype.size.call(this);\n\t\t} else return AbstractSTRtree.prototype.size.apply(this, arguments);\n\t},\n\tinsert: function () {\n\t\tif (arguments.length === 2 && (arguments[1] instanceof Object && arguments[0] instanceof Envelope)) {\n\t\t\tlet itemEnv = arguments[0], item = arguments[1];\n\t\t\tif (itemEnv.isNull()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tAbstractSTRtree.prototype.insert.call(this, itemEnv, item);\n\t\t} else return AbstractSTRtree.prototype.insert.apply(this, arguments);\n\t},\n\tgetIntersectsOp: function () {\n\t\treturn STRtree.intersectsOp;\n\t},\n\tverticalSlices: function (childBoundables, sliceCount) {\n\t\tvar sliceCapacity = Math.trunc(Math.ceil(childBoundables.size() / sliceCount));\n\t\tvar slices = new Array(sliceCount).fill(null);\n\t\tvar i = childBoundables.iterator();\n\t\tfor (var j = 0; j < sliceCount; j++) {\n\t\t\tslices[j] = new ArrayList();\n\t\t\tvar boundablesAddedToSlice = 0;\n\t\t\twhile (i.hasNext() && boundablesAddedToSlice < sliceCapacity) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tslices[j].add(childBoundable);\n\t\t\t\tboundablesAddedToSlice++;\n\t\t\t}\n\t\t}\n\t\treturn slices;\n\t},\n\tquery: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet searchEnv = arguments[0];\n\t\t\treturn AbstractSTRtree.prototype.query.call(this, searchEnv);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet searchEnv = arguments[0], visitor = arguments[1];\n\t\t\tAbstractSTRtree.prototype.query.call(this, searchEnv, visitor);\n\t\t}\n\t},\n\tgetComparator: function () {\n\t\treturn STRtree.yComparator;\n\t},\n\tcreateParentBoundablesFromVerticalSlice: function (childBoundables, newLevel) {\n\t\treturn AbstractSTRtree.prototype.createParentBoundables.call(this, childBoundables, newLevel);\n\t},\n\tremove: function () {\n\t\tif (arguments.length === 2 && (arguments[1] instanceof Object && arguments[0] instanceof Envelope)) {\n\t\t\tlet itemEnv = arguments[0], item = arguments[1];\n\t\t\treturn AbstractSTRtree.prototype.remove.call(this, itemEnv, item);\n\t\t} else return AbstractSTRtree.prototype.remove.apply(this, arguments);\n\t},\n\tdepth: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn AbstractSTRtree.prototype.depth.call(this);\n\t\t} else return AbstractSTRtree.prototype.depth.apply(this, arguments);\n\t},\n\tcreateParentBoundables: function (childBoundables, newLevel) {\n\t\tAssert.isTrue(!childBoundables.isEmpty());\n\t\tvar minLeafCount = Math.trunc(Math.ceil(childBoundables.size() / this.getNodeCapacity()));\n\t\tvar sortedChildBoundables = new ArrayList(childBoundables);\n\t\tCollections.sort(sortedChildBoundables, STRtree.xComparator);\n\t\tvar verticalSlices = this.verticalSlices(sortedChildBoundables, Math.trunc(Math.ceil(Math.sqrt(minLeafCount))));\n\t\treturn this.createParentBoundablesFromVerticalSlices(verticalSlices, newLevel);\n\t},\n\tnearestNeighbour: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (hasInterface(arguments[0], ItemDistance)) {\n\t\t\t\tlet itemDist = arguments[0];\n\t\t\t\tvar bp = new BoundablePair(this.getRoot(), this.getRoot(), itemDist);\n\t\t\t\treturn this.nearestNeighbour(bp);\n\t\t\t} else if (arguments[0] instanceof BoundablePair) {\n\t\t\t\tlet initBndPair = arguments[0];\n\t\t\t\treturn this.nearestNeighbour(initBndPair, Double.POSITIVE_INFINITY);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof STRtree && hasInterface(arguments[1], ItemDistance)) {\n\t\t\t\tlet tree = arguments[0], itemDist = arguments[1];\n\t\t\t\tvar bp = new BoundablePair(this.getRoot(), tree.getRoot(), itemDist);\n\t\t\t\treturn this.nearestNeighbour(bp);\n\t\t\t} else if (arguments[0] instanceof BoundablePair && typeof arguments[1] === \"number\") {\n\t\t\t\tlet initBndPair = arguments[0], maxDistance = arguments[1];\n\t\t\t\tvar distanceLowerBound = maxDistance;\n\t\t\t\tvar minPair = null;\n\t\t\t\tvar priQ = new PriorityQueue();\n\t\t\t\tpriQ.add(initBndPair);\n\t\t\t\twhile (!priQ.isEmpty() && distanceLowerBound > 0.0) {\n\t\t\t\t\tvar bndPair = priQ.poll();\n\t\t\t\t\tvar currentDistance = bndPair.getDistance();\n\t\t\t\t\tif (currentDistance >= distanceLowerBound) break;\n\t\t\t\t\tif (bndPair.isLeaves()) {\n\t\t\t\t\t\tdistanceLowerBound = currentDistance;\n\t\t\t\t\t\tminPair = bndPair;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbndPair.expandToQueue(priQ, distanceLowerBound);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn [minPair.getBoundable(0).getItem(), minPair.getBoundable(1).getItem()];\n\t\t\t} else if (arguments[0] instanceof BoundablePair && Number.isInteger(arguments[1])) {\n\t\t\t\tlet initBndPair = arguments[0], k = arguments[1];\n\t\t\t\treturn this.nearestNeighbour(initBndPair, Double.POSITIVE_INFINITY, k);\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (hasInterface(arguments[2], ItemDistance) && (arguments[0] instanceof Envelope && arguments[1] instanceof Object)) {\n\t\t\t\tlet env = arguments[0], item = arguments[1], itemDist = arguments[2];\n\t\t\t\tvar bnd = new ItemBoundable(env, item);\n\t\t\t\tvar bp = new BoundablePair(this.getRoot(), bnd, itemDist);\n\t\t\t\treturn this.nearestNeighbour(bp)[0];\n\t\t\t} else if (Number.isInteger(arguments[2]) && (arguments[0] instanceof BoundablePair && typeof arguments[1] === \"number\")) {\n\t\t\t\tlet initBndPair = arguments[0], maxDistance = arguments[1], k = arguments[2];\n\t\t\t\tvar distanceLowerBound = maxDistance;\n\t\t\t\tvar priQ = new PriorityQueue();\n\t\t\t\tpriQ.add(initBndPair);\n\t\t\t\tvar kNearestNeighbors = new PriorityQueue();\n\t\t\t\twhile (!priQ.isEmpty() && distanceLowerBound >= 0.0) {\n\t\t\t\t\tvar bndPair = priQ.poll();\n\t\t\t\t\tvar currentDistance = bndPair.getDistance();\n\t\t\t\t\tif (currentDistance >= distanceLowerBound) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (bndPair.isLeaves()) {\n\t\t\t\t\t\tif (kNearestNeighbors.size() < k) {\n\t\t\t\t\t\t\tkNearestNeighbors.add(bndPair);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar bp1 = kNearestNeighbors.peek();\n\t\t\t\t\t\t\tif (bp1.getDistance() > currentDistance) {\n\t\t\t\t\t\t\t\tkNearestNeighbors.poll();\n\t\t\t\t\t\t\t\tkNearestNeighbors.add(bndPair);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar bp2 = kNearestNeighbors.peek();\n\t\t\t\t\t\t\tdistanceLowerBound = bp2.getDistance();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbndPair.expandToQueue(priQ, distanceLowerBound);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn STRtree.getItems(kNearestNeighbors);\n\t\t\t}\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet env = arguments[0], item = arguments[1], itemDist = arguments[2], k = arguments[3];\n\t\t\tvar bnd = new ItemBoundable(env, item);\n\t\t\tvar bp = new BoundablePair(this.getRoot(), bnd, itemDist);\n\t\t\treturn this.nearestNeighbour(bp, k);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [SpatialIndex, Serializable];\n\t},\n\tgetClass: function () {\n\t\treturn STRtree;\n\t}\n});\nSTRtree.centreX = function (e) {\n\treturn STRtree.avg(e.getMinX(), e.getMaxX());\n};\nSTRtree.avg = function (a, b) {\n\treturn (a + b) / 2;\n};\nSTRtree.getItems = function (kNearestNeighbors) {\n\tvar items = new Array(kNearestNeighbors.size()).fill(null);\n\tvar count = 0;\n\twhile (!kNearestNeighbors.isEmpty()) {\n\t\tvar bp = kNearestNeighbors.poll();\n\t\titems[count] = bp.getBoundable(0).getItem();\n\t\tcount++;\n\t}\n\treturn items;\n};\nSTRtree.centreY = function (e) {\n\treturn STRtree.avg(e.getMinY(), e.getMaxY());\n};\nfunction STRtreeNode() {\n\tlet level = arguments[0];\n\tAbstractNode.call(this, level);\n}\ninherits(STRtreeNode, AbstractNode);\nextend(STRtreeNode.prototype, {\n\tcomputeBounds: function () {\n\t\tvar bounds = null;\n\t\tfor (var i = this.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\tvar childBoundable = i.next();\n\t\t\tif (bounds === null) {\n\t\t\t\tbounds = new Envelope(childBoundable.getBounds());\n\t\t\t} else {\n\t\t\t\tbounds.expandToInclude(childBoundable.getBounds());\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn STRtreeNode;\n\t}\n});\nSTRtree.STRtreeNode = STRtreeNode;\nSTRtree.serialVersionUID = 259274702368956900;\nSTRtree.xComparator = {\n\tinterfaces_: function () {\n\t\treturn [Comparator];\n\t},\n\tcompare: function (o1, o2) {\n\t\treturn AbstractSTRtree.compareDoubles(STRtree.centreX(o1.getBounds()), STRtree.centreX(o2.getBounds()));\n\t}\n};\nSTRtree.yComparator = {\n\tinterfaces_: function () {\n\t\treturn [Comparator];\n\t},\n\tcompare: function (o1, o2) {\n\t\treturn AbstractSTRtree.compareDoubles(STRtree.centreY(o1.getBounds()), STRtree.centreY(o2.getBounds()));\n\t}\n};\nSTRtree.intersectsOp = {\n\tinterfaces_: function () {\n\t\treturn [IntersectsOp];\n\t},\n\tintersects: function (aBounds, bBounds) {\n\t\treturn aBounds.intersects(bBounds);\n\t}\n};\nSTRtree.DEFAULT_NODE_CAPACITY = 10;\n","import Coordinate from '../geom/Coordinate'\nimport GeometryFactory from '../geom/GeometryFactory'\nimport extend from '../../../../extend'\n\nconst geometryTypes = ['Point', 'MultiPoint', 'LineString', 'MultiLineString', 'Polygon', 'MultiPolygon']\n\n/**\n * Class for reading and writing Well-Known Text.Create a new parser for GeoJSON\n * NOTE: Adapted from OpenLayers 2.11 implementation.\n */\n\n/**\n * Create a new parser for GeoJSON\n *\n * @param {GeometryFactory} geometryFactory\n * @return An instance of GeoJsonParser.\n * @constructor\n * @private\n */\nexport default function GeoJSONParser (geometryFactory) {\n  this.geometryFactory = geometryFactory || new GeometryFactory()\n}\n\nextend(GeoJSONParser.prototype, {\n  /**\n   * Deserialize a GeoJSON object and return the Geometry or Feature(Collection) with JSTS Geometries\n   *\n   * @param {}\n   *          A GeoJSON object.\n   * @return {} A Geometry instance or object representing a Feature(Collection) with Geometry instances.\n   * @private\n   */\n  read (json) {\n    let obj\n    if (typeof json === 'string')\n      obj = JSON.parse(json)\n    else\n      obj = json\n\n    const type = obj.type\n\n    if (!parse[type])\n      throw new Error('Unknown GeoJSON type: ' + obj.type)\n\n    if (geometryTypes.indexOf(type) !== -1)\n      return parse[type].call(this, obj.coordinates)\n    else if (type === 'GeometryCollection')\n      return parse[type].call(this, obj.geometries)\n\n    // feature or feature collection\n    return parse[type].call(this, obj)\n  },\n\n  /**\n   * Serialize a Geometry object into GeoJSON\n   *\n   * @param {Geometry}\n   *          geometry A Geometry or array of Geometries.\n   * @return {Object} A GeoJSON object represting the input Geometry/Geometries.\n   * @private\n   */\n  write (geometry) {\n    const type = geometry.getGeometryType()\n\n    if (!extract[type])\n      throw new Error('Geometry is not supported')\n\n    return extract[type].call(this, geometry)\n  }\n})\n\nconst parse = {\n  /**\n   * Parse a GeoJSON Feature object\n   *\n   * @param {Object}\n   *          obj Object to parse.\n   *\n   * @return {Object} Feature with geometry/bbox converted to JSTS Geometries.\n   */\n  Feature: function (obj) {\n    const feature = {}\n\n    for (let key in obj)\n      feature[key] = obj[key]\n\n    if (obj.geometry) {\n      const type = obj.geometry.type\n      if (!parse[type])\n        throw new Error('Unknown GeoJSON type: ' + obj.type)\n      feature.geometry = this.read(obj.geometry)\n    }\n\n    if (obj.bbox)\n      feature.bbox = parse.bbox.call(this, obj.bbox)\n\n    return feature\n  },\n\n  /**\n   * Parse a GeoJSON FeatureCollection object\n   *\n   * @param {Object}\n   *          obj Object to parse.\n   *\n   * @return {Object} FeatureCollection with geometry/bbox converted to JSTS Geometries.\n   */\n  FeatureCollection: function (obj) {\n    const featureCollection = {}\n\n    if (obj.features) {\n      featureCollection.features = []\n\n      for (let i = 0; i < obj.features.length; ++i)\n        featureCollection.features.push(this.read(obj.features[i]))\n    }\n\n    if (obj.bbox)\n      featureCollection.bbox = this.parse.bbox.call(this, obj.bbox)\n\n    return featureCollection\n  },\n\n  /**\n   * Convert the ordinates in an array to an array of Coordinates\n   *\n   * @param {Array}\n   *          array Array with {Number}s.\n   *\n   * @return {Array} Array with Coordinates.\n   */\n  coordinates: function (array) {\n    const coordinates = []\n    for (let i = 0; i < array.length; ++i) {\n      const sub = array[i]\n      coordinates.push(new Coordinate(sub[0], sub[1]))\n    }\n    return coordinates\n  },\n\n  /**\n   * Convert the bbox to a LinearRing\n   *\n   * @param {Array}\n   *          array Array with [xMin, yMin, xMax, yMax].\n   *\n   * @return {Array} Array with Coordinates.\n   */\n  bbox: function (array) {\n    return this.geometryFactory.createLinearRing([\n      new Coordinate(array[0], array[1]),\n      new Coordinate(array[2], array[1]),\n      new Coordinate(array[2], array[3]),\n      new Coordinate(array[0], array[3]),\n      new Coordinate(array[0], array[1])\n    ])\n  },\n\n  /**\n   * Convert an Array with ordinates to a Point\n   *\n   * @param {Array}\n   *          array Array with ordinates.\n   *\n   * @return {Point} Point.\n   */\n  Point: function (array) {\n    const coordinate = new Coordinate(array[0], array[1])\n    return this.geometryFactory.createPoint(coordinate)\n  },\n\n  /**\n   * Convert an Array with coordinates to a MultiPoint\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {MultiPoint} MultiPoint.\n   */\n  MultiPoint: function (array) {\n    const points = []\n    for (let i = 0; i < array.length; ++i)\n      points.push(parse.Point.call(this, array[i]))\n    return this.geometryFactory.createMultiPoint(points)\n  },\n\n  /**\n   * Convert an Array with coordinates to a LineString\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {LineString} LineString.\n   */\n  LineString: function (array) {\n    const coordinates = parse.coordinates.call(this, array)\n    return this.geometryFactory.createLineString(coordinates)\n  },\n\n  /**\n   * Convert an Array with coordinates to a MultiLineString\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {MultiLineString} MultiLineString.\n   */\n  MultiLineString: function (array) {\n    const lineStrings = []\n    for (let i = 0; i < array.length; ++i)\n      lineStrings.push(parse.LineString.call(this, array[i]))\n    return this.geometryFactory.createMultiLineString(lineStrings)\n  },\n\n  /**\n   * Convert an Array to a Polygon\n   *\n   * @param {Array}\n   *          array Array with shell and holes.\n   *\n   * @return {Polygon} Polygon.\n   */\n  Polygon: function (array) {\n    const shellCoordinates = parse.coordinates.call(this, array[0])\n    const shell = this.geometryFactory.createLinearRing(shellCoordinates)\n    const holes = []\n    for (let i = 1; i < array.length; ++i) {\n      var hole = array[i]\n      var coordinates = parse.coordinates.call(this, hole)\n      var linearRing = this.geometryFactory.createLinearRing(coordinates)\n      holes.push(linearRing)\n    }\n    return this.geometryFactory.createPolygon(shell, holes)\n  },\n\n  /**\n   * Convert an Array to a MultiPolygon\n   *\n   * @param {Array}\n   *          array Array of arrays with shell and rings.\n   *\n   * @return {MultiPolygon} MultiPolygon.\n   */\n  MultiPolygon: function (array) {\n    const polygons = []\n    for (let i = 0; i < array.length; ++i) {\n      const polygon = array[i]\n      polygons.push(parse.Polygon.call(this, polygon))\n    }\n    return this.geometryFactory.createMultiPolygon(polygons)\n  },\n\n  /**\n   * Convert an Array to a GeometryCollection\n   *\n   * @param {Array}\n   *          array Array of GeoJSON geometries.\n   *\n   * @return {GeometryCollection} GeometryCollection.\n   */\n  GeometryCollection: function (array) {\n    const geometries = []\n    for (let i = 0; i < array.length; ++i) {\n      const geometry = array[i]\n      geometries.push(this.read(geometry))\n    }\n    return this.geometryFactory.createGeometryCollection(geometries)\n  }\n}\n\nconst extract = {\n  /**\n   * Convert a Coordinate to an Array\n   *\n   * @param {Coordinate}\n   *          coordinate Coordinate to convert.\n   *\n   * @return {Array} Array of ordinates.\n   */\n  coordinate: function (coordinate) {\n    return [coordinate.x, coordinate.y]\n  },\n\n  /**\n   * Convert a Point to a GeoJSON object\n   *\n   * @param {Point}\n   *          point Point to convert.\n   *\n   * @return {Array} Array of 2 ordinates (paired to a coordinate).\n   */\n  Point: function (point) {\n    const array = extract.coordinate.call(this, point.getCoordinate())\n    return {\n      type: 'Point',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a MultiPoint to a GeoJSON object\n   *\n   * @param {MultiPoint}\n   *          multipoint MultiPoint to convert.\n   *\n   * @return {Array} Array of coordinates.\n   */\n  MultiPoint: function (multipoint) {\n    const array = []\n    for (let i = 0; i < multipoint._geometries.length; ++i) {\n      const point = multipoint._geometries[i]\n      const geoJson = extract.Point.call(this, point)\n      array.push(geoJson.coordinates)\n    }\n    return {\n      type: 'MultiPoint',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a LineString to a GeoJSON object\n   *\n   * @param {LineString}\n   *          linestring LineString to convert.\n   *\n   * @return {Array} Array of coordinates.\n   */\n  LineString: function (linestring) {\n    const array = []\n    const coordinates = linestring.getCoordinates()\n    for (let i = 0; i < coordinates.length; ++i) {\n      const coordinate = coordinates[i]\n      array.push(extract.coordinate.call(this, coordinate))\n    }\n    return {\n      type: 'LineString',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a MultiLineString to a GeoJSON object\n   *\n   * @param {MultiLineString}\n   *          multilinestring MultiLineString to convert.\n   *\n   * @return {Array} Array of Array of coordinates.\n   */\n  MultiLineString: function (multilinestring) {\n    const array = []\n    for (let i = 0; i < multilinestring._geometries.length; ++i) {\n      const linestring = multilinestring._geometries[i]\n      const geoJson = extract.LineString.call(this, linestring)\n      array.push(geoJson.coordinates)\n    }\n    return {\n      type: 'MultiLineString',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a Polygon to a GeoJSON object\n   *\n   * @param {Polygon}\n   *          polygon Polygon to convert.\n   *\n   * @return {Array} Array with shell, holes.\n   */\n  Polygon: function (polygon) {\n    const array = []\n    const shellGeoJson = extract.LineString.call(this, polygon._shell)\n    array.push(shellGeoJson.coordinates)\n    for (let i = 0; i < polygon._holes.length; ++i) {\n      const hole = polygon._holes[i]\n      const holeGeoJson = extract.LineString.call(this, hole)\n      array.push(holeGeoJson.coordinates)\n    }\n    return {\n      type: 'Polygon',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a MultiPolygon to a GeoJSON object\n   *\n   * @param {MultiPolygon}\n   *          multipolygon MultiPolygon to convert.\n   *\n   * @return {Array} Array of polygons.\n   */\n  MultiPolygon: function (multipolygon) {\n    const array = []\n    for (let i = 0; i < multipolygon._geometries.length; ++i) {\n      const polygon = multipolygon._geometries[i]\n      const geoJson = extract.Polygon.call(this, polygon)\n      array.push(geoJson.coordinates)\n    }\n    return {\n      type: 'MultiPolygon',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a GeometryCollection to a GeoJSON object\n   *\n   * @param {GeometryCollection}\n   *          collection GeometryCollection to convert.\n   *\n   * @return {Array} Array of geometries.\n   */\n  GeometryCollection: function (collection) {\n    const array = []\n    for (let i = 0; i < collection._geometries.length; ++i) {\n      const geometry = collection._geometries[i]\n      const type = geometry.getGeometryType()\n      array.push(extract[type].call(this, geometry))\n    }\n    return {\n      type: 'GeometryCollection',\n      geometries: array\n    }\n  }\n}\n","/**\n * @module org/locationtech/jts/io/GeoJSONReader\n */\n\nimport GeometryFactory from '../geom/GeometryFactory'\nimport PrecisionModel from '../geom/PrecisionModel'\nimport GeoJSONParser from './GeoJSONParser'\nimport extend from '../../../../extend'\n\n/**\n * Converts a geometry in GeoJSON to a {@link Geometry}.\n */\n\n/**\n * A <code>GeoJSONReader</code> is parameterized by a <code>GeometryFactory</code>,\n * to allow it to create <code>Geometry</code> objects of the appropriate\n * implementation. In particular, the <code>GeometryFactory</code> determines\n * the <code>PrecisionModel</code> and <code>SRID</code> that is used.\n *\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nexport default function GeoJSONReader (geometryFactory) {\n  this.parser = new GeoJSONParser(geometryFactory || new GeometryFactory())\n}\n\nextend(GeoJSONReader.prototype, {\n  /**\n   * Reads a GeoJSON representation of a {@link Geometry}\n   *\n   * Will also parse GeoJSON Features/FeatureCollections as custom objects.\n   *\n   * @param {Object|String} geoJson a GeoJSON Object or String.\n   * @return {Geometry|Object} a <code>Geometry or Feature/FeatureCollection representation.</code>\n   * @memberof module:org/locationtech/jts/io/GeoJSONReader#\n   */\n  read (geoJson) {\n    var geometry = this.parser.read(geoJson)\n    return geometry\n  }\n})\n","/**\n * @module org/locationtech/jts/io/GeoJSONWriter\n */\n\nimport GeoJSONParser from './GeoJSONParser'\nimport extend from '../../../../extend'\n\n/**\n * Writes the GeoJSON representation of a {@link Geometry}. The\n * The GeoJSON format is defined <A\n * HREF=\"http://geojson.org/geojson-spec.html\">here</A>.\n */\n\n/**\n * The <code>GeoJSONWriter</code> outputs coordinates rounded to the precision\n * model. Only the maximum number of decimal places necessary to represent the\n * ordinates to the required precision will be output.\n *\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nexport default function GeoJSONWriter () {\n  this.parser = new GeoJSONParser(this.geometryFactory)\n}\n\nextend(GeoJSONWriter.prototype, {\n  /**\n   * Converts a <code>Geometry</code> to its GeoJSON representation.\n   *\n   * @param {Geometry}\n   *          geometry a <code>Geometry</code> to process.\n   * @return {Object} The GeoJSON representation of the Geometry.\n   * @memberof module:org/locationtech/jts/io/GeoJSONWriter#\n   */\n  write (geometry) {\n    return this.parser.write(geometry)\n  }\n})\n","/**\n * @module org/locationtech/jts/io/WKTReader\n */\n\nimport GeometryFactory from '../geom/GeometryFactory'\nimport PrecisionModel from '../geom/PrecisionModel'\nimport WKTParser from './WKTParser'\nimport extend from '../../../../extend'\n\n/**\n * Converts a geometry in Well-Known Text format to a {@link Geometry}.\n * <p>\n * <code>WKTReader</code> supports extracting <code>Geometry</code> objects\n * from either {@link Reader}s or {@link String}s. This allows it to function\n * as a parser to read <code>Geometry</code> objects from text blocks embedded\n * in other data formats (e.g. XML).\n */\n\n/**\n * A <code>WKTReader</code> is parameterized by a <code>GeometryFactory</code>,\n * to allow it to create <code>Geometry</code> objects of the appropriate\n * implementation. In particular, the <code>GeometryFactory</code> determines\n * the <code>PrecisionModel</code> and <code>SRID</code> that is used.\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nexport default function WKTReader (geometryFactory) {\n  this.parser = new WKTParser(geometryFactory || new GeometryFactory())\n}\n\nextend(WKTReader.prototype, {\n  /**\n   * Reads a Well-Known Text representation of a {@link Geometry}\n   *\n   * @param {string}\n   *          wkt a <Geometry Tagged Text> string (see the OpenGIS Simple Features\n   *          Specification).\n   * @return {Geometry} a <code>Geometry</code> read from\n   *         <code>string.</code>\n   * @memberof module:org/locationtech/jts/io/WKTReader#\n   */\n  read (wkt) {\n    var geometry = this.parser.read(wkt)\n    return geometry\n  }\n})\n","/*eslint-disable no-undef */\n\n/**\n * @module org/locationtech/jts/io/OL3Parser\n */\n\nimport Coordinate from '../geom/Coordinate'\nimport GeometryFactory from '../geom/GeometryFactory'\nimport extend from '../../../../extend'\n\nfunction p2c (p) { return [p.x, p.y] }\n\n/**\n * OpenLayers Geometry parser and writer\n * @param {GeometryFactory} geometryFactory\n * @param {ol} olReference \n * @constructor\n */\nexport default function OL3Parser (geometryFactory, olReference) {\n  this.geometryFactory = geometryFactory || new GeometryFactory()\n  this.ol = olReference || (typeof ol !== 'undefined' && ol)\n}\n\nextend(OL3Parser.prototype, {\n\n  /**\n   * Inject OpenLayers geom classes\n   */\n  inject(Point, LineString, LinearRing, Polygon, MultiPoint, MultiLineString, MultiPolygon, GeometryCollection) {\n    this.ol = {\n      geom: {\n        Point, LineString, LinearRing, Polygon, MultiPoint, MultiLineString, MultiPolygon, GeometryCollection\n      }\n    }\n  },\n\n  /**\n   * @param geometry {ol.geom.Geometry}\n   * @return {Geometry}\n   * @memberof module:org/locationtech/jts/io/OL3Parser#\n   */\n  read (geometry) {\n    const ol = this.ol\n    if (geometry instanceof ol.geom.Point) {\n      return this.convertFromPoint(geometry)\n    } else if (geometry instanceof ol.geom.LineString) {\n      return this.convertFromLineString(geometry)\n    } else if (geometry instanceof ol.geom.LinearRing) {\n      return this.convertFromLinearRing(geometry)\n    } else if (geometry instanceof ol.geom.Polygon) {\n      return this.convertFromPolygon(geometry)\n    } else if (geometry instanceof ol.geom.MultiPoint) {\n      return this.convertFromMultiPoint(geometry)\n    } else if (geometry instanceof ol.geom.MultiLineString) {\n      return this.convertFromMultiLineString(geometry)\n    } else if (geometry instanceof ol.geom.MultiPolygon) {\n      return this.convertFromMultiPolygon(geometry)\n    } else if (geometry instanceof ol.geom.GeometryCollection) {\n      return this.convertFromCollection(geometry)\n    }\n  },\n\n  convertFromPoint (point) {\n    const coordinates = point.getCoordinates()\n    return this.geometryFactory.createPoint(new Coordinate(coordinates[0], coordinates[1]))\n  },\n\n  convertFromLineString (lineString) {\n    return this.geometryFactory.createLineString(lineString.getCoordinates().map(function (coordinates) {\n      return new Coordinate(coordinates[0], coordinates[1])\n    }))\n  },\n\n  convertFromLinearRing (linearRing) {\n    return this.geometryFactory.createLinearRing(linearRing.getCoordinates().map(function (coordinates) {\n      return new Coordinate(coordinates[0], coordinates[1])\n    }))\n  },\n\n  convertFromPolygon (polygon) {\n    const linearRings = polygon.getLinearRings()\n    var shell = null\n    var holes = []\n    for (let i = 0; i < linearRings.length; i++) {\n      const linearRing = this.convertFromLinearRing(linearRings[i])\n      if (i === 0) {\n        shell = linearRing\n      } else {\n        holes.push(linearRing)\n      }\n    }\n    return this.geometryFactory.createPolygon(shell, holes)\n  },\n\n  convertFromMultiPoint (multiPoint) {\n    const points = multiPoint.getPoints().map(function (point) {\n      return this.convertFromPoint(point)\n    }, this)\n    return this.geometryFactory.createMultiPoint(points)\n  },\n\n  convertFromMultiLineString (multiLineString) {\n    const lineStrings = multiLineString.getLineStrings().map(function (lineString) {\n      return this.convertFromLineString(lineString)\n    }, this)\n    return this.geometryFactory.createMultiLineString(lineStrings)\n  },\n\n  convertFromMultiPolygon (multiPolygon) {\n    const polygons = multiPolygon.getPolygons().map(function (polygon) {\n      return this.convertFromPolygon(polygon)\n    }, this)\n    return this.geometryFactory.createMultiPolygon(polygons)\n  },\n\n  convertFromCollection (collection) {\n    const geometries = collection.getGeometries().map(function (geometry) {\n      return this.read(geometry)\n    }, this)\n    return this.geometryFactory.createGeometryCollection(geometries)\n  },\n\n  /**\n   * @param geometry\n   *          {Geometry}\n   * @return {ol.geom.Geometry}\n   * @memberof module:org/locationtech/jts/io/OL3Parser#\n   */\n  write (geometry) {\n    if (geometry.getGeometryType() === 'Point') {\n      return this.convertToPoint(geometry.getCoordinate())\n    } else if (geometry.getGeometryType() === 'LineString') {\n      return this.convertToLineString(geometry)\n    } else if (geometry.getGeometryType() === 'LinearRing') {\n      return this.convertToLinearRing(geometry)\n    } else if (geometry.getGeometryType() === 'Polygon') {\n      return this.convertToPolygon(geometry)\n    } else if (geometry.getGeometryType() === 'MultiPoint') {\n      return this.convertToMultiPoint(geometry)\n    } else if (geometry.getGeometryType() === 'MultiLineString') {\n      return this.convertToMultiLineString(geometry)\n    } else if (geometry.getGeometryType() === 'MultiPolygon') {\n      return this.convertToMultiPolygon(geometry)\n    } else if (geometry.getGeometryType() === 'GeometryCollection') {\n      return this.convertToCollection(geometry)\n    }\n  },\n\n  convertToPoint (coordinate) {\n    return new this.ol.geom.Point([coordinate.x, coordinate.y])\n  },\n\n  convertToLineString (lineString) {\n    var points = lineString._points._coordinates.map(p2c)\n    return new this.ol.geom.LineString(points)\n  },\n\n  convertToLinearRing (linearRing) {\n    var points = linearRing._points._coordinates.map(p2c)\n    return new this.ol.geom.LinearRing(points)\n  },\n\n  convertToPolygon (polygon) {\n    var rings = [polygon._shell._points._coordinates.map(p2c)]\n    for (let i = 0; i < polygon._holes.length; i++) {\n      rings.push(polygon._holes[i]._points._coordinates.map(p2c))\n    }\n    return new this.ol.geom.Polygon(rings)\n  },\n\n  convertToMultiPoint (multiPoint) {\n    return new this.ol.geom.MultiPoint(multiPoint.getCoordinates().map(p2c))\n  },\n\n  convertToMultiLineString (multiLineString) {\n    var lineStrings = []\n    for (let i = 0; i < multiLineString._geometries.length; i++) {\n      lineStrings.push(this.convertToLineString(multiLineString._geometries[i]).getCoordinates())\n    }\n    return new this.ol.geom.MultiLineString(lineStrings)\n  },\n\n  convertToMultiPolygon (multiPolygon) {\n    var polygons = []\n    for (let i = 0; i < multiPolygon._geometries.length; i++) {\n      polygons.push(this.convertToPolygon(multiPolygon._geometries[i]).getCoordinates())\n    }\n    return new this.ol.geom.MultiPolygon(polygons)\n  },\n\n  convertToCollection (geometryCollection) {\n    var geometries = []\n    for (let i = 0; i < geometryCollection._geometries.length; i++) {\n      var geometry = geometryCollection._geometries[i]\n      geometries.push(this.write(geometry))\n    }\n    return new this.ol.geom.GeometryCollection(geometries)\n  }\n})\n","import extend from '../../../../extend';\nimport Assert from '../util/Assert';\nexport default function SegmentPointComparator() {}\nextend(SegmentPointComparator.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SegmentPointComparator;\n\t}\n});\nSegmentPointComparator.relativeSign = function (x0, x1) {\n\tif (x0 < x1) return -1;\n\tif (x0 > x1) return 1;\n\treturn 0;\n};\nSegmentPointComparator.compare = function (octant, p0, p1) {\n\tif (p0.equals2D(p1)) return 0;\n\tvar xSign = SegmentPointComparator.relativeSign(p0.x, p1.x);\n\tvar ySign = SegmentPointComparator.relativeSign(p0.y, p1.y);\n\tswitch (octant) {\n\t\tcase 0:\n\t\t\treturn SegmentPointComparator.compareValue(xSign, ySign);\n\t\tcase 1:\n\t\t\treturn SegmentPointComparator.compareValue(ySign, xSign);\n\t\tcase 2:\n\t\t\treturn SegmentPointComparator.compareValue(ySign, -xSign);\n\t\tcase 3:\n\t\t\treturn SegmentPointComparator.compareValue(-xSign, ySign);\n\t\tcase 4:\n\t\t\treturn SegmentPointComparator.compareValue(-xSign, -ySign);\n\t\tcase 5:\n\t\t\treturn SegmentPointComparator.compareValue(-ySign, -xSign);\n\t\tcase 6:\n\t\t\treturn SegmentPointComparator.compareValue(-ySign, xSign);\n\t\tcase 7:\n\t\t\treturn SegmentPointComparator.compareValue(xSign, -ySign);\n\t}\n\tAssert.shouldNeverReachHere(\"invalid octant value\");\n\treturn 0;\n};\nSegmentPointComparator.compareValue = function (compareSign0, compareSign1) {\n\tif (compareSign0 < 0) return -1;\n\tif (compareSign0 > 0) return 1;\n\tif (compareSign1 < 0) return -1;\n\tif (compareSign1 > 0) return 1;\n\treturn 0;\n};\n","import Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport SegmentPointComparator from './SegmentPointComparator';\nimport Comparable from '../../../../java/lang/Comparable';\nexport default function SegmentNode() {\n\tthis._segString = null;\n\tthis.coord = null;\n\tthis.segmentIndex = null;\n\tthis._segmentOctant = null;\n\tthis._isInterior = null;\n\tlet segString = arguments[0], coord = arguments[1], segmentIndex = arguments[2], segmentOctant = arguments[3];\n\tthis._segString = segString;\n\tthis.coord = new Coordinate(coord);\n\tthis.segmentIndex = segmentIndex;\n\tthis._segmentOctant = segmentOctant;\n\tthis._isInterior = !coord.equals2D(segString.getCoordinate(segmentIndex));\n}\nextend(SegmentNode.prototype, {\n\tgetCoordinate: function () {\n\t\treturn this.coord;\n\t},\n\tprint: function (out) {\n\t\tout.print(this.coord);\n\t\tout.print(\" seg # = \" + this.segmentIndex);\n\t},\n\tcompareTo: function (obj) {\n\t\tvar other = obj;\n\t\tif (this.segmentIndex < other.segmentIndex) return -1;\n\t\tif (this.segmentIndex > other.segmentIndex) return 1;\n\t\tif (this.coord.equals2D(other.coord)) return 0;\n\t\treturn SegmentPointComparator.compare(this._segmentOctant, this.coord, other.coord);\n\t},\n\tisEndPoint: function (maxSegmentIndex) {\n\t\tif (this.segmentIndex === 0 && !this._isInterior) return true;\n\t\tif (this.segmentIndex === maxSegmentIndex) return true;\n\t\treturn false;\n\t},\n\tisInterior: function () {\n\t\treturn this._isInterior;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn SegmentNode;\n\t}\n});\n","import CoordinateList from '../geom/CoordinateList';\nimport SegmentNode from './SegmentNode';\nimport Iterator from '../../../../java/util/Iterator';\nimport Coordinate from '../geom/Coordinate';\nimport NodedSegmentString from './NodedSegmentString';\nimport extend from '../../../../extend';\nimport Integer from '../../../../java/lang/Integer';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport RuntimeException from '../../../../java/lang/RuntimeException';\nimport Assert from '../util/Assert';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default function SegmentNodeList() {\n\tthis._nodeMap = new TreeMap();\n\tthis._edge = null;\n\tlet edge = arguments[0];\n\tthis._edge = edge;\n}\nextend(SegmentNodeList.prototype, {\n\tgetSplitCoordinates: function () {\n\t\tvar coordList = new CoordinateList();\n\t\tthis.addEndpoints();\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tthis.addEdgeCoordinates(eiPrev, ei, coordList);\n\t\t\teiPrev = ei;\n\t\t}\n\t\treturn coordList.toCoordinateArray();\n\t},\n\taddCollapsedNodes: function () {\n\t\tvar collapsedVertexIndexes = new ArrayList();\n\t\tthis.findCollapsesFromInsertedNodes(collapsedVertexIndexes);\n\t\tthis.findCollapsesFromExistingVertices(collapsedVertexIndexes);\n\t\tfor (var it = collapsedVertexIndexes.iterator(); it.hasNext(); ) {\n\t\t\tvar vertexIndex = it.next().intValue();\n\t\t\tthis.add(this._edge.getCoordinate(vertexIndex), vertexIndex);\n\t\t}\n\t},\n\tprint: function (out) {\n\t\tout.println(\"Intersections:\");\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ei = it.next();\n\t\t\tei.print(out);\n\t\t}\n\t},\n\tfindCollapsesFromExistingVertices: function (collapsedVertexIndexes) {\n\t\tfor (var i = 0; i < this._edge.size() - 2; i++) {\n\t\t\tvar p0 = this._edge.getCoordinate(i);\n\t\t\tvar p1 = this._edge.getCoordinate(i + 1);\n\t\t\tvar p2 = this._edge.getCoordinate(i + 2);\n\t\t\tif (p0.equals2D(p2)) {\n\t\t\t\tcollapsedVertexIndexes.add(new Integer(i + 1));\n\t\t\t}\n\t\t}\n\t},\n\taddEdgeCoordinates: function (ei0, ei1, coordList) {\n\t\tvar npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\t\tvar lastSegStartPt = this._edge.getCoordinate(ei1.segmentIndex);\n\t\tvar useIntPt1 = ei1.isInterior() || !ei1.coord.equals2D(lastSegStartPt);\n\t\tif (!useIntPt1) {\n\t\t\tnpts--;\n\t\t}\n\t\tvar ipt = 0;\n\t\tcoordList.add(new Coordinate(ei0.coord), false);\n\t\tfor (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n\t\t\tcoordList.add(this._edge.getCoordinate(i));\n\t\t}\n\t\tif (useIntPt1) {\n\t\t\tcoordList.add(new Coordinate(ei1.coord));\n\t\t}\n\t},\n\titerator: function () {\n\t\treturn this._nodeMap.values().iterator();\n\t},\n\taddSplitEdges: function (edgeList) {\n\t\tthis.addEndpoints();\n\t\tthis.addCollapsedNodes();\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tvar newEdge = this.createSplitEdge(eiPrev, ei);\n\t\t\tedgeList.add(newEdge);\n\t\t\teiPrev = ei;\n\t\t}\n\t},\n\tfindCollapseIndex: function (ei0, ei1, collapsedVertexIndex) {\n\t\tif (!ei0.coord.equals2D(ei1.coord)) return false;\n\t\tvar numVerticesBetween = ei1.segmentIndex - ei0.segmentIndex;\n\t\tif (!ei1.isInterior()) {\n\t\t\tnumVerticesBetween--;\n\t\t}\n\t\tif (numVerticesBetween === 1) {\n\t\t\tcollapsedVertexIndex[0] = ei0.segmentIndex + 1;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tfindCollapsesFromInsertedNodes: function (collapsedVertexIndexes) {\n\t\tvar collapsedVertexIndex = new Array(1).fill(null);\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tvar isCollapsed = this.findCollapseIndex(eiPrev, ei, collapsedVertexIndex);\n\t\t\tif (isCollapsed) collapsedVertexIndexes.add(new Integer(collapsedVertexIndex[0]));\n\t\t\teiPrev = ei;\n\t\t}\n\t},\n\tgetEdge: function () {\n\t\treturn this._edge;\n\t},\n\taddEndpoints: function () {\n\t\tvar maxSegIndex = this._edge.size() - 1;\n\t\tthis.add(this._edge.getCoordinate(0), 0);\n\t\tthis.add(this._edge.getCoordinate(maxSegIndex), maxSegIndex);\n\t},\n\tcreateSplitEdge: function (ei0, ei1) {\n\t\tvar npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\t\tvar lastSegStartPt = this._edge.getCoordinate(ei1.segmentIndex);\n\t\tvar useIntPt1 = ei1.isInterior() || !ei1.coord.equals2D(lastSegStartPt);\n\t\tif (!useIntPt1) {\n\t\t\tnpts--;\n\t\t}\n\t\tvar pts = new Array(npts).fill(null);\n\t\tvar ipt = 0;\n\t\tpts[ipt++] = new Coordinate(ei0.coord);\n\t\tfor (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n\t\t\tpts[ipt++] = this._edge.getCoordinate(i);\n\t\t}\n\t\tif (useIntPt1) pts[ipt] = new Coordinate(ei1.coord);\n\t\treturn new NodedSegmentString(pts, this._edge.getData());\n\t},\n\tadd: function (intPt, segmentIndex) {\n\t\tvar eiNew = new SegmentNode(this._edge, intPt, segmentIndex, this._edge.getSegmentOctant(segmentIndex));\n\t\tvar ei = this._nodeMap.get(eiNew);\n\t\tif (ei !== null) {\n\t\t\tAssert.isTrue(ei.coord.equals2D(intPt), \"Found equal nodes with different coordinates\");\n\t\t\treturn ei;\n\t\t}\n\t\tthis._nodeMap.put(eiNew, eiNew);\n\t\treturn eiNew;\n\t},\n\tcheckSplitEdgesCorrectness: function (splitEdges) {\n\t\tvar edgePts = this._edge.getCoordinates();\n\t\tvar split0 = splitEdges.get(0);\n\t\tvar pt0 = split0.getCoordinate(0);\n\t\tif (!pt0.equals2D(edgePts[0])) throw new RuntimeException(\"bad split edge start point at \" + pt0);\n\t\tvar splitn = splitEdges.get(splitEdges.size() - 1);\n\t\tvar splitnPts = splitn.getCoordinates();\n\t\tvar ptn = splitnPts[splitnPts.length - 1];\n\t\tif (!ptn.equals2D(edgePts[edgePts.length - 1])) throw new RuntimeException(\"bad split edge end point at \" + ptn);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SegmentNodeList;\n\t}\n});\nfunction NodeVertexIterator() {\n\tthis._nodeList = null;\n\tthis._edge = null;\n\tthis._nodeIt = null;\n\tthis._currNode = null;\n\tthis._nextNode = null;\n\tthis._currSegIndex = 0;\n\tlet nodeList = arguments[0];\n\tthis._nodeList = nodeList;\n\tthis._edge = nodeList.getEdge();\n\tthis._nodeIt = nodeList.iterator();\n\tthis.readNextNode();\n}\nextend(NodeVertexIterator.prototype, {\n\tnext: function () {\n\t\tif (this._currNode === null) {\n\t\t\tthis._currNode = this._nextNode;\n\t\t\tthis._currSegIndex = this._currNode.segmentIndex;\n\t\t\tthis.readNextNode();\n\t\t\treturn this._currNode;\n\t\t}\n\t\tif (this._nextNode === null) return null;\n\t\tif (this._nextNode.segmentIndex === this._currNode.segmentIndex) {\n\t\t\tthis._currNode = this._nextNode;\n\t\t\tthis._currSegIndex = this._currNode.segmentIndex;\n\t\t\tthis.readNextNode();\n\t\t\treturn this._currNode;\n\t\t}\n\t\tif (this._nextNode.segmentIndex > this._currNode.segmentIndex) {}\n\t\treturn null;\n\t},\n\tremove: function () {\n\t\tthrow new UnsupportedOperationException(this.getClass().getName());\n\t},\n\thasNext: function () {\n\t\tif (this._nextNode === null) return false;\n\t\treturn true;\n\t},\n\treadNextNode: function () {\n\t\tif (this._nodeIt.hasNext()) this._nextNode = this._nodeIt.next(); else this._nextNode = null;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Iterator];\n\t},\n\tgetClass: function () {\n\t\treturn NodeVertexIterator;\n\t}\n});\n","import Coordinate from '../geom/Coordinate';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nexport default function Octant() {}\nextend(Octant.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Octant;\n\t}\n});\nOctant.octant = function () {\n\tif (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\tlet dx = arguments[0], dy = arguments[1];\n\t\tif (dx === 0.0 && dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the octant for point ( \" + dx + \", \" + dy + \" )\");\n\t\tvar adx = Math.abs(dx);\n\t\tvar ady = Math.abs(dy);\n\t\tif (dx >= 0) {\n\t\t\tif (dy >= 0) {\n\t\t\t\tif (adx >= ady) return 0; else return 1;\n\t\t\t} else {\n\t\t\t\tif (adx >= ady) return 7; else return 6;\n\t\t\t}\n\t\t} else {\n\t\t\tif (dy >= 0) {\n\t\t\t\tif (adx >= ady) return 3; else return 2;\n\t\t\t} else {\n\t\t\t\tif (adx >= ady) return 4; else return 5;\n\t\t\t}\n\t\t}\n\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\tvar dx = p1.x - p0.x;\n\t\tvar dy = p1.y - p0.y;\n\t\tif (dx === 0.0 && dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the octant for two identical points \" + p0);\n\t\treturn Octant.octant(dx, dy);\n\t}\n};\n","import extend from '../../../../extend';\nexport default function SegmentString() {}\nextend(SegmentString.prototype, {\n\tgetCoordinates: function () {},\n\tsize: function () {},\n\tgetCoordinate: function (i) {},\n\tisClosed: function () {},\n\tsetData: function (data) {},\n\tgetData: function () {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SegmentString;\n\t}\n});\n","import extend from '../../../../extend';\nimport SegmentString from './SegmentString';\nexport default function NodableSegmentString() {}\nextend(NodableSegmentString.prototype, {\n\taddIntersection: function (intPt, segmentIndex) {},\n\tinterfaces_: function () {\n\t\treturn [SegmentString];\n\t},\n\tgetClass: function () {\n\t\treturn NodableSegmentString;\n\t}\n});\n","import SegmentNodeList from './SegmentNodeList';\nimport WKTWriter from '../io/WKTWriter';\nimport CoordinateArraySequence from '../geom/impl/CoordinateArraySequence';\nimport Coordinate from '../geom/Coordinate';\nimport Octant from './Octant';\nimport extend from '../../../../extend';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport NodableSegmentString from './NodableSegmentString';\nexport default function NodedSegmentString() {\n\tthis._nodeList = new SegmentNodeList(this);\n\tthis._pts = null;\n\tthis._data = null;\n\tlet pts = arguments[0], data = arguments[1];\n\tthis._pts = pts;\n\tthis._data = data;\n}\nextend(NodedSegmentString.prototype, {\n\tgetCoordinates: function () {\n\t\treturn this._pts;\n\t},\n\tsize: function () {\n\t\treturn this._pts.length;\n\t},\n\tgetCoordinate: function (i) {\n\t\treturn this._pts[i];\n\t},\n\tisClosed: function () {\n\t\treturn this._pts[0].equals(this._pts[this._pts.length - 1]);\n\t},\n\tgetSegmentOctant: function (index) {\n\t\tif (index === this._pts.length - 1) return -1;\n\t\treturn this.safeOctant(this.getCoordinate(index), this.getCoordinate(index + 1));\n\t},\n\tsetData: function (data) {\n\t\tthis._data = data;\n\t},\n\tsafeOctant: function (p0, p1) {\n\t\tif (p0.equals2D(p1)) return 0;\n\t\treturn Octant.octant(p0, p1);\n\t},\n\tgetData: function () {\n\t\treturn this._data;\n\t},\n\taddIntersection: function () {\n\t\tif (arguments.length === 2) {\n\t\t\tlet intPt = arguments[0], segmentIndex = arguments[1];\n\t\t\tthis.addIntersectionNode(intPt, segmentIndex);\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet li = arguments[0], segmentIndex = arguments[1], geomIndex = arguments[2], intIndex = arguments[3];\n\t\t\tvar intPt = new Coordinate(li.getIntersection(intIndex));\n\t\t\tthis.addIntersection(intPt, segmentIndex);\n\t\t}\n\t},\n\ttoString: function () {\n\t\treturn WKTWriter.toLineString(new CoordinateArraySequence(this._pts));\n\t},\n\tgetNodeList: function () {\n\t\treturn this._nodeList;\n\t},\n\taddIntersectionNode: function (intPt, segmentIndex) {\n\t\tvar normalizedSegmentIndex = segmentIndex;\n\t\tvar nextSegIndex = normalizedSegmentIndex + 1;\n\t\tif (nextSegIndex < this._pts.length) {\n\t\t\tvar nextPt = this._pts[nextSegIndex];\n\t\t\tif (intPt.equals2D(nextPt)) {\n\t\t\t\tnormalizedSegmentIndex = nextSegIndex;\n\t\t\t}\n\t\t}\n\t\tvar ei = this._nodeList.add(intPt, normalizedSegmentIndex);\n\t\treturn ei;\n\t},\n\taddIntersections: function (li, segmentIndex, geomIndex) {\n\t\tfor (var i = 0; i < li.getIntersectionNum(); i++) {\n\t\t\tthis.addIntersection(li, segmentIndex, geomIndex, i);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [NodableSegmentString];\n\t},\n\tgetClass: function () {\n\t\treturn NodedSegmentString;\n\t}\n});\nNodedSegmentString.getNodedSubstrings = function () {\n\tif (arguments.length === 1) {\n\t\tlet segStrings = arguments[0];\n\t\tvar resultEdgelist = new ArrayList();\n\t\tNodedSegmentString.getNodedSubstrings(segStrings, resultEdgelist);\n\t\treturn resultEdgelist;\n\t} else if (arguments.length === 2) {\n\t\tlet segStrings = arguments[0], resultEdgelist = arguments[1];\n\t\tfor (var i = segStrings.iterator(); i.hasNext(); ) {\n\t\t\tvar ss = i.next();\n\t\t\tss.getNodeList().addSplitEdges(resultEdgelist);\n\t\t}\n\t}\n};\n","import extend from '../../../../../extend';\nimport LineSegment from '../../geom/LineSegment';\nexport default function MonotoneChainOverlapAction() {\n\tthis._overlapSeg1 = new LineSegment();\n\tthis._overlapSeg2 = new LineSegment();\n}\nextend(MonotoneChainOverlapAction.prototype, {\n\toverlap: function () {\n\t\tif (arguments.length === 2) {\n\t\t\tlet seg1 = arguments[0], seg2 = arguments[1];\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet mc1 = arguments[0], start1 = arguments[1], mc2 = arguments[2], start2 = arguments[3];\n\t\t\tmc1.getLineSegment(start1, this._overlapSeg1);\n\t\t\tmc2.getLineSegment(start2, this._overlapSeg2);\n\t\t\tthis.overlap(this._overlapSeg1, this._overlapSeg2);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MonotoneChainOverlapAction;\n\t}\n});\n","import extend from '../../../../extend';\nexport default function Noder() {}\nextend(Noder.prototype, {\n\tcomputeNodes: function (segStrings) {},\n\tgetNodedSubstrings: function () {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Noder;\n\t}\n});\n","import Noder from './Noder';\nimport extend from '../../../../extend';\nexport default function SinglePassNoder() {\n\tthis._segInt = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet segInt = arguments[0];\n\t\tthis.setSegmentIntersector(segInt);\n\t}\n}\nextend(SinglePassNoder.prototype, {\n\tsetSegmentIntersector: function (segInt) {\n\t\tthis._segInt = segInt;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Noder];\n\t},\n\tgetClass: function () {\n\t\treturn SinglePassNoder;\n\t}\n});\n","import STRtree from '../index/strtree/STRtree';\nimport NodedSegmentString from './NodedSegmentString';\nimport MonotoneChainOverlapAction from '../index/chain/MonotoneChainOverlapAction';\nimport extend from '../../../../extend';\nimport MonotoneChainBuilder from '../index/chain/MonotoneChainBuilder';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport inherits from '../../../../inherits';\nimport SinglePassNoder from './SinglePassNoder';\nexport default function MCIndexNoder() {\n\tthis._monoChains = new ArrayList();\n\tthis._index = new STRtree();\n\tthis._idCounter = 0;\n\tthis._nodedSegStrings = null;\n\tthis._nOverlaps = 0;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet si = arguments[0];\n\t\tSinglePassNoder.call(this, si);\n\t}\n}\ninherits(MCIndexNoder, SinglePassNoder);\nextend(MCIndexNoder.prototype, {\n\tgetMonotoneChains: function () {\n\t\treturn this._monoChains;\n\t},\n\tgetNodedSubstrings: function () {\n\t\treturn NodedSegmentString.getNodedSubstrings(this._nodedSegStrings);\n\t},\n\tgetIndex: function () {\n\t\treturn this._index;\n\t},\n\tadd: function (segStr) {\n\t\tvar segChains = MonotoneChainBuilder.getChains(segStr.getCoordinates(), segStr);\n\t\tfor (var i = segChains.iterator(); i.hasNext(); ) {\n\t\t\tvar mc = i.next();\n\t\t\tmc.setId(this._idCounter++);\n\t\t\tthis._index.insert(mc.getEnvelope(), mc);\n\t\t\tthis._monoChains.add(mc);\n\t\t}\n\t},\n\tcomputeNodes: function (inputSegStrings) {\n\t\tthis._nodedSegStrings = inputSegStrings;\n\t\tfor (var i = inputSegStrings.iterator(); i.hasNext(); ) {\n\t\t\tthis.add(i.next());\n\t\t}\n\t\tthis.intersectChains();\n\t},\n\tintersectChains: function () {\n\t\tvar overlapAction = new SegmentOverlapAction(this._segInt);\n\t\tfor (var i = this._monoChains.iterator(); i.hasNext(); ) {\n\t\t\tvar queryChain = i.next();\n\t\t\tvar overlapChains = this._index.query(queryChain.getEnvelope());\n\t\t\tfor (var j = overlapChains.iterator(); j.hasNext(); ) {\n\t\t\t\tvar testChain = j.next();\n\t\t\t\tif (testChain.getId() > queryChain.getId()) {\n\t\t\t\t\tqueryChain.computeOverlaps(testChain, overlapAction);\n\t\t\t\t\tthis._nOverlaps++;\n\t\t\t\t}\n\t\t\t\tif (this._segInt.isDone()) return null;\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MCIndexNoder;\n\t}\n});\nfunction SegmentOverlapAction() {\n\tMonotoneChainOverlapAction.apply(this);\n\tthis._si = null;\n\tlet si = arguments[0];\n\tthis._si = si;\n}\ninherits(SegmentOverlapAction, MonotoneChainOverlapAction);\nextend(SegmentOverlapAction.prototype, {\n\toverlap: function () {\n\t\tif (arguments.length === 4) {\n\t\t\tlet mc1 = arguments[0], start1 = arguments[1], mc2 = arguments[2], start2 = arguments[3];\n\t\t\tvar ss1 = mc1.getContext();\n\t\t\tvar ss2 = mc2.getContext();\n\t\t\tthis._si.processIntersections(ss1, start1, ss2, start2);\n\t\t} else return MonotoneChainOverlapAction.prototype.overlap.apply(this, arguments);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SegmentOverlapAction;\n\t}\n});\nMCIndexNoder.SegmentOverlapAction = SegmentOverlapAction;\n","import hasInterface from '../../../../hasInterface';\nimport Collection from '../../../../java/util/Collection';\nimport Noder from './Noder';\nimport Coordinate from '../geom/Coordinate';\nimport NodedSegmentString from './NodedSegmentString';\nimport extend from '../../../../extend';\nimport System from '../../../../java/lang/System';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function ScaledNoder() {\n\tthis._noder = null;\n\tthis._scaleFactor = null;\n\tthis._offsetX = null;\n\tthis._offsetY = null;\n\tthis._isScaled = false;\n\tif (arguments.length === 2) {\n\t\tlet noder = arguments[0], scaleFactor = arguments[1];\n\t\tScaledNoder.call(this, noder, scaleFactor, 0, 0);\n\t} else if (arguments.length === 4) {\n\t\tlet noder = arguments[0], scaleFactor = arguments[1], offsetX = arguments[2], offsetY = arguments[3];\n\t\tthis._noder = noder;\n\t\tthis._scaleFactor = scaleFactor;\n\t\tthis._isScaled = !this.isIntegerPrecision();\n\t}\n}\nextend(ScaledNoder.prototype, {\n\trescale: function () {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet segStrings = arguments[0];\n\t\t\tfor (var i = segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tthis.rescale(ss.getCoordinates());\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tlet pts = arguments[0];\n\t\t\tvar p0 = null;\n\t\t\tvar p1 = null;\n\t\t\tif (pts.length === 2) {\n\t\t\t\tp0 = new Coordinate(pts[0]);\n\t\t\t\tp1 = new Coordinate(pts[1]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\t\tpts[i].x = pts[i].x / this._scaleFactor + this._offsetX;\n\t\t\t\tpts[i].y = pts[i].y / this._scaleFactor + this._offsetY;\n\t\t\t}\n\t\t\tif (pts.length === 2 && pts[0].equals2D(pts[1])) {\n\t\t\t\tSystem.out.println(pts);\n\t\t\t}\n\t\t}\n\t},\n\tscale: function () {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet segStrings = arguments[0];\n\t\t\tvar nodedSegmentStrings = new ArrayList(segStrings.size());\n\t\t\tfor (var i = segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tnodedSegmentStrings.add(new NodedSegmentString(this.scale(ss.getCoordinates()), ss.getData()));\n\t\t\t}\n\t\t\treturn nodedSegmentStrings;\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tlet pts = arguments[0];\n\t\t\tvar roundPts = new Array(pts.length).fill(null);\n\t\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\t\troundPts[i] = new Coordinate(Math.round((pts[i].x - this._offsetX) * this._scaleFactor), Math.round((pts[i].y - this._offsetY) * this._scaleFactor), pts[i].z);\n\t\t\t}\n\t\t\tvar roundPtsNoDup = CoordinateArrays.removeRepeatedPoints(roundPts);\n\t\t\treturn roundPtsNoDup;\n\t\t}\n\t},\n\tisIntegerPrecision: function () {\n\t\treturn this._scaleFactor === 1.0;\n\t},\n\tgetNodedSubstrings: function () {\n\t\tvar splitSS = this._noder.getNodedSubstrings();\n\t\tif (this._isScaled) this.rescale(splitSS);\n\t\treturn splitSS;\n\t},\n\tcomputeNodes: function (inputSegStrings) {\n\t\tvar intSegStrings = inputSegStrings;\n\t\tif (this._isScaled) intSegStrings = this.scale(inputSegStrings);\n\t\tthis._noder.computeNodes(intSegStrings);\n\t},\n\tinterfaces_: function () {\n\t\treturn [Noder];\n\t},\n\tgetClass: function () {\n\t\treturn ScaledNoder;\n\t}\n});\n","import TreeSet from '../../../../java/util/TreeSet';\nimport LineString from '../geom/LineString';\nimport hasInterface from '../../../../hasInterface';\nimport MultiPoint from '../geom/MultiPoint';\nimport extend from '../../../../extend';\nimport GeometryGraph from '../geomgraph/GeometryGraph';\nimport GeometryCollection from '../geom/GeometryCollection';\nimport Polygonal from '../geom/Polygonal';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nimport LinearComponentExtracter from '../geom/util/LinearComponentExtracter';\nimport TreeMap from '../../../../java/util/TreeMap';\nimport MultiLineString from '../geom/MultiLineString';\nexport default function IsSimpleOp() {\n\tthis._inputGeom = null;\n\tthis._isClosedEndpointsInInterior = true;\n\tthis._nonSimpleLocation = null;\n\tif (arguments.length === 1) {\n\t\tlet geom = arguments[0];\n\t\tthis._inputGeom = geom;\n\t} else if (arguments.length === 2) {\n\t\tlet geom = arguments[0], boundaryNodeRule = arguments[1];\n\t\tthis._inputGeom = geom;\n\t\tthis._isClosedEndpointsInInterior = !boundaryNodeRule.isInBoundary(2);\n\t}\n}\nextend(IsSimpleOp.prototype, {\n\tisSimpleMultiPoint: function (mp) {\n\t\tif (mp.isEmpty()) return true;\n\t\tvar points = new TreeSet();\n\t\tfor (var i = 0; i < mp.getNumGeometries(); i++) {\n\t\t\tvar pt = mp.getGeometryN(i);\n\t\t\tvar p = pt.getCoordinate();\n\t\t\tif (points.contains(p)) {\n\t\t\t\tthis._nonSimpleLocation = p;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tpoints.add(p);\n\t\t}\n\t\treturn true;\n\t},\n\tisSimplePolygonal: function (geom) {\n\t\tvar rings = LinearComponentExtracter.getLines(geom);\n\t\tfor (var i = rings.iterator(); i.hasNext(); ) {\n\t\t\tvar ring = i.next();\n\t\t\tif (!this.isSimpleLinearGeometry(ring)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\thasClosedEndpointIntersection: function (graph) {\n\t\tvar endPoints = new TreeMap();\n\t\tfor (var i = graph.getEdgeIterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tvar maxSegmentIndex = e.getMaximumSegmentIndex();\n\t\t\tvar isClosed = e.isClosed();\n\t\t\tvar p0 = e.getCoordinate(0);\n\t\t\tthis.addEndpoint(endPoints, p0, isClosed);\n\t\t\tvar p1 = e.getCoordinate(e.getNumPoints() - 1);\n\t\t\tthis.addEndpoint(endPoints, p1, isClosed);\n\t\t}\n\t\tfor (var i = endPoints.values().iterator(); i.hasNext(); ) {\n\t\t\tvar eiInfo = i.next();\n\t\t\tif (eiInfo.isClosed && eiInfo.degree !== 2) {\n\t\t\t\tthis._nonSimpleLocation = eiInfo.getCoordinate();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tgetNonSimpleLocation: function () {\n\t\treturn this._nonSimpleLocation;\n\t},\n\tisSimpleLinearGeometry: function (geom) {\n\t\tif (geom.isEmpty()) return true;\n\t\tvar graph = new GeometryGraph(0, geom);\n\t\tvar li = new RobustLineIntersector();\n\t\tvar si = graph.computeSelfNodes(li, true);\n\t\tif (!si.hasIntersection()) return true;\n\t\tif (si.hasProperIntersection()) {\n\t\t\tthis._nonSimpleLocation = si.getProperIntersectionPoint();\n\t\t\treturn false;\n\t\t}\n\t\tif (this.hasNonEndpointIntersection(graph)) return false;\n\t\tif (this._isClosedEndpointsInInterior) {\n\t\t\tif (this.hasClosedEndpointIntersection(graph)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\thasNonEndpointIntersection: function (graph) {\n\t\tfor (var i = graph.getEdgeIterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tvar maxSegmentIndex = e.getMaximumSegmentIndex();\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext(); ) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tif (!ei.isEndPoint(maxSegmentIndex)) {\n\t\t\t\t\tthis._nonSimpleLocation = ei.getCoordinate();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\taddEndpoint: function (endPoints, p, isClosed) {\n\t\tvar eiInfo = endPoints.get(p);\n\t\tif (eiInfo === null) {\n\t\t\teiInfo = new EndpointInfo(p);\n\t\t\tendPoints.put(p, eiInfo);\n\t\t}\n\t\teiInfo.addEndpoint(isClosed);\n\t},\n\tcomputeSimple: function (geom) {\n\t\tthis._nonSimpleLocation = null;\n\t\tif (geom.isEmpty()) return true;\n\t\tif (geom instanceof LineString) return this.isSimpleLinearGeometry(geom);\n\t\tif (geom instanceof MultiLineString) return this.isSimpleLinearGeometry(geom);\n\t\tif (geom instanceof MultiPoint) return this.isSimpleMultiPoint(geom);\n\t\tif (hasInterface(geom, Polygonal)) return this.isSimplePolygonal(geom);\n\t\tif (geom instanceof GeometryCollection) return this.isSimpleGeometryCollection(geom);\n\t\treturn true;\n\t},\n\tisSimple: function () {\n\t\tthis._nonSimpleLocation = null;\n\t\treturn this.computeSimple(this._inputGeom);\n\t},\n\tisSimpleGeometryCollection: function (geom) {\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar comp = geom.getGeometryN(i);\n\t\t\tif (!this.computeSimple(comp)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn IsSimpleOp;\n\t}\n});\nIsSimpleOp.isSimple = function () {\n\tif (arguments.length === 1) {\n\t\tlet geom = arguments[0];\n\t\tvar op = new IsSimpleOp(geom);\n\t\treturn op.isSimple();\n\t} else if (arguments.length === 2) {\n\t\tlet geom = arguments[0], boundaryNodeRule = arguments[1];\n\t\tvar op = new IsSimpleOp(geom, boundaryNodeRule);\n\t\treturn op.isSimple();\n\t}\n};\nfunction EndpointInfo() {\n\tthis.pt = null;\n\tthis.isClosed = null;\n\tthis.degree = null;\n\tlet pt = arguments[0];\n\tthis.pt = pt;\n\tthis.isClosed = false;\n\tthis.degree = 0;\n}\nextend(EndpointInfo.prototype, {\n\taddEndpoint: function (isClosed) {\n\t\tthis.degree++;\n\t\tthis.isClosed |= isClosed;\n\t},\n\tgetCoordinate: function () {\n\t\treturn this.pt;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EndpointInfo;\n\t}\n});\nIsSimpleOp.EndpointInfo = EndpointInfo;\n","import extend from '../../../../../extend';\nexport default function BufferParameters() {\n\tthis._quadrantSegments = BufferParameters.DEFAULT_QUADRANT_SEGMENTS;\n\tthis._endCapStyle = BufferParameters.CAP_ROUND;\n\tthis._joinStyle = BufferParameters.JOIN_ROUND;\n\tthis._mitreLimit = BufferParameters.DEFAULT_MITRE_LIMIT;\n\tthis._isSingleSided = false;\n\tthis._simplifyFactor = BufferParameters.DEFAULT_SIMPLIFY_FACTOR;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet quadrantSegments = arguments[0];\n\t\tthis.setQuadrantSegments(quadrantSegments);\n\t} else if (arguments.length === 2) {\n\t\tlet quadrantSegments = arguments[0], endCapStyle = arguments[1];\n\t\tthis.setQuadrantSegments(quadrantSegments);\n\t\tthis.setEndCapStyle(endCapStyle);\n\t} else if (arguments.length === 4) {\n\t\tlet quadrantSegments = arguments[0], endCapStyle = arguments[1], joinStyle = arguments[2], mitreLimit = arguments[3];\n\t\tthis.setQuadrantSegments(quadrantSegments);\n\t\tthis.setEndCapStyle(endCapStyle);\n\t\tthis.setJoinStyle(joinStyle);\n\t\tthis.setMitreLimit(mitreLimit);\n\t}\n}\nextend(BufferParameters.prototype, {\n\tgetEndCapStyle: function () {\n\t\treturn this._endCapStyle;\n\t},\n\tisSingleSided: function () {\n\t\treturn this._isSingleSided;\n\t},\n\tsetQuadrantSegments: function (quadSegs) {\n\t\tthis._quadrantSegments = quadSegs;\n\t\tif (this._quadrantSegments === 0) this._joinStyle = BufferParameters.JOIN_BEVEL;\n\t\tif (this._quadrantSegments < 0) {\n\t\t\tthis._joinStyle = BufferParameters.JOIN_MITRE;\n\t\t\tthis._mitreLimit = Math.abs(this._quadrantSegments);\n\t\t}\n\t\tif (quadSegs <= 0) {\n\t\t\tthis._quadrantSegments = 1;\n\t\t}\n\t\tif (this._joinStyle !== BufferParameters.JOIN_ROUND) {\n\t\t\tthis._quadrantSegments = BufferParameters.DEFAULT_QUADRANT_SEGMENTS;\n\t\t}\n\t},\n\tgetJoinStyle: function () {\n\t\treturn this._joinStyle;\n\t},\n\tsetJoinStyle: function (joinStyle) {\n\t\tthis._joinStyle = joinStyle;\n\t},\n\tsetSimplifyFactor: function (simplifyFactor) {\n\t\tthis._simplifyFactor = simplifyFactor < 0 ? 0 : simplifyFactor;\n\t},\n\tgetSimplifyFactor: function () {\n\t\treturn this._simplifyFactor;\n\t},\n\tgetQuadrantSegments: function () {\n\t\treturn this._quadrantSegments;\n\t},\n\tsetEndCapStyle: function (endCapStyle) {\n\t\tthis._endCapStyle = endCapStyle;\n\t},\n\tgetMitreLimit: function () {\n\t\treturn this._mitreLimit;\n\t},\n\tsetMitreLimit: function (mitreLimit) {\n\t\tthis._mitreLimit = mitreLimit;\n\t},\n\tsetSingleSided: function (isSingleSided) {\n\t\tthis._isSingleSided = isSingleSided;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn BufferParameters;\n\t}\n});\nBufferParameters.bufferDistanceError = function (quadSegs) {\n\tvar alpha = Math.PI / 2.0 / quadSegs;\n\treturn 1 - Math.cos(alpha / 2.0);\n};\nBufferParameters.CAP_ROUND = 1;\nBufferParameters.CAP_FLAT = 2;\nBufferParameters.CAP_SQUARE = 3;\nBufferParameters.JOIN_ROUND = 1;\nBufferParameters.JOIN_MITRE = 2;\nBufferParameters.JOIN_BEVEL = 3;\nBufferParameters.DEFAULT_QUADRANT_SEGMENTS = 8;\nBufferParameters.DEFAULT_MITRE_LIMIT = 5.0;\nBufferParameters.DEFAULT_SIMPLIFY_FACTOR = 0.01;\n","import Position from '../../geomgraph/Position';\nimport extend from '../../../../../extend';\nimport Orientation from '../../algorithm/Orientation';\nimport Assert from '../../util/Assert';\nexport default function RightmostEdgeFinder() {\n\tthis._minIndex = -1;\n\tthis._minCoord = null;\n\tthis._minDe = null;\n\tthis._orientedDe = null;\n}\nextend(RightmostEdgeFinder.prototype, {\n\tgetCoordinate: function () {\n\t\treturn this._minCoord;\n\t},\n\tgetRightmostSide: function (de, index) {\n\t\tvar side = this.getRightmostSideOfSegment(de, index);\n\t\tif (side < 0) side = this.getRightmostSideOfSegment(de, index - 1);\n\t\tif (side < 0) {\n\t\t\tthis._minCoord = null;\n\t\t\tthis.checkForRightmostCoordinate(de);\n\t\t}\n\t\treturn side;\n\t},\n\tfindRightmostEdgeAtVertex: function () {\n\t\tvar pts = this._minDe.getEdge().getCoordinates();\n\t\tAssert.isTrue(this._minIndex > 0 && this._minIndex < pts.length, \"rightmost point expected to be interior vertex of edge\");\n\t\tvar pPrev = pts[this._minIndex - 1];\n\t\tvar pNext = pts[this._minIndex + 1];\n\t\tvar orientation = Orientation.index(this._minCoord, pNext, pPrev);\n\t\tvar usePrev = false;\n\t\tif (pPrev.y < this._minCoord.y && pNext.y < this._minCoord.y && orientation === Orientation.COUNTERCLOCKWISE) {\n\t\t\tusePrev = true;\n\t\t} else if (pPrev.y > this._minCoord.y && pNext.y > this._minCoord.y && orientation === Orientation.CLOCKWISE) {\n\t\t\tusePrev = true;\n\t\t}\n\t\tif (usePrev) {\n\t\t\tthis._minIndex = this._minIndex - 1;\n\t\t}\n\t},\n\tgetRightmostSideOfSegment: function (de, i) {\n\t\tvar e = de.getEdge();\n\t\tvar coord = e.getCoordinates();\n\t\tif (i < 0 || i + 1 >= coord.length) return -1;\n\t\tif (coord[i].y === coord[i + 1].y) return -1;\n\t\tvar pos = Position.LEFT;\n\t\tif (coord[i].y < coord[i + 1].y) pos = Position.RIGHT;\n\t\treturn pos;\n\t},\n\tgetEdge: function () {\n\t\treturn this._orientedDe;\n\t},\n\tcheckForRightmostCoordinate: function (de) {\n\t\tvar coord = de.getEdge().getCoordinates();\n\t\tfor (var i = 0; i < coord.length - 1; i++) {\n\t\t\tif (this._minCoord === null || coord[i].x > this._minCoord.x) {\n\t\t\t\tthis._minDe = de;\n\t\t\t\tthis._minIndex = i;\n\t\t\t\tthis._minCoord = coord[i];\n\t\t\t}\n\t\t}\n\t},\n\tfindRightmostEdgeAtNode: function () {\n\t\tvar node = this._minDe.getNode();\n\t\tvar star = node.getEdges();\n\t\tthis._minDe = star.getRightmostEdge();\n\t\tif (!this._minDe.isForward()) {\n\t\t\tthis._minDe = this._minDe.getSym();\n\t\t\tthis._minIndex = this._minDe.getEdge().getCoordinates().length - 1;\n\t\t}\n\t},\n\tfindEdge: function (dirEdgeList) {\n\t\tfor (var i = dirEdgeList.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (!de.isForward()) continue;\n\t\t\tthis.checkForRightmostCoordinate(de);\n\t\t}\n\t\tAssert.isTrue(this._minIndex !== 0 || this._minCoord.equals(this._minDe.getCoordinate()), \"inconsistency in rightmost processing\");\n\t\tif (this._minIndex === 0) {\n\t\t\tthis.findRightmostEdgeAtNode();\n\t\t} else {\n\t\t\tthis.findRightmostEdgeAtVertex();\n\t\t}\n\t\tthis._orientedDe = this._minDe;\n\t\tvar rightmostSide = this.getRightmostSide(this._minDe, this._minIndex);\n\t\tif (rightmostSide === Position.LEFT) {\n\t\t\tthis._orientedDe = this._minDe.getSym();\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RightmostEdgeFinder;\n\t}\n});\n","export default function LinkedList () {\n  this.array_ = []\n}\nLinkedList.prototype.addLast = function (e) {\n  this.array_.push(e)\n}\nLinkedList.prototype.removeFirst = function () {\n  return this.array_.shift()\n}\nLinkedList.prototype.isEmpty = function () {\n  return this.array_.length === 0\n}\n","import HashSet from '../../../../../java/util/HashSet';\nimport Position from '../../geomgraph/Position';\nimport Stack from '../../../../../java/util/Stack';\nimport RightmostEdgeFinder from './RightmostEdgeFinder';\nimport TopologyException from '../../geom/TopologyException';\nimport extend from '../../../../../extend';\nimport LinkedList from '../../../../../java/util/LinkedList';\nimport Comparable from '../../../../../java/lang/Comparable';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Envelope from '../../geom/Envelope';\nexport default function BufferSubgraph() {\n\tthis._finder = null;\n\tthis._dirEdgeList = new ArrayList();\n\tthis._nodes = new ArrayList();\n\tthis._rightMostCoord = null;\n\tthis._env = null;\n\tthis._finder = new RightmostEdgeFinder();\n}\nextend(BufferSubgraph.prototype, {\n\tclearVisitedEdges: function () {\n\t\tfor (var it = this._dirEdgeList.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tde.setVisited(false);\n\t\t}\n\t},\n\tgetRightmostCoordinate: function () {\n\t\treturn this._rightMostCoord;\n\t},\n\tcomputeNodeDepth: function (n) {\n\t\tvar startEdge = null;\n\t\tfor (var i = n.getEdges().iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.isVisited() || de.getSym().isVisited()) {\n\t\t\t\tstartEdge = de;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (startEdge === null) throw new TopologyException(\"unable to find edge to compute depths at \" + n.getCoordinate());\n\t\tn.getEdges().computeDepths(startEdge);\n\t\tfor (var i = n.getEdges().iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tde.setVisited(true);\n\t\t\tthis.copySymDepths(de);\n\t\t}\n\t},\n\tcomputeDepth: function (outsideDepth) {\n\t\tthis.clearVisitedEdges();\n\t\tvar de = this._finder.getEdge();\n\t\tvar n = de.getNode();\n\t\tvar label = de.getLabel();\n\t\tde.setEdgeDepths(Position.RIGHT, outsideDepth);\n\t\tthis.copySymDepths(de);\n\t\tthis.computeDepths(de);\n\t},\n\tcreate: function (node) {\n\t\tthis.addReachable(node);\n\t\tthis._finder.findEdge(this._dirEdgeList);\n\t\tthis._rightMostCoord = this._finder.getCoordinate();\n\t},\n\tfindResultEdges: function () {\n\t\tfor (var it = this._dirEdgeList.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.getDepth(Position.RIGHT) >= 1 && de.getDepth(Position.LEFT) <= 0 && !de.isInteriorAreaEdge()) {\n\t\t\t\tde.setInResult(true);\n\t\t\t}\n\t\t}\n\t},\n\tcomputeDepths: function (startEdge) {\n\t\tvar nodesVisited = new HashSet();\n\t\tvar nodeQueue = new LinkedList();\n\t\tvar startNode = startEdge.getNode();\n\t\tnodeQueue.addLast(startNode);\n\t\tnodesVisited.add(startNode);\n\t\tstartEdge.setVisited(true);\n\t\twhile (!nodeQueue.isEmpty()) {\n\t\t\tvar n = nodeQueue.removeFirst();\n\t\t\tnodesVisited.add(n);\n\t\t\tthis.computeNodeDepth(n);\n\t\t\tfor (var i = n.getEdges().iterator(); i.hasNext(); ) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tvar sym = de.getSym();\n\t\t\t\tif (sym.isVisited()) continue;\n\t\t\t\tvar adjNode = sym.getNode();\n\t\t\t\tif (!nodesVisited.contains(adjNode)) {\n\t\t\t\t\tnodeQueue.addLast(adjNode);\n\t\t\t\t\tnodesVisited.add(adjNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcompareTo: function (o) {\n\t\tvar graph = o;\n\t\tif (this._rightMostCoord.x < graph._rightMostCoord.x) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (this._rightMostCoord.x > graph._rightMostCoord.x) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t},\n\tgetEnvelope: function () {\n\t\tif (this._env === null) {\n\t\t\tvar edgeEnv = new Envelope();\n\t\t\tfor (var it = this._dirEdgeList.iterator(); it.hasNext(); ) {\n\t\t\t\tvar dirEdge = it.next();\n\t\t\t\tvar pts = dirEdge.getEdge().getCoordinates();\n\t\t\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\t\t\tedgeEnv.expandToInclude(pts[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._env = edgeEnv;\n\t\t}\n\t\treturn this._env;\n\t},\n\taddReachable: function (startNode) {\n\t\tvar nodeStack = new Stack();\n\t\tnodeStack.add(startNode);\n\t\twhile (!nodeStack.empty()) {\n\t\t\tvar node = nodeStack.pop();\n\t\t\tthis.add(node, nodeStack);\n\t\t}\n\t},\n\tcopySymDepths: function (de) {\n\t\tvar sym = de.getSym();\n\t\tsym.setDepth(Position.LEFT, de.getDepth(Position.RIGHT));\n\t\tsym.setDepth(Position.RIGHT, de.getDepth(Position.LEFT));\n\t},\n\tadd: function (node, nodeStack) {\n\t\tnode.setVisited(true);\n\t\tthis._nodes.add(node);\n\t\tfor (var i = node.getEdges().iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tthis._dirEdgeList.add(de);\n\t\t\tvar sym = de.getSym();\n\t\t\tvar symNode = sym.getNode();\n\t\t\tif (!symNode.isVisited()) nodeStack.push(symNode);\n\t\t}\n\t},\n\tgetNodes: function () {\n\t\treturn this._nodes;\n\t},\n\tgetDirectedEdges: function () {\n\t\treturn this._dirEdgeList;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn BufferSubgraph;\n\t}\n});\n","import Location from '../geom/Location';\nimport Position from './Position';\nimport PointLocation from '../algorithm/PointLocation';\nimport TopologyException from '../geom/TopologyException';\nimport extend from '../../../../extend';\nimport Orientation from '../algorithm/Orientation';\nimport Label from './Label';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Assert from '../util/Assert';\nexport default function EdgeRing() {\n\tthis._startDe = null;\n\tthis._maxNodeDegree = -1;\n\tthis._edges = new ArrayList();\n\tthis._pts = new ArrayList();\n\tthis._label = new Label(Location.NONE);\n\tthis._ring = null;\n\tthis._isHole = null;\n\tthis._shell = null;\n\tthis._holes = new ArrayList();\n\tthis._geometryFactory = null;\n\tlet start = arguments[0], geometryFactory = arguments[1];\n\tthis._geometryFactory = geometryFactory;\n\tthis.computePoints(start);\n\tthis.computeRing();\n}\nextend(EdgeRing.prototype, {\n\tcomputeRing: function () {\n\t\tif (this._ring !== null) return null;\n\t\tvar coord = new Array(this._pts.size()).fill(null);\n\t\tfor (var i = 0; i < this._pts.size(); i++) {\n\t\t\tcoord[i] = this._pts.get(i);\n\t\t}\n\t\tthis._ring = this._geometryFactory.createLinearRing(coord);\n\t\tthis._isHole = Orientation.isCCW(this._ring.getCoordinates());\n\t},\n\tisIsolated: function () {\n\t\treturn this._label.getGeometryCount() === 1;\n\t},\n\tcomputePoints: function (start) {\n\t\tthis._startDe = start;\n\t\tvar de = start;\n\t\tvar isFirstEdge = true;\n\t\tdo {\n\t\t\tif (de === null) throw new TopologyException(\"Found null DirectedEdge\");\n\t\t\tif (de.getEdgeRing() === this) throw new TopologyException(\"Directed Edge visited twice during ring-building at \" + de.getCoordinate());\n\t\t\tthis._edges.add(de);\n\t\t\tvar label = de.getLabel();\n\t\t\tAssert.isTrue(label.isArea());\n\t\t\tthis.mergeLabel(label);\n\t\t\tthis.addPoints(de.getEdge(), de.isForward(), isFirstEdge);\n\t\t\tisFirstEdge = false;\n\t\t\tthis.setEdgeRing(de, this);\n\t\t\tde = this.getNext(de);\n\t\t} while (de !== this._startDe);\n\t},\n\tgetLinearRing: function () {\n\t\treturn this._ring;\n\t},\n\tgetCoordinate: function (i) {\n\t\treturn this._pts.get(i);\n\t},\n\tcomputeMaxNodeDegree: function () {\n\t\tthis._maxNodeDegree = 0;\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tvar node = de.getNode();\n\t\t\tvar degree = node.getEdges().getOutgoingDegree(this);\n\t\t\tif (degree > this._maxNodeDegree) this._maxNodeDegree = degree;\n\t\t\tde = this.getNext(de);\n\t\t} while (de !== this._startDe);\n\t\tthis._maxNodeDegree *= 2;\n\t},\n\taddPoints: function (edge, isForward, isFirstEdge) {\n\t\tvar edgePts = edge.getCoordinates();\n\t\tif (isForward) {\n\t\t\tvar startIndex = 1;\n\t\t\tif (isFirstEdge) startIndex = 0;\n\t\t\tfor (var i = startIndex; i < edgePts.length; i++) {\n\t\t\t\tthis._pts.add(edgePts[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tvar startIndex = edgePts.length - 2;\n\t\t\tif (isFirstEdge) startIndex = edgePts.length - 1;\n\t\t\tfor (var i = startIndex; i >= 0; i--) {\n\t\t\t\tthis._pts.add(edgePts[i]);\n\t\t\t}\n\t\t}\n\t},\n\tisHole: function () {\n\t\treturn this._isHole;\n\t},\n\tsetInResult: function () {\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tde.getEdge().setInResult(true);\n\t\t\tde = de.getNext();\n\t\t} while (de !== this._startDe);\n\t},\n\tcontainsPoint: function (p) {\n\t\tvar shell = this.getLinearRing();\n\t\tvar env = shell.getEnvelopeInternal();\n\t\tif (!env.contains(p)) return false;\n\t\tif (!PointLocation.isInRing(p, shell.getCoordinates())) return false;\n\t\tfor (var i = this._holes.iterator(); i.hasNext(); ) {\n\t\t\tvar hole = i.next();\n\t\t\tif (hole.containsPoint(p)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\taddHole: function (ring) {\n\t\tthis._holes.add(ring);\n\t},\n\tisShell: function () {\n\t\treturn this._shell === null;\n\t},\n\tgetLabel: function () {\n\t\treturn this._label;\n\t},\n\tgetEdges: function () {\n\t\treturn this._edges;\n\t},\n\tgetMaxNodeDegree: function () {\n\t\tif (this._maxNodeDegree < 0) this.computeMaxNodeDegree();\n\t\treturn this._maxNodeDegree;\n\t},\n\tgetShell: function () {\n\t\treturn this._shell;\n\t},\n\tmergeLabel: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet deLabel = arguments[0];\n\t\t\tthis.mergeLabel(deLabel, 0);\n\t\t\tthis.mergeLabel(deLabel, 1);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet deLabel = arguments[0], geomIndex = arguments[1];\n\t\t\tvar loc = deLabel.getLocation(geomIndex, Position.RIGHT);\n\t\t\tif (loc === Location.NONE) return null;\n\t\t\tif (this._label.getLocation(geomIndex) === Location.NONE) {\n\t\t\t\tthis._label.setLocation(geomIndex, loc);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tsetShell: function (shell) {\n\t\tthis._shell = shell;\n\t\tif (shell !== null) shell.addHole(this);\n\t},\n\ttoPolygon: function (geometryFactory) {\n\t\tvar holeLR = new Array(this._holes.size()).fill(null);\n\t\tfor (var i = 0; i < this._holes.size(); i++) {\n\t\t\tholeLR[i] = this._holes.get(i).getLinearRing();\n\t\t}\n\t\tvar poly = geometryFactory.createPolygon(this.getLinearRing(), holeLR);\n\t\treturn poly;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeRing;\n\t}\n});\n","import extend from '../../../../../extend';\nimport EdgeRing from '../../geomgraph/EdgeRing';\nimport inherits from '../../../../../inherits';\nexport default function MinimalEdgeRing() {\n\tlet start = arguments[0], geometryFactory = arguments[1];\n\tEdgeRing.call(this, start, geometryFactory);\n}\ninherits(MinimalEdgeRing, EdgeRing);\nextend(MinimalEdgeRing.prototype, {\n\tsetEdgeRing: function (de, er) {\n\t\tde.setMinEdgeRing(er);\n\t},\n\tgetNext: function (de) {\n\t\treturn de.getNextMin();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MinimalEdgeRing;\n\t}\n});\n","import MinimalEdgeRing from './MinimalEdgeRing';\nimport extend from '../../../../../extend';\nimport EdgeRing from '../../geomgraph/EdgeRing';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport inherits from '../../../../../inherits';\nexport default function MaximalEdgeRing() {\n\tlet start = arguments[0], geometryFactory = arguments[1];\n\tEdgeRing.call(this, start, geometryFactory);\n}\ninherits(MaximalEdgeRing, EdgeRing);\nextend(MaximalEdgeRing.prototype, {\n\tbuildMinimalRings: function () {\n\t\tvar minEdgeRings = new ArrayList();\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tif (de.getMinEdgeRing() === null) {\n\t\t\t\tvar minEr = new MinimalEdgeRing(de, this._geometryFactory);\n\t\t\t\tminEdgeRings.add(minEr);\n\t\t\t}\n\t\t\tde = de.getNext();\n\t\t} while (de !== this._startDe);\n\t\treturn minEdgeRings;\n\t},\n\tsetEdgeRing: function (de, er) {\n\t\tde.setEdgeRing(er);\n\t},\n\tlinkDirectedEdgesForMinimalEdgeRings: function () {\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tvar node = de.getNode();\n\t\t\tnode.getEdges().linkMinimalDirectedEdges(this);\n\t\t\tde = de.getNext();\n\t\t} while (de !== this._startDe);\n\t},\n\tgetNext: function (de) {\n\t\treturn de.getNext();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MaximalEdgeRing;\n\t}\n});\n","import PointLocation from '../../algorithm/PointLocation';\nimport TopologyException from '../../geom/TopologyException';\nimport extend from '../../../../../extend';\nimport MaximalEdgeRing from './MaximalEdgeRing';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport PlanarGraph from '../../geomgraph/PlanarGraph';\nexport default function PolygonBuilder() {\n\tthis._geometryFactory = null;\n\tthis._shellList = new ArrayList();\n\tlet geometryFactory = arguments[0];\n\tthis._geometryFactory = geometryFactory;\n}\nextend(PolygonBuilder.prototype, {\n\tsortShellsAndHoles: function (edgeRings, shellList, freeHoleList) {\n\t\tfor (var it = edgeRings.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.isHole()) {\n\t\t\t\tfreeHoleList.add(er);\n\t\t\t} else {\n\t\t\t\tshellList.add(er);\n\t\t\t}\n\t\t}\n\t},\n\tcomputePolygons: function (shellList) {\n\t\tvar resultPolyList = new ArrayList();\n\t\tfor (var it = shellList.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tvar poly = er.toPolygon(this._geometryFactory);\n\t\t\tresultPolyList.add(poly);\n\t\t}\n\t\treturn resultPolyList;\n\t},\n\tplaceFreeHoles: function (shellList, freeHoleList) {\n\t\tfor (var it = freeHoleList.iterator(); it.hasNext(); ) {\n\t\t\tvar hole = it.next();\n\t\t\tif (hole.getShell() === null) {\n\t\t\t\tvar shell = this.findEdgeRingContaining(hole, shellList);\n\t\t\t\tif (shell === null) throw new TopologyException(\"unable to assign hole to a shell\", hole.getCoordinate(0));\n\t\t\t\thole.setShell(shell);\n\t\t\t}\n\t\t}\n\t},\n\tbuildMinimalEdgeRings: function (maxEdgeRings, shellList, freeHoleList) {\n\t\tvar edgeRings = new ArrayList();\n\t\tfor (var it = maxEdgeRings.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.getMaxNodeDegree() > 2) {\n\t\t\t\ter.linkDirectedEdgesForMinimalEdgeRings();\n\t\t\t\tvar minEdgeRings = er.buildMinimalRings();\n\t\t\t\tvar shell = this.findShell(minEdgeRings);\n\t\t\t\tif (shell !== null) {\n\t\t\t\t\tthis.placePolygonHoles(shell, minEdgeRings);\n\t\t\t\t\tshellList.add(shell);\n\t\t\t\t} else {\n\t\t\t\t\tfreeHoleList.addAll(minEdgeRings);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tedgeRings.add(er);\n\t\t\t}\n\t\t}\n\t\treturn edgeRings;\n\t},\n\tcontainsPoint: function (p) {\n\t\tfor (var it = this._shellList.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.containsPoint(p)) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tbuildMaximalEdgeRings: function (dirEdges) {\n\t\tvar maxEdgeRings = new ArrayList();\n\t\tfor (var it = dirEdges.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.isInResult() && de.getLabel().isArea()) {\n\t\t\t\tif (de.getEdgeRing() === null) {\n\t\t\t\t\tvar er = new MaximalEdgeRing(de, this._geometryFactory);\n\t\t\t\t\tmaxEdgeRings.add(er);\n\t\t\t\t\ter.setInResult();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn maxEdgeRings;\n\t},\n\tplacePolygonHoles: function (shell, minEdgeRings) {\n\t\tfor (var it = minEdgeRings.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.isHole()) {\n\t\t\t\ter.setShell(shell);\n\t\t\t}\n\t\t}\n\t},\n\tgetPolygons: function () {\n\t\tvar resultPolyList = this.computePolygons(this._shellList);\n\t\treturn resultPolyList;\n\t},\n\tfindEdgeRingContaining: function (testEr, shellList) {\n\t\tvar testRing = testEr.getLinearRing();\n\t\tvar testEnv = testRing.getEnvelopeInternal();\n\t\tvar testPt = testRing.getCoordinateN(0);\n\t\tvar minShell = null;\n\t\tvar minEnv = null;\n\t\tfor (var it = shellList.iterator(); it.hasNext(); ) {\n\t\t\tvar tryShell = it.next();\n\t\t\tvar tryRing = tryShell.getLinearRing();\n\t\t\tvar tryEnv = tryRing.getEnvelopeInternal();\n\t\t\tif (minShell !== null) minEnv = minShell.getLinearRing().getEnvelopeInternal();\n\t\t\tvar isContained = false;\n\t\t\tif (tryEnv.contains(testEnv) && PointLocation.isInRing(testPt, tryRing.getCoordinates())) isContained = true;\n\t\t\tif (isContained) {\n\t\t\t\tif (minShell === null || minEnv.contains(tryEnv)) {\n\t\t\t\t\tminShell = tryShell;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn minShell;\n\t},\n\tfindShell: function (minEdgeRings) {\n\t\tvar shellCount = 0;\n\t\tvar shell = null;\n\t\tfor (var it = minEdgeRings.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tif (!er.isHole()) {\n\t\t\t\tshell = er;\n\t\t\t\tshellCount++;\n\t\t\t}\n\t\t}\n\t\tAssert.isTrue(shellCount <= 1, \"found two shells in MinimalEdgeRing list\");\n\t\treturn shell;\n\t},\n\tadd: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet graph = arguments[0];\n\t\t\tthis.add(graph.getEdgeEnds(), graph.getNodes());\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet dirEdges = arguments[0], nodes = arguments[1];\n\t\t\tPlanarGraph.linkResultDirectedEdges(nodes);\n\t\t\tvar maxEdgeRings = this.buildMaximalEdgeRings(dirEdges);\n\t\t\tvar freeHoleList = new ArrayList();\n\t\t\tvar edgeRings = this.buildMinimalEdgeRings(maxEdgeRings, this._shellList, freeHoleList);\n\t\t\tthis.sortShellsAndHoles(edgeRings, this._shellList, freeHoleList);\n\t\t\tthis.placeFreeHoles(this._shellList, freeHoleList);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PolygonBuilder;\n\t}\n});\n","import CoordinateList from '../../geom/CoordinateList';\nimport extend from '../../../../../extend';\nimport Orientation from '../../algorithm/Orientation';\nimport Distance from '../../algorithm/Distance';\nexport default function BufferInputLineSimplifier() {\n\tthis._inputLine = null;\n\tthis._distanceTol = null;\n\tthis._isDeleted = null;\n\tthis._angleOrientation = Orientation.COUNTERCLOCKWISE;\n\tlet inputLine = arguments[0];\n\tthis._inputLine = inputLine;\n}\nextend(BufferInputLineSimplifier.prototype, {\n\tisDeletable: function (i0, i1, i2, distanceTol) {\n\t\tvar p0 = this._inputLine[i0];\n\t\tvar p1 = this._inputLine[i1];\n\t\tvar p2 = this._inputLine[i2];\n\t\tif (!this.isConcave(p0, p1, p2)) return false;\n\t\tif (!this.isShallow(p0, p1, p2, distanceTol)) return false;\n\t\treturn this.isShallowSampled(p0, p1, i0, i2, distanceTol);\n\t},\n\tdeleteShallowConcavities: function () {\n\t\tvar index = 1;\n\t\tvar maxIndex = this._inputLine.length - 1;\n\t\tvar midIndex = this.findNextNonDeletedIndex(index);\n\t\tvar lastIndex = this.findNextNonDeletedIndex(midIndex);\n\t\tvar isChanged = false;\n\t\twhile (lastIndex < this._inputLine.length) {\n\t\t\tvar isMiddleVertexDeleted = false;\n\t\t\tif (this.isDeletable(index, midIndex, lastIndex, this._distanceTol)) {\n\t\t\t\tthis._isDeleted[midIndex] = BufferInputLineSimplifier.DELETE;\n\t\t\t\tisMiddleVertexDeleted = true;\n\t\t\t\tisChanged = true;\n\t\t\t}\n\t\t\tif (isMiddleVertexDeleted) index = lastIndex; else index = midIndex;\n\t\t\tmidIndex = this.findNextNonDeletedIndex(index);\n\t\t\tlastIndex = this.findNextNonDeletedIndex(midIndex);\n\t\t}\n\t\treturn isChanged;\n\t},\n\tisShallowConcavity: function (p0, p1, p2, distanceTol) {\n\t\tvar orientation = Orientation.index(p0, p1, p2);\n\t\tvar isAngleToSimplify = orientation === this._angleOrientation;\n\t\tif (!isAngleToSimplify) return false;\n\t\tvar dist = Distance.pointToSegment(p1, p0, p2);\n\t\treturn dist < distanceTol;\n\t},\n\tisShallowSampled: function (p0, p2, i0, i2, distanceTol) {\n\t\tvar inc = Math.trunc((i2 - i0) / BufferInputLineSimplifier.NUM_PTS_TO_CHECK);\n\t\tif (inc <= 0) inc = 1;\n\t\tfor (var i = i0; i < i2; i += inc) {\n\t\t\tif (!this.isShallow(p0, p2, this._inputLine[i], distanceTol)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tisConcave: function (p0, p1, p2) {\n\t\tvar orientation = Orientation.index(p0, p1, p2);\n\t\tvar isConcave = orientation === this._angleOrientation;\n\t\treturn isConcave;\n\t},\n\tsimplify: function (distanceTol) {\n\t\tthis._distanceTol = Math.abs(distanceTol);\n\t\tif (distanceTol < 0) this._angleOrientation = Orientation.CLOCKWISE;\n\t\tthis._isDeleted = new Array(this._inputLine.length).fill(null);\n\t\tvar isChanged = false;\n\t\tdo {\n\t\t\tisChanged = this.deleteShallowConcavities();\n\t\t} while (isChanged);\n\t\treturn this.collapseLine();\n\t},\n\tfindNextNonDeletedIndex: function (index) {\n\t\tvar next = index + 1;\n\t\twhile (next < this._inputLine.length && this._isDeleted[next] === BufferInputLineSimplifier.DELETE) next++;\n\t\treturn next;\n\t},\n\tisShallow: function (p0, p1, p2, distanceTol) {\n\t\tvar dist = Distance.pointToSegment(p1, p0, p2);\n\t\treturn dist < distanceTol;\n\t},\n\tcollapseLine: function () {\n\t\tvar coordList = new CoordinateList();\n\t\tfor (var i = 0; i < this._inputLine.length; i++) {\n\t\t\tif (this._isDeleted[i] !== BufferInputLineSimplifier.DELETE) coordList.add(this._inputLine[i]);\n\t\t}\n\t\treturn coordList.toCoordinateArray();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn BufferInputLineSimplifier;\n\t}\n});\nBufferInputLineSimplifier.simplify = function (inputLine, distanceTol) {\n\tvar simp = new BufferInputLineSimplifier(inputLine);\n\treturn simp.simplify(distanceTol);\n};\nBufferInputLineSimplifier.INIT = 0;\nBufferInputLineSimplifier.DELETE = 1;\nBufferInputLineSimplifier.KEEP = 1;\nBufferInputLineSimplifier.NUM_PTS_TO_CHECK = 10;\n","import GeometryFactory from '../../geom/GeometryFactory';\nimport Coordinate from '../../geom/Coordinate';\nimport extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default function OffsetSegmentString() {\n\tthis._ptList = null;\n\tthis._precisionModel = null;\n\tthis._minimimVertexDistance = 0.0;\n\tthis._ptList = new ArrayList();\n}\nextend(OffsetSegmentString.prototype, {\n\tgetCoordinates: function () {\n\t\tvar coord = this._ptList.toArray(OffsetSegmentString.COORDINATE_ARRAY_TYPE);\n\t\treturn coord;\n\t},\n\tsetPrecisionModel: function (precisionModel) {\n\t\tthis._precisionModel = precisionModel;\n\t},\n\taddPt: function (pt) {\n\t\tvar bufPt = new Coordinate(pt);\n\t\tthis._precisionModel.makePrecise(bufPt);\n\t\tif (this.isRedundant(bufPt)) return null;\n\t\tthis._ptList.add(bufPt);\n\t},\n\treverse: function () {},\n\taddPts: function (pt, isForward) {\n\t\tif (isForward) {\n\t\t\tfor (var i = 0; i < pt.length; i++) {\n\t\t\t\tthis.addPt(pt[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = pt.length - 1; i >= 0; i--) {\n\t\t\t\tthis.addPt(pt[i]);\n\t\t\t}\n\t\t}\n\t},\n\tisRedundant: function (pt) {\n\t\tif (this._ptList.size() < 1) return false;\n\t\tvar lastPt = this._ptList.get(this._ptList.size() - 1);\n\t\tvar ptDist = pt.distance(lastPt);\n\t\tif (ptDist < this._minimimVertexDistance) return true;\n\t\treturn false;\n\t},\n\ttoString: function () {\n\t\tvar fact = new GeometryFactory();\n\t\tvar line = fact.createLineString(this.getCoordinates());\n\t\treturn line.toString();\n\t},\n\tcloseRing: function () {\n\t\tif (this._ptList.size() < 1) return null;\n\t\tvar startPt = new Coordinate(this._ptList.get(0));\n\t\tvar lastPt = this._ptList.get(this._ptList.size() - 1);\n\t\tvar last2Pt = null;\n\t\tif (this._ptList.size() >= 2) last2Pt = this._ptList.get(this._ptList.size() - 2);\n\t\tif (startPt.equals(lastPt)) return null;\n\t\tthis._ptList.add(startPt);\n\t},\n\tsetMinimumVertexDistance: function (minimimVertexDistance) {\n\t\tthis._minimimVertexDistance = minimimVertexDistance;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn OffsetSegmentString;\n\t}\n});\nOffsetSegmentString.COORDINATE_ARRAY_TYPE = new Array(0).fill(null);\n","import BufferParameters from './BufferParameters';\nimport NotRepresentableException from '../../algorithm/NotRepresentableException';\nimport Position from '../../geomgraph/Position';\nimport Coordinate from '../../geom/Coordinate';\nimport extend from '../../../../../extend';\nimport Orientation from '../../algorithm/Orientation';\nimport OffsetSegmentString from './OffsetSegmentString';\nimport LineSegment from '../../geom/LineSegment';\nimport Angle from '../../algorithm/Angle';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nimport HCoordinate from '../../algorithm/HCoordinate';\nexport default function OffsetSegmentGenerator() {\n\tthis._maxCurveSegmentError = 0.0;\n\tthis._filletAngleQuantum = null;\n\tthis._closingSegLengthFactor = 1;\n\tthis._segList = null;\n\tthis._distance = 0.0;\n\tthis._precisionModel = null;\n\tthis._bufParams = null;\n\tthis._li = null;\n\tthis._s0 = null;\n\tthis._s1 = null;\n\tthis._s2 = null;\n\tthis._seg0 = new LineSegment();\n\tthis._seg1 = new LineSegment();\n\tthis._offset0 = new LineSegment();\n\tthis._offset1 = new LineSegment();\n\tthis._side = 0;\n\tthis._hasNarrowConcaveAngle = false;\n\tlet precisionModel = arguments[0], bufParams = arguments[1], distance = arguments[2];\n\tthis._precisionModel = precisionModel;\n\tthis._bufParams = bufParams;\n\tthis._li = new RobustLineIntersector();\n\tthis._filletAngleQuantum = Math.PI / 2.0 / bufParams.getQuadrantSegments();\n\tif (bufParams.getQuadrantSegments() >= 8 && bufParams.getJoinStyle() === BufferParameters.JOIN_ROUND) this._closingSegLengthFactor = OffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR;\n\tthis.init(distance);\n}\nextend(OffsetSegmentGenerator.prototype, {\n\taddNextSegment: function (p, addStartPoint) {\n\t\tthis._s0 = this._s1;\n\t\tthis._s1 = this._s2;\n\t\tthis._s2 = p;\n\t\tthis._seg0.setCoordinates(this._s0, this._s1);\n\t\tthis.computeOffsetSegment(this._seg0, this._side, this._distance, this._offset0);\n\t\tthis._seg1.setCoordinates(this._s1, this._s2);\n\t\tthis.computeOffsetSegment(this._seg1, this._side, this._distance, this._offset1);\n\t\tif (this._s1.equals(this._s2)) return null;\n\t\tvar orientation = Orientation.index(this._s0, this._s1, this._s2);\n\t\tvar outsideTurn = orientation === Orientation.CLOCKWISE && this._side === Position.LEFT || orientation === Orientation.COUNTERCLOCKWISE && this._side === Position.RIGHT;\n\t\tif (orientation === 0) {\n\t\t\tthis.addCollinear(addStartPoint);\n\t\t} else if (outsideTurn) {\n\t\t\tthis.addOutsideTurn(orientation, addStartPoint);\n\t\t} else {\n\t\t\tthis.addInsideTurn(orientation, addStartPoint);\n\t\t}\n\t},\n\taddLineEndCap: function (p0, p1) {\n\t\tvar seg = new LineSegment(p0, p1);\n\t\tvar offsetL = new LineSegment();\n\t\tthis.computeOffsetSegment(seg, Position.LEFT, this._distance, offsetL);\n\t\tvar offsetR = new LineSegment();\n\t\tthis.computeOffsetSegment(seg, Position.RIGHT, this._distance, offsetR);\n\t\tvar dx = p1.x - p0.x;\n\t\tvar dy = p1.y - p0.y;\n\t\tvar angle = Math.atan2(dy, dx);\n\t\tswitch (this._bufParams.getEndCapStyle()) {\n\t\t\tcase BufferParameters.CAP_ROUND:\n\t\t\t\tthis._segList.addPt(offsetL.p1);\n\t\t\t\tthis.addDirectedFillet(p1, angle + Math.PI / 2, angle - Math.PI / 2, Orientation.CLOCKWISE, this._distance);\n\t\t\t\tthis._segList.addPt(offsetR.p1);\n\t\t\t\tbreak;\n\t\t\tcase BufferParameters.CAP_FLAT:\n\t\t\t\tthis._segList.addPt(offsetL.p1);\n\t\t\t\tthis._segList.addPt(offsetR.p1);\n\t\t\t\tbreak;\n\t\t\tcase BufferParameters.CAP_SQUARE:\n\t\t\t\tvar squareCapSideOffset = new Coordinate();\n\t\t\t\tsquareCapSideOffset.x = Math.abs(this._distance) * Math.cos(angle);\n\t\t\t\tsquareCapSideOffset.y = Math.abs(this._distance) * Math.sin(angle);\n\t\t\t\tvar squareCapLOffset = new Coordinate(offsetL.p1.x + squareCapSideOffset.x, offsetL.p1.y + squareCapSideOffset.y);\n\t\t\t\tvar squareCapROffset = new Coordinate(offsetR.p1.x + squareCapSideOffset.x, offsetR.p1.y + squareCapSideOffset.y);\n\t\t\t\tthis._segList.addPt(squareCapLOffset);\n\t\t\t\tthis._segList.addPt(squareCapROffset);\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tgetCoordinates: function () {\n\t\tvar pts = this._segList.getCoordinates();\n\t\treturn pts;\n\t},\n\taddMitreJoin: function (p, offset0, offset1, distance) {\n\t\tvar isMitreWithinLimit = true;\n\t\tvar intPt = null;\n\t\ttry {\n\t\t\tintPt = HCoordinate.intersection(offset0.p0, offset0.p1, offset1.p0, offset1.p1);\n\t\t\tvar mitreRatio = distance <= 0.0 ? 1.0 : intPt.distance(p) / Math.abs(distance);\n\t\t\tif (mitreRatio > this._bufParams.getMitreLimit()) isMitreWithinLimit = false;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof NotRepresentableException) {\n\t\t\t\tintPt = new Coordinate(0, 0);\n\t\t\t\tisMitreWithinLimit = false;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\tif (isMitreWithinLimit) {\n\t\t\tthis._segList.addPt(intPt);\n\t\t} else {\n\t\t\tthis.addLimitedMitreJoin(offset0, offset1, distance, this._bufParams.getMitreLimit());\n\t\t}\n\t},\n\taddOutsideTurn: function (orientation, addStartPoint) {\n\t\tif (this._offset0.p1.distance(this._offset1.p0) < this._distance * OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR) {\n\t\t\tthis._segList.addPt(this._offset0.p1);\n\t\t\treturn null;\n\t\t}\n\t\tif (this._bufParams.getJoinStyle() === BufferParameters.JOIN_MITRE) {\n\t\t\tthis.addMitreJoin(this._s1, this._offset0, this._offset1, this._distance);\n\t\t} else if (this._bufParams.getJoinStyle() === BufferParameters.JOIN_BEVEL) {\n\t\t\tthis.addBevelJoin(this._offset0, this._offset1);\n\t\t} else {\n\t\t\tif (addStartPoint) this._segList.addPt(this._offset0.p1);\n\t\t\tthis.addCornerFillet(this._s1, this._offset0.p1, this._offset1.p0, orientation, this._distance);\n\t\t\tthis._segList.addPt(this._offset1.p0);\n\t\t}\n\t},\n\tcreateSquare: function (p) {\n\t\tthis._segList.addPt(new Coordinate(p.x + this._distance, p.y + this._distance));\n\t\tthis._segList.addPt(new Coordinate(p.x + this._distance, p.y - this._distance));\n\t\tthis._segList.addPt(new Coordinate(p.x - this._distance, p.y - this._distance));\n\t\tthis._segList.addPt(new Coordinate(p.x - this._distance, p.y + this._distance));\n\t\tthis._segList.closeRing();\n\t},\n\taddSegments: function (pt, isForward) {\n\t\tthis._segList.addPts(pt, isForward);\n\t},\n\taddFirstSegment: function () {\n\t\tthis._segList.addPt(this._offset1.p0);\n\t},\n\taddCornerFillet: function (p, p0, p1, direction, radius) {\n\t\tvar dx0 = p0.x - p.x;\n\t\tvar dy0 = p0.y - p.y;\n\t\tvar startAngle = Math.atan2(dy0, dx0);\n\t\tvar dx1 = p1.x - p.x;\n\t\tvar dy1 = p1.y - p.y;\n\t\tvar endAngle = Math.atan2(dy1, dx1);\n\t\tif (direction === Orientation.CLOCKWISE) {\n\t\t\tif (startAngle <= endAngle) startAngle += 2.0 * Math.PI;\n\t\t} else {\n\t\t\tif (startAngle >= endAngle) startAngle -= 2.0 * Math.PI;\n\t\t}\n\t\tthis._segList.addPt(p0);\n\t\tthis.addDirectedFillet(p, startAngle, endAngle, direction, radius);\n\t\tthis._segList.addPt(p1);\n\t},\n\taddLastSegment: function () {\n\t\tthis._segList.addPt(this._offset1.p1);\n\t},\n\tinitSideSegments: function (s1, s2, side) {\n\t\tthis._s1 = s1;\n\t\tthis._s2 = s2;\n\t\tthis._side = side;\n\t\tthis._seg1.setCoordinates(s1, s2);\n\t\tthis.computeOffsetSegment(this._seg1, side, this._distance, this._offset1);\n\t},\n\taddLimitedMitreJoin: function (offset0, offset1, distance, mitreLimit) {\n\t\tvar basePt = this._seg0.p1;\n\t\tvar ang0 = Angle.angle(basePt, this._seg0.p0);\n\t\tvar ang1 = Angle.angle(basePt, this._seg1.p1);\n\t\tvar angDiff = Angle.angleBetweenOriented(this._seg0.p0, basePt, this._seg1.p1);\n\t\tvar angDiffHalf = angDiff / 2;\n\t\tvar midAng = Angle.normalize(ang0 + angDiffHalf);\n\t\tvar mitreMidAng = Angle.normalize(midAng + Math.PI);\n\t\tvar mitreDist = mitreLimit * distance;\n\t\tvar bevelDelta = mitreDist * Math.abs(Math.sin(angDiffHalf));\n\t\tvar bevelHalfLen = distance - bevelDelta;\n\t\tvar bevelMidX = basePt.x + mitreDist * Math.cos(mitreMidAng);\n\t\tvar bevelMidY = basePt.y + mitreDist * Math.sin(mitreMidAng);\n\t\tvar bevelMidPt = new Coordinate(bevelMidX, bevelMidY);\n\t\tvar mitreMidLine = new LineSegment(basePt, bevelMidPt);\n\t\tvar bevelEndLeft = mitreMidLine.pointAlongOffset(1.0, bevelHalfLen);\n\t\tvar bevelEndRight = mitreMidLine.pointAlongOffset(1.0, -bevelHalfLen);\n\t\tif (this._side === Position.LEFT) {\n\t\t\tthis._segList.addPt(bevelEndLeft);\n\t\t\tthis._segList.addPt(bevelEndRight);\n\t\t} else {\n\t\t\tthis._segList.addPt(bevelEndRight);\n\t\t\tthis._segList.addPt(bevelEndLeft);\n\t\t}\n\t},\n\taddDirectedFillet: function (p, startAngle, endAngle, direction, radius) {\n\t\tvar directionFactor = direction === Orientation.CLOCKWISE ? -1 : 1;\n\t\tvar totalAngle = Math.abs(startAngle - endAngle);\n\t\tvar nSegs = Math.trunc(totalAngle / this._filletAngleQuantum + 0.5);\n\t\tif (nSegs < 1) return null;\n\t\tvar initAngle = null, currAngleInc = null;\n\t\tinitAngle = 0.0;\n\t\tcurrAngleInc = totalAngle / nSegs;\n\t\tvar currAngle = initAngle;\n\t\tvar pt = new Coordinate();\n\t\twhile (currAngle < totalAngle) {\n\t\t\tvar angle = startAngle + directionFactor * currAngle;\n\t\t\tpt.x = p.x + radius * Math.cos(angle);\n\t\t\tpt.y = p.y + radius * Math.sin(angle);\n\t\t\tthis._segList.addPt(pt);\n\t\t\tcurrAngle += currAngleInc;\n\t\t}\n\t},\n\tcomputeOffsetSegment: function (seg, side, distance, offset) {\n\t\tvar sideSign = side === Position.LEFT ? 1 : -1;\n\t\tvar dx = seg.p1.x - seg.p0.x;\n\t\tvar dy = seg.p1.y - seg.p0.y;\n\t\tvar len = Math.sqrt(dx * dx + dy * dy);\n\t\tvar ux = sideSign * distance * dx / len;\n\t\tvar uy = sideSign * distance * dy / len;\n\t\toffset.p0.x = seg.p0.x - uy;\n\t\toffset.p0.y = seg.p0.y + ux;\n\t\toffset.p1.x = seg.p1.x - uy;\n\t\toffset.p1.y = seg.p1.y + ux;\n\t},\n\taddInsideTurn: function (orientation, addStartPoint) {\n\t\tthis._li.computeIntersection(this._offset0.p0, this._offset0.p1, this._offset1.p0, this._offset1.p1);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tthis._segList.addPt(this._li.getIntersection(0));\n\t\t} else {\n\t\t\tthis._hasNarrowConcaveAngle = true;\n\t\t\tif (this._offset0.p1.distance(this._offset1.p0) < this._distance * OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR) {\n\t\t\t\tthis._segList.addPt(this._offset0.p1);\n\t\t\t} else {\n\t\t\t\tthis._segList.addPt(this._offset0.p1);\n\t\t\t\tif (this._closingSegLengthFactor > 0) {\n\t\t\t\t\tvar mid0 = new Coordinate((this._closingSegLengthFactor * this._offset0.p1.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset0.p1.y + this._s1.y) / (this._closingSegLengthFactor + 1));\n\t\t\t\t\tthis._segList.addPt(mid0);\n\t\t\t\t\tvar mid1 = new Coordinate((this._closingSegLengthFactor * this._offset1.p0.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset1.p0.y + this._s1.y) / (this._closingSegLengthFactor + 1));\n\t\t\t\t\tthis._segList.addPt(mid1);\n\t\t\t\t} else {\n\t\t\t\t\tthis._segList.addPt(this._s1);\n\t\t\t\t}\n\t\t\t\tthis._segList.addPt(this._offset1.p0);\n\t\t\t}\n\t\t}\n\t},\n\tcreateCircle: function (p) {\n\t\tvar pt = new Coordinate(p.x + this._distance, p.y);\n\t\tthis._segList.addPt(pt);\n\t\tthis.addDirectedFillet(p, 0.0, 2.0 * Math.PI, -1, this._distance);\n\t\tthis._segList.closeRing();\n\t},\n\taddBevelJoin: function (offset0, offset1) {\n\t\tthis._segList.addPt(offset0.p1);\n\t\tthis._segList.addPt(offset1.p0);\n\t},\n\tinit: function (distance) {\n\t\tthis._distance = distance;\n\t\tthis._maxCurveSegmentError = distance * (1 - Math.cos(this._filletAngleQuantum / 2.0));\n\t\tthis._segList = new OffsetSegmentString();\n\t\tthis._segList.setPrecisionModel(this._precisionModel);\n\t\tthis._segList.setMinimumVertexDistance(distance * OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR);\n\t},\n\taddCollinear: function (addStartPoint) {\n\t\tthis._li.computeIntersection(this._s0, this._s1, this._s1, this._s2);\n\t\tvar numInt = this._li.getIntersectionNum();\n\t\tif (numInt >= 2) {\n\t\t\tif (this._bufParams.getJoinStyle() === BufferParameters.JOIN_BEVEL || this._bufParams.getJoinStyle() === BufferParameters.JOIN_MITRE) {\n\t\t\t\tif (addStartPoint) this._segList.addPt(this._offset0.p1);\n\t\t\t\tthis._segList.addPt(this._offset1.p0);\n\t\t\t} else {\n\t\t\t\tthis.addCornerFillet(this._s1, this._offset0.p1, this._offset1.p0, Orientation.CLOCKWISE, this._distance);\n\t\t\t}\n\t\t}\n\t},\n\tcloseRing: function () {\n\t\tthis._segList.closeRing();\n\t},\n\thasNarrowConcaveAngle: function () {\n\t\treturn this._hasNarrowConcaveAngle;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn OffsetSegmentGenerator;\n\t}\n});\nOffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR = 1.0E-3;\nOffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR = 1.0E-3;\nOffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR = 1.0E-6;\nOffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR = 80;\n","import BufferParameters from './BufferParameters';\nimport Position from '../../geomgraph/Position';\nimport Coordinate from '../../geom/Coordinate';\nimport extend from '../../../../../extend';\nimport BufferInputLineSimplifier from './BufferInputLineSimplifier';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport OffsetSegmentGenerator from './OffsetSegmentGenerator';\nexport default function OffsetCurveBuilder() {\n\tthis._distance = 0.0;\n\tthis._precisionModel = null;\n\tthis._bufParams = null;\n\tlet precisionModel = arguments[0], bufParams = arguments[1];\n\tthis._precisionModel = precisionModel;\n\tthis._bufParams = bufParams;\n}\nextend(OffsetCurveBuilder.prototype, {\n\tgetOffsetCurve: function (inputPts, distance) {\n\t\tthis._distance = distance;\n\t\tif (distance === 0.0) return null;\n\t\tvar isRightSide = distance < 0.0;\n\t\tvar posDistance = Math.abs(distance);\n\t\tvar segGen = this.getSegGen(posDistance);\n\t\tif (inputPts.length <= 1) {\n\t\t\tthis.computePointCurve(inputPts[0], segGen);\n\t\t} else {\n\t\t\tthis.computeOffsetCurve(inputPts, isRightSide, segGen);\n\t\t}\n\t\tvar curvePts = segGen.getCoordinates();\n\t\tif (isRightSide) CoordinateArrays.reverse(curvePts);\n\t\treturn curvePts;\n\t},\n\tcomputeSingleSidedBufferCurve: function (inputPts, isRightSide, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tif (isRightSide) {\n\t\t\tsegGen.addSegments(inputPts, true);\n\t\t\tvar simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n\t\t\tvar n2 = simp2.length - 1;\n\t\t\tsegGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = n2 - 2; i >= 0; i--) {\n\t\t\t\tsegGen.addNextSegment(simp2[i], true);\n\t\t\t}\n\t\t} else {\n\t\t\tsegGen.addSegments(inputPts, false);\n\t\t\tvar simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\t\tvar n1 = simp1.length - 1;\n\t\t\tsegGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = 2; i <= n1; i++) {\n\t\t\t\tsegGen.addNextSegment(simp1[i], true);\n\t\t\t}\n\t\t}\n\t\tsegGen.addLastSegment();\n\t\tsegGen.closeRing();\n\t},\n\tcomputeRingBufferCurve: function (inputPts, side, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tif (side === Position.RIGHT) distTol = -distTol;\n\t\tvar simp = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\tvar n = simp.length - 1;\n\t\tsegGen.initSideSegments(simp[n - 1], simp[0], side);\n\t\tfor (var i = 1; i <= n; i++) {\n\t\t\tvar addStartPoint = i !== 1;\n\t\t\tsegGen.addNextSegment(simp[i], addStartPoint);\n\t\t}\n\t\tsegGen.closeRing();\n\t},\n\tcomputeLineBufferCurve: function (inputPts, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tvar simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\tvar n1 = simp1.length - 1;\n\t\tsegGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n\t\tfor (var i = 2; i <= n1; i++) {\n\t\t\tsegGen.addNextSegment(simp1[i], true);\n\t\t}\n\t\tsegGen.addLastSegment();\n\t\tsegGen.addLineEndCap(simp1[n1 - 1], simp1[n1]);\n\t\tvar simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n\t\tvar n2 = simp2.length - 1;\n\t\tsegGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n\t\tfor (var i = n2 - 2; i >= 0; i--) {\n\t\t\tsegGen.addNextSegment(simp2[i], true);\n\t\t}\n\t\tsegGen.addLastSegment();\n\t\tsegGen.addLineEndCap(simp2[1], simp2[0]);\n\t\tsegGen.closeRing();\n\t},\n\tcomputePointCurve: function (pt, segGen) {\n\t\tswitch (this._bufParams.getEndCapStyle()) {\n\t\t\tcase BufferParameters.CAP_ROUND:\n\t\t\t\tsegGen.createCircle(pt);\n\t\t\t\tbreak;\n\t\t\tcase BufferParameters.CAP_SQUARE:\n\t\t\t\tsegGen.createSquare(pt);\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tgetLineCurve: function (inputPts, distance) {\n\t\tthis._distance = distance;\n\t\tif (distance < 0.0 && !this._bufParams.isSingleSided()) return null;\n\t\tif (distance === 0.0) return null;\n\t\tvar posDistance = Math.abs(distance);\n\t\tvar segGen = this.getSegGen(posDistance);\n\t\tif (inputPts.length <= 1) {\n\t\t\tthis.computePointCurve(inputPts[0], segGen);\n\t\t} else {\n\t\t\tif (this._bufParams.isSingleSided()) {\n\t\t\t\tvar isRightSide = distance < 0.0;\n\t\t\t\tthis.computeSingleSidedBufferCurve(inputPts, isRightSide, segGen);\n\t\t\t} else this.computeLineBufferCurve(inputPts, segGen);\n\t\t}\n\t\tvar lineCoord = segGen.getCoordinates();\n\t\treturn lineCoord;\n\t},\n\tgetBufferParameters: function () {\n\t\treturn this._bufParams;\n\t},\n\tsimplifyTolerance: function (bufDistance) {\n\t\treturn bufDistance * this._bufParams.getSimplifyFactor();\n\t},\n\tgetRingCurve: function (inputPts, side, distance) {\n\t\tthis._distance = distance;\n\t\tif (inputPts.length <= 2) return this.getLineCurve(inputPts, distance);\n\t\tif (distance === 0.0) {\n\t\t\treturn OffsetCurveBuilder.copyCoordinates(inputPts);\n\t\t}\n\t\tvar segGen = this.getSegGen(distance);\n\t\tthis.computeRingBufferCurve(inputPts, side, segGen);\n\t\treturn segGen.getCoordinates();\n\t},\n\tcomputeOffsetCurve: function (inputPts, isRightSide, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tif (isRightSide) {\n\t\t\tvar simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n\t\t\tvar n2 = simp2.length - 1;\n\t\t\tsegGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = n2 - 2; i >= 0; i--) {\n\t\t\t\tsegGen.addNextSegment(simp2[i], true);\n\t\t\t}\n\t\t} else {\n\t\t\tvar simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\t\tvar n1 = simp1.length - 1;\n\t\t\tsegGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = 2; i <= n1; i++) {\n\t\t\t\tsegGen.addNextSegment(simp1[i], true);\n\t\t\t}\n\t\t}\n\t\tsegGen.addLastSegment();\n\t},\n\tgetSegGen: function (distance) {\n\t\treturn new OffsetSegmentGenerator(this._precisionModel, this._bufParams, distance);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn OffsetCurveBuilder;\n\t}\n});\nOffsetCurveBuilder.copyCoordinates = function (pts) {\n\tvar copy = new Array(pts.length).fill(null);\n\tfor (var i = 0; i < copy.length; i++) {\n\t\tcopy[i] = new Coordinate(pts[i]);\n\t}\n\treturn copy;\n};\n","import hasInterface from '../../../../../hasInterface';\nimport Position from '../../geomgraph/Position';\nimport Coordinate from '../../geom/Coordinate';\nimport extend from '../../../../../extend';\nimport Orientation from '../../algorithm/Orientation';\nimport Collections from '../../../../../java/util/Collections';\nimport DirectedEdge from '../../geomgraph/DirectedEdge';\nimport LineSegment from '../../geom/LineSegment';\nimport Comparable from '../../../../../java/lang/Comparable';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport List from '../../../../../java/util/List';\nexport default function SubgraphDepthLocater() {\n\tthis._subgraphs = null;\n\tthis._seg = new LineSegment();\n\tlet subgraphs = arguments[0];\n\tthis._subgraphs = subgraphs;\n}\nextend(SubgraphDepthLocater.prototype, {\n\tfindStabbedSegments: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet stabbingRayLeftPt = arguments[0];\n\t\t\tvar stabbedSegments = new ArrayList();\n\t\t\tfor (var i = this._subgraphs.iterator(); i.hasNext(); ) {\n\t\t\t\tvar bsg = i.next();\n\t\t\t\tvar env = bsg.getEnvelope();\n\t\t\t\tif (stabbingRayLeftPt.y < env.getMinY() || stabbingRayLeftPt.y > env.getMaxY()) continue;\n\t\t\t\tthis.findStabbedSegments(stabbingRayLeftPt, bsg.getDirectedEdges(), stabbedSegments);\n\t\t\t}\n\t\t\treturn stabbedSegments;\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (hasInterface(arguments[2], List) && (arguments[0] instanceof Coordinate && arguments[1] instanceof DirectedEdge)) {\n\t\t\t\tlet stabbingRayLeftPt = arguments[0], dirEdge = arguments[1], stabbedSegments = arguments[2];\n\t\t\t\tvar pts = dirEdge.getEdge().getCoordinates();\n\t\t\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\t\t\tthis._seg.p0 = pts[i];\n\t\t\t\t\tthis._seg.p1 = pts[i + 1];\n\t\t\t\t\tif (this._seg.p0.y > this._seg.p1.y) this._seg.reverse();\n\t\t\t\t\tvar maxx = Math.max(this._seg.p0.x, this._seg.p1.x);\n\t\t\t\t\tif (maxx < stabbingRayLeftPt.x) continue;\n\t\t\t\t\tif (this._seg.isHorizontal()) continue;\n\t\t\t\t\tif (stabbingRayLeftPt.y < this._seg.p0.y || stabbingRayLeftPt.y > this._seg.p1.y) continue;\n\t\t\t\t\tif (Orientation.index(this._seg.p0, this._seg.p1, stabbingRayLeftPt) === Orientation.RIGHT) continue;\n\t\t\t\t\tvar depth = dirEdge.getDepth(Position.LEFT);\n\t\t\t\t\tif (!this._seg.p0.equals(pts[i])) depth = dirEdge.getDepth(Position.RIGHT);\n\t\t\t\t\tvar ds = new DepthSegment(this._seg, depth);\n\t\t\t\t\tstabbedSegments.add(ds);\n\t\t\t\t}\n\t\t\t} else if (hasInterface(arguments[2], List) && (arguments[0] instanceof Coordinate && hasInterface(arguments[1], List))) {\n\t\t\t\tlet stabbingRayLeftPt = arguments[0], dirEdges = arguments[1], stabbedSegments = arguments[2];\n\t\t\t\tfor (var i = dirEdges.iterator(); i.hasNext(); ) {\n\t\t\t\t\tvar de = i.next();\n\t\t\t\t\tif (!de.isForward()) continue;\n\t\t\t\t\tthis.findStabbedSegments(stabbingRayLeftPt, de, stabbedSegments);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetDepth: function (p) {\n\t\tvar stabbedSegments = this.findStabbedSegments(p);\n\t\tif (stabbedSegments.size() === 0) return 0;\n\t\tvar ds = Collections.min(stabbedSegments);\n\t\treturn ds._leftDepth;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SubgraphDepthLocater;\n\t}\n});\nfunction DepthSegment() {\n\tthis._upwardSeg = null;\n\tthis._leftDepth = null;\n\tlet seg = arguments[0], depth = arguments[1];\n\tthis._upwardSeg = new LineSegment(seg);\n\tthis._leftDepth = depth;\n}\nextend(DepthSegment.prototype, {\n\tcompareTo: function (obj) {\n\t\tvar other = obj;\n\t\tif (this._upwardSeg.minX() >= other._upwardSeg.maxX()) return 1;\n\t\tif (this._upwardSeg.maxX() <= other._upwardSeg.minX()) return -1;\n\t\tvar orientIndex = this._upwardSeg.orientationIndex(other._upwardSeg);\n\t\tif (orientIndex !== 0) return orientIndex;\n\t\torientIndex = -1 * other._upwardSeg.orientationIndex(this._upwardSeg);\n\t\tif (orientIndex !== 0) return orientIndex;\n\t\treturn this._upwardSeg.compareTo(other._upwardSeg);\n\t},\n\tcompareX: function (seg0, seg1) {\n\t\tvar compare0 = seg0.p0.compareTo(seg1.p0);\n\t\tif (compare0 !== 0) return compare0;\n\t\treturn seg0.p1.compareTo(seg1.p1);\n\t},\n\ttoString: function () {\n\t\treturn this._upwardSeg.toString();\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn DepthSegment;\n\t}\n});\nSubgraphDepthLocater.DepthSegment = DepthSegment;\n","import Location from '../../geom/Location';\nimport LineString from '../../geom/LineString';\nimport Position from '../../geomgraph/Position';\nimport Point from '../../geom/Point';\nimport NodedSegmentString from '../../noding/NodedSegmentString';\nimport Polygon from '../../geom/Polygon';\nimport MultiPoint from '../../geom/MultiPoint';\nimport LinearRing from '../../geom/LinearRing';\nimport extend from '../../../../../extend';\nimport Orientation from '../../algorithm/Orientation';\nimport MultiPolygon from '../../geom/MultiPolygon';\nimport Label from '../../geomgraph/Label';\nimport GeometryCollection from '../../geom/GeometryCollection';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Distance from '../../algorithm/Distance';\nimport MultiLineString from '../../geom/MultiLineString';\nimport Triangle from '../../geom/Triangle';\nexport default function OffsetCurveSetBuilder() {\n\tthis._inputGeom = null;\n\tthis._distance = null;\n\tthis._curveBuilder = null;\n\tthis._curveList = new ArrayList();\n\tlet inputGeom = arguments[0], distance = arguments[1], curveBuilder = arguments[2];\n\tthis._inputGeom = inputGeom;\n\tthis._distance = distance;\n\tthis._curveBuilder = curveBuilder;\n}\nextend(OffsetCurveSetBuilder.prototype, {\n\taddPoint: function (p) {\n\t\tif (this._distance <= 0.0) return null;\n\t\tvar coord = p.getCoordinates();\n\t\tvar curve = this._curveBuilder.getLineCurve(coord, this._distance);\n\t\tthis.addCurve(curve, Location.EXTERIOR, Location.INTERIOR);\n\t},\n\taddPolygon: function (p) {\n\t\tvar offsetDistance = this._distance;\n\t\tvar offsetSide = Position.LEFT;\n\t\tif (this._distance < 0.0) {\n\t\t\toffsetDistance = -this._distance;\n\t\t\toffsetSide = Position.RIGHT;\n\t\t}\n\t\tvar shell = p.getExteriorRing();\n\t\tvar shellCoord = CoordinateArrays.removeRepeatedPoints(shell.getCoordinates());\n\t\tif (this._distance < 0.0 && this.isErodedCompletely(shell, this._distance)) return null;\n\t\tif (this._distance <= 0.0 && shellCoord.length < 3) return null;\n\t\tthis.addPolygonRing(shellCoord, offsetDistance, offsetSide, Location.EXTERIOR, Location.INTERIOR);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tvar holeCoord = CoordinateArrays.removeRepeatedPoints(hole.getCoordinates());\n\t\t\tif (this._distance > 0.0 && this.isErodedCompletely(hole, -this._distance)) continue;\n\t\t\tthis.addPolygonRing(holeCoord, offsetDistance, Position.opposite(offsetSide), Location.INTERIOR, Location.EXTERIOR);\n\t\t}\n\t},\n\tisTriangleErodedCompletely: function (triangleCoord, bufferDistance) {\n\t\tvar tri = new Triangle(triangleCoord[0], triangleCoord[1], triangleCoord[2]);\n\t\tvar inCentre = tri.inCentre();\n\t\tvar distToCentre = Distance.pointToSegment(inCentre, tri.p0, tri.p1);\n\t\treturn distToCentre < Math.abs(bufferDistance);\n\t},\n\taddLineString: function (line) {\n\t\tif (this._distance <= 0.0 && !this._curveBuilder.getBufferParameters().isSingleSided()) return null;\n\t\tvar coord = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\t\tvar curve = this._curveBuilder.getLineCurve(coord, this._distance);\n\t\tthis.addCurve(curve, Location.EXTERIOR, Location.INTERIOR);\n\t},\n\taddCurve: function (coord, leftLoc, rightLoc) {\n\t\tif (coord === null || coord.length < 2) return null;\n\t\tvar e = new NodedSegmentString(coord, new Label(0, Location.BOUNDARY, leftLoc, rightLoc));\n\t\tthis._curveList.add(e);\n\t},\n\tgetCurves: function () {\n\t\tthis.add(this._inputGeom);\n\t\treturn this._curveList;\n\t},\n\taddPolygonRing: function (coord, offsetDistance, side, cwLeftLoc, cwRightLoc) {\n\t\tif (offsetDistance === 0.0 && coord.length < LinearRing.MINIMUM_VALID_SIZE) return null;\n\t\tvar leftLoc = cwLeftLoc;\n\t\tvar rightLoc = cwRightLoc;\n\t\tif (coord.length >= LinearRing.MINIMUM_VALID_SIZE && Orientation.isCCW(coord)) {\n\t\t\tleftLoc = cwRightLoc;\n\t\t\trightLoc = cwLeftLoc;\n\t\t\tside = Position.opposite(side);\n\t\t}\n\t\tvar curve = this._curveBuilder.getRingCurve(coord, side, offsetDistance);\n\t\tthis.addCurve(curve, leftLoc, rightLoc);\n\t},\n\tadd: function (g) {\n\t\tif (g.isEmpty()) return null;\n\t\tif (g instanceof Polygon) this.addPolygon(g); else if (g instanceof LineString) this.addLineString(g); else if (g instanceof Point) this.addPoint(g); else if (g instanceof MultiPoint) this.addCollection(g); else if (g instanceof MultiLineString) this.addCollection(g); else if (g instanceof MultiPolygon) this.addCollection(g); else if (g instanceof GeometryCollection) this.addCollection(g); else throw new UnsupportedOperationException(g.getClass().getName());\n\t},\n\tisErodedCompletely: function (ring, bufferDistance) {\n\t\tvar ringCoord = ring.getCoordinates();\n\t\tvar minDiam = 0.0;\n\t\tif (ringCoord.length < 4) return bufferDistance < 0;\n\t\tif (ringCoord.length === 4) return this.isTriangleErodedCompletely(ringCoord, bufferDistance);\n\t\tvar env = ring.getEnvelopeInternal();\n\t\tvar envMinDimension = Math.min(env.getHeight(), env.getWidth());\n\t\tif (bufferDistance < 0.0 && 2 * Math.abs(bufferDistance) > envMinDimension) return true;\n\t\treturn false;\n\t},\n\taddCollection: function (gc) {\n\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\tvar g = gc.getGeometryN(i);\n\t\t\tthis.add(g);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn OffsetCurveSetBuilder;\n\t}\n});\n","import StringBuffer from '../../../../java/lang/StringBuffer';\nimport Location from '../geom/Location';\nimport Position from './Position';\nimport TopologyException from '../geom/TopologyException';\nimport extend from '../../../../extend';\nimport System from '../../../../java/lang/System';\nimport SimplePointInAreaLocator from '../algorithm/locate/SimplePointInAreaLocator';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Assert from '../util/Assert';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default function EdgeEndStar() {\n\tthis._edgeMap = new TreeMap();\n\tthis._edgeList = null;\n\tthis._ptInAreaLocation = [Location.NONE, Location.NONE];\n}\nextend(EdgeEndStar.prototype, {\n\tgetNextCW: function (ee) {\n\t\tthis.getEdges();\n\t\tvar i = this._edgeList.indexOf(ee);\n\t\tvar iNextCW = i - 1;\n\t\tif (i === 0) iNextCW = this._edgeList.size() - 1;\n\t\treturn this._edgeList.get(iNextCW);\n\t},\n\tpropagateSideLabels: function (geomIndex) {\n\t\tvar startLoc = Location.NONE;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tif (label.isArea(geomIndex) && label.getLocation(geomIndex, Position.LEFT) !== Location.NONE) startLoc = label.getLocation(geomIndex, Position.LEFT);\n\t\t}\n\t\tif (startLoc === Location.NONE) return null;\n\t\tvar currLoc = startLoc;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tif (label.getLocation(geomIndex, Position.ON) === Location.NONE) label.setLocation(geomIndex, Position.ON, currLoc);\n\t\t\tif (label.isArea(geomIndex)) {\n\t\t\t\tvar leftLoc = label.getLocation(geomIndex, Position.LEFT);\n\t\t\t\tvar rightLoc = label.getLocation(geomIndex, Position.RIGHT);\n\t\t\t\tif (rightLoc !== Location.NONE) {\n\t\t\t\t\tif (rightLoc !== currLoc) throw new TopologyException(\"side location conflict\", e.getCoordinate());\n\t\t\t\t\tif (leftLoc === Location.NONE) {\n\t\t\t\t\t\tAssert.shouldNeverReachHere(\"found single null side (at \" + e.getCoordinate() + \")\");\n\t\t\t\t\t}\n\t\t\t\t\tcurrLoc = leftLoc;\n\t\t\t\t} else {\n\t\t\t\t\tAssert.isTrue(label.getLocation(geomIndex, Position.LEFT) === Location.NONE, \"found single null side\");\n\t\t\t\t\tlabel.setLocation(geomIndex, Position.RIGHT, currLoc);\n\t\t\t\t\tlabel.setLocation(geomIndex, Position.LEFT, currLoc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinate: function () {\n\t\tvar it = this.iterator();\n\t\tif (!it.hasNext()) return null;\n\t\tvar e = it.next();\n\t\treturn e.getCoordinate();\n\t},\n\tprint: function (out) {\n\t\tSystem.out.println(\"EdgeEndStar:   \" + this.getCoordinate());\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\te.print(out);\n\t\t}\n\t},\n\tisAreaLabelsConsistent: function (geomGraph) {\n\t\tthis.computeEdgeEndLabels(geomGraph.getBoundaryNodeRule());\n\t\treturn this.checkAreaLabelsConsistent(0);\n\t},\n\tcheckAreaLabelsConsistent: function (geomIndex) {\n\t\tvar edges = this.getEdges();\n\t\tif (edges.size() <= 0) return true;\n\t\tvar lastEdgeIndex = edges.size() - 1;\n\t\tvar startLabel = edges.get(lastEdgeIndex).getLabel();\n\t\tvar startLoc = startLabel.getLocation(geomIndex, Position.LEFT);\n\t\tAssert.isTrue(startLoc !== Location.NONE, \"Found unlabelled area edge\");\n\t\tvar currLoc = startLoc;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tAssert.isTrue(label.isArea(geomIndex), \"Found non-area edge\");\n\t\t\tvar leftLoc = label.getLocation(geomIndex, Position.LEFT);\n\t\t\tvar rightLoc = label.getLocation(geomIndex, Position.RIGHT);\n\t\t\tif (leftLoc === rightLoc) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (rightLoc !== currLoc) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcurrLoc = leftLoc;\n\t\t}\n\t\treturn true;\n\t},\n\tfindIndex: function (eSearch) {\n\t\tthis.iterator();\n\t\tfor (var i = 0; i < this._edgeList.size(); i++) {\n\t\t\tvar e = this._edgeList.get(i);\n\t\t\tif (e === eSearch) return i;\n\t\t}\n\t\treturn -1;\n\t},\n\titerator: function () {\n\t\treturn this.getEdges().iterator();\n\t},\n\tgetEdges: function () {\n\t\tif (this._edgeList === null) {\n\t\t\tthis._edgeList = new ArrayList(this._edgeMap.values());\n\t\t}\n\t\treturn this._edgeList;\n\t},\n\tgetLocation: function (geomIndex, p, geom) {\n\t\tif (this._ptInAreaLocation[geomIndex] === Location.NONE) {\n\t\t\tthis._ptInAreaLocation[geomIndex] = SimplePointInAreaLocator.locate(p, geom[geomIndex].getGeometry());\n\t\t}\n\t\treturn this._ptInAreaLocation[geomIndex];\n\t},\n\ttoString: function () {\n\t\tvar buf = new StringBuffer();\n\t\tbuf.append(\"EdgeEndStar:   \" + this.getCoordinate());\n\t\tbuf.append(\"\\n\");\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tbuf.append(e);\n\t\t\tbuf.append(\"\\n\");\n\t\t}\n\t\treturn buf.toString();\n\t},\n\tcomputeEdgeEndLabels: function (boundaryNodeRule) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ee = it.next();\n\t\t\tee.computeLabel(boundaryNodeRule);\n\t\t}\n\t},\n\tcomputeLabelling: function (geomGraph) {\n\t\tthis.computeEdgeEndLabels(geomGraph[0].getBoundaryNodeRule());\n\t\tthis.propagateSideLabels(0);\n\t\tthis.propagateSideLabels(1);\n\t\tvar hasDimensionalCollapseEdge = [false, false];\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tfor (var geomi = 0; geomi < 2; geomi++) {\n\t\t\t\tif (label.isLine(geomi) && label.getLocation(geomi) === Location.BOUNDARY) hasDimensionalCollapseEdge[geomi] = true;\n\t\t\t}\n\t\t}\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tfor (var geomi = 0; geomi < 2; geomi++) {\n\t\t\t\tif (label.isAnyNull(geomi)) {\n\t\t\t\t\tvar loc = Location.NONE;\n\t\t\t\t\tif (hasDimensionalCollapseEdge[geomi]) {\n\t\t\t\t\t\tloc = Location.EXTERIOR;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar p = e.getCoordinate();\n\t\t\t\t\t\tloc = this.getLocation(geomi, p, geomGraph);\n\t\t\t\t\t}\n\t\t\t\t\tlabel.setAllLocationsIfNull(geomi, loc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetDegree: function () {\n\t\treturn this._edgeMap.size();\n\t},\n\tinsertEdgeEnd: function (e, obj) {\n\t\tthis._edgeMap.put(e, obj);\n\t\tthis._edgeList = null;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeEndStar;\n\t}\n});\n","import Location from '../geom/Location';\nimport Position from './Position';\nimport TopologyException from '../geom/TopologyException';\nimport extend from '../../../../extend';\nimport EdgeEndStar from './EdgeEndStar';\nimport System from '../../../../java/lang/System';\nimport Label from './Label';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Quadrant from './Quadrant';\nimport Assert from '../util/Assert';\nimport inherits from '../../../../inherits';\nexport default function DirectedEdgeStar() {\n\tEdgeEndStar.apply(this);\n\tthis._resultAreaEdgeList = null;\n\tthis._label = null;\n\tthis._SCANNING_FOR_INCOMING = 1;\n\tthis._LINKING_TO_OUTGOING = 2;\n}\ninherits(DirectedEdgeStar, EdgeEndStar);\nextend(DirectedEdgeStar.prototype, {\n\tlinkResultDirectedEdges: function () {\n\t\tthis.getResultAreaEdges();\n\t\tvar firstOut = null;\n\t\tvar incoming = null;\n\t\tvar state = this._SCANNING_FOR_INCOMING;\n\t\tfor (var i = 0; i < this._resultAreaEdgeList.size(); i++) {\n\t\t\tvar nextOut = this._resultAreaEdgeList.get(i);\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (!nextOut.getLabel().isArea()) continue;\n\t\t\tif (firstOut === null && nextOut.isInResult()) firstOut = nextOut;\n\t\t\tswitch (state) {\n\t\t\t\tcase this._SCANNING_FOR_INCOMING:\n\t\t\t\t\tif (!nextIn.isInResult()) continue;\n\t\t\t\t\tincoming = nextIn;\n\t\t\t\t\tstate = this._LINKING_TO_OUTGOING;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._LINKING_TO_OUTGOING:\n\t\t\t\t\tif (!nextOut.isInResult()) continue;\n\t\t\t\t\tincoming.setNext(nextOut);\n\t\t\t\t\tstate = this._SCANNING_FOR_INCOMING;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (state === this._LINKING_TO_OUTGOING) {\n\t\t\tif (firstOut === null) throw new TopologyException(\"no outgoing dirEdge found\", this.getCoordinate());\n\t\t\tAssert.isTrue(firstOut.isInResult(), \"unable to link last incoming dirEdge\");\n\t\t\tincoming.setNext(firstOut);\n\t\t}\n\t},\n\tinsert: function (ee) {\n\t\tvar de = ee;\n\t\tthis.insertEdgeEnd(de, de);\n\t},\n\tgetRightmostEdge: function () {\n\t\tvar edges = this.getEdges();\n\t\tvar size = edges.size();\n\t\tif (size < 1) return null;\n\t\tvar de0 = edges.get(0);\n\t\tif (size === 1) return de0;\n\t\tvar deLast = edges.get(size - 1);\n\t\tvar quad0 = de0.getQuadrant();\n\t\tvar quad1 = deLast.getQuadrant();\n\t\tif (Quadrant.isNorthern(quad0) && Quadrant.isNorthern(quad1)) return de0; else if (!Quadrant.isNorthern(quad0) && !Quadrant.isNorthern(quad1)) return deLast; else {\n\t\t\tvar nonHorizontalEdge = null;\n\t\t\tif (de0.getDy() !== 0) return de0; else if (deLast.getDy() !== 0) return deLast;\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"found two horizontal edges incident on node\");\n\t\treturn null;\n\t},\n\tprint: function (out) {\n\t\tSystem.out.println(\"DirectedEdgeStar: \" + this.getCoordinate());\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tout.print(\"out \");\n\t\t\tde.print(out);\n\t\t\tout.println();\n\t\t\tout.print(\"in \");\n\t\t\tde.getSym().print(out);\n\t\t\tout.println();\n\t\t}\n\t},\n\tgetResultAreaEdges: function () {\n\t\tif (this._resultAreaEdgeList !== null) return this._resultAreaEdgeList;\n\t\tthis._resultAreaEdgeList = new ArrayList();\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.isInResult() || de.getSym().isInResult()) this._resultAreaEdgeList.add(de);\n\t\t}\n\t\treturn this._resultAreaEdgeList;\n\t},\n\tupdateLabelling: function (nodeLabel) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tlabel.setAllLocationsIfNull(0, nodeLabel.getLocation(0));\n\t\t\tlabel.setAllLocationsIfNull(1, nodeLabel.getLocation(1));\n\t\t}\n\t},\n\tlinkAllDirectedEdges: function () {\n\t\tthis.getEdges();\n\t\tvar prevOut = null;\n\t\tvar firstIn = null;\n\t\tfor (var i = this._edgeList.size() - 1; i >= 0; i--) {\n\t\t\tvar nextOut = this._edgeList.get(i);\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (firstIn === null) firstIn = nextIn;\n\t\t\tif (prevOut !== null) nextIn.setNext(prevOut);\n\t\t\tprevOut = nextOut;\n\t\t}\n\t\tfirstIn.setNext(prevOut);\n\t},\n\tcomputeDepths: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet de = arguments[0];\n\t\t\tvar edgeIndex = this.findIndex(de);\n\t\t\tvar label = de.getLabel();\n\t\t\tvar startDepth = de.getDepth(Position.LEFT);\n\t\t\tvar targetLastDepth = de.getDepth(Position.RIGHT);\n\t\t\tvar nextDepth = this.computeDepths(edgeIndex + 1, this._edgeList.size(), startDepth);\n\t\t\tvar lastDepth = this.computeDepths(0, edgeIndex, nextDepth);\n\t\t\tif (lastDepth !== targetLastDepth) throw new TopologyException(\"depth mismatch at \" + de.getCoordinate());\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet startIndex = arguments[0], endIndex = arguments[1], startDepth = arguments[2];\n\t\t\tvar currDepth = startDepth;\n\t\t\tfor (var i = startIndex; i < endIndex; i++) {\n\t\t\t\tvar nextDe = this._edgeList.get(i);\n\t\t\t\tvar label = nextDe.getLabel();\n\t\t\t\tnextDe.setEdgeDepths(Position.RIGHT, currDepth);\n\t\t\t\tcurrDepth = nextDe.getDepth(Position.LEFT);\n\t\t\t}\n\t\t\treturn currDepth;\n\t\t}\n\t},\n\tmergeSymLabels: function () {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tlabel.merge(de.getSym().getLabel());\n\t\t}\n\t},\n\tlinkMinimalDirectedEdges: function (er) {\n\t\tvar firstOut = null;\n\t\tvar incoming = null;\n\t\tvar state = this._SCANNING_FOR_INCOMING;\n\t\tfor (var i = this._resultAreaEdgeList.size() - 1; i >= 0; i--) {\n\t\t\tvar nextOut = this._resultAreaEdgeList.get(i);\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (firstOut === null && nextOut.getEdgeRing() === er) firstOut = nextOut;\n\t\t\tswitch (state) {\n\t\t\t\tcase this._SCANNING_FOR_INCOMING:\n\t\t\t\t\tif (nextIn.getEdgeRing() !== er) continue;\n\t\t\t\t\tincoming = nextIn;\n\t\t\t\t\tstate = this._LINKING_TO_OUTGOING;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._LINKING_TO_OUTGOING:\n\t\t\t\t\tif (nextOut.getEdgeRing() !== er) continue;\n\t\t\t\t\tincoming.setNextMin(nextOut);\n\t\t\t\t\tstate = this._SCANNING_FOR_INCOMING;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (state === this._LINKING_TO_OUTGOING) {\n\t\t\tAssert.isTrue(firstOut !== null, \"found null for first outgoing dirEdge\");\n\t\t\tAssert.isTrue(firstOut.getEdgeRing() === er, \"unable to link last incoming dirEdge\");\n\t\t\tincoming.setNextMin(firstOut);\n\t\t}\n\t},\n\tgetOutgoingDegree: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tvar degree = 0;\n\t\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\t\tvar de = it.next();\n\t\t\t\tif (de.isInResult()) degree++;\n\t\t\t}\n\t\t\treturn degree;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet er = arguments[0];\n\t\t\tvar degree = 0;\n\t\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\t\tvar de = it.next();\n\t\t\t\tif (de.getEdgeRing() === er) degree++;\n\t\t\t}\n\t\t\treturn degree;\n\t\t}\n\t},\n\tgetLabel: function () {\n\t\treturn this._label;\n\t},\n\tfindCoveredLineEdges: function () {\n\t\tvar startLoc = Location.NONE;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar nextOut = it.next();\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (!nextOut.isLineEdge()) {\n\t\t\t\tif (nextOut.isInResult()) {\n\t\t\t\t\tstartLoc = Location.INTERIOR;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (nextIn.isInResult()) {\n\t\t\t\t\tstartLoc = Location.EXTERIOR;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (startLoc === Location.NONE) return null;\n\t\tvar currLoc = startLoc;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar nextOut = it.next();\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (nextOut.isLineEdge()) {\n\t\t\t\tnextOut.getEdge().setCovered(currLoc === Location.INTERIOR);\n\t\t\t} else {\n\t\t\t\tif (nextOut.isInResult()) currLoc = Location.EXTERIOR;\n\t\t\t\tif (nextIn.isInResult()) currLoc = Location.INTERIOR;\n\t\t\t}\n\t\t}\n\t},\n\tcomputeLabelling: function (geom) {\n\t\tEdgeEndStar.prototype.computeLabelling.call(this, geom);\n\t\tthis._label = new Label(Location.NONE);\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ee = it.next();\n\t\t\tvar e = ee.getEdge();\n\t\t\tvar eLabel = e.getLabel();\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tvar eLoc = eLabel.getLocation(i);\n\t\t\t\tif (eLoc === Location.INTERIOR || eLoc === Location.BOUNDARY) this._label.setLocation(i, Location.INTERIOR);\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DirectedEdgeStar;\n\t}\n});\n","import DirectedEdgeStar from '../../geomgraph/DirectedEdgeStar';\nimport Node from '../../geomgraph/Node';\nimport extend from '../../../../../extend';\nimport inherits from '../../../../../inherits';\nimport NodeFactory from '../../geomgraph/NodeFactory';\nexport default function OverlayNodeFactory() {\n\tNodeFactory.apply(this);\n}\ninherits(OverlayNodeFactory, NodeFactory);\nextend(OverlayNodeFactory.prototype, {\n\tcreateNode: function (coord) {\n\t\treturn new Node(coord, new DirectedEdgeStar());\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn OverlayNodeFactory;\n\t}\n});\n","import extend from '../../../../extend';\nimport Comparable from '../../../../java/lang/Comparable';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nexport default function OrientedCoordinateArray() {\n\tthis._pts = null;\n\tthis._orientation = null;\n\tlet pts = arguments[0];\n\tthis._pts = pts;\n\tthis._orientation = OrientedCoordinateArray.orientation(pts);\n}\nextend(OrientedCoordinateArray.prototype, {\n\tcompareTo: function (o1) {\n\t\tvar oca = o1;\n\t\tvar comp = OrientedCoordinateArray.compareOriented(this._pts, this._orientation, oca._pts, oca._orientation);\n\t\treturn comp;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn OrientedCoordinateArray;\n\t}\n});\nOrientedCoordinateArray.orientation = function (pts) {\n\treturn CoordinateArrays.increasingDirection(pts) === 1;\n};\nOrientedCoordinateArray.compareOriented = function (pts1, orientation1, pts2, orientation2) {\n\tvar dir1 = orientation1 ? 1 : -1;\n\tvar dir2 = orientation2 ? 1 : -1;\n\tvar limit1 = orientation1 ? pts1.length : -1;\n\tvar limit2 = orientation2 ? pts2.length : -1;\n\tvar i1 = orientation1 ? 0 : pts1.length - 1;\n\tvar i2 = orientation2 ? 0 : pts2.length - 1;\n\tvar comp = 0;\n\twhile (true) {\n\t\tvar compPt = pts1[i1].compareTo(pts2[i2]);\n\t\tif (compPt !== 0) return compPt;\n\t\ti1 += dir1;\n\t\ti2 += dir2;\n\t\tvar done1 = i1 === limit1;\n\t\tvar done2 = i2 === limit2;\n\t\tif (done1 && !done2) return -1;\n\t\tif (!done1 && done2) return 1;\n\t\tif (done1 && done2) return 0;\n\t}\n};\n","import OrientedCoordinateArray from '../noding/OrientedCoordinateArray';\nimport extend from '../../../../extend';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default function EdgeList() {\n\tthis._edges = new ArrayList();\n\tthis._ocaMap = new TreeMap();\n}\nextend(EdgeList.prototype, {\n\tprint: function (out) {\n\t\tout.print(\"MULTILINESTRING ( \");\n\t\tfor (var j = 0; j < this._edges.size(); j++) {\n\t\t\tvar e = this._edges.get(j);\n\t\t\tif (j > 0) out.print(\",\");\n\t\t\tout.print(\"(\");\n\t\t\tvar pts = e.getCoordinates();\n\t\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\t\tif (i > 0) out.print(\",\");\n\t\t\t\tout.print(pts[i].x + \" \" + pts[i].y);\n\t\t\t}\n\t\t\tout.println(\")\");\n\t\t}\n\t\tout.print(\")  \");\n\t},\n\taddAll: function (edgeColl) {\n\t\tfor (var i = edgeColl.iterator(); i.hasNext(); ) {\n\t\t\tthis.add(i.next());\n\t\t}\n\t},\n\tfindEdgeIndex: function (e) {\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tif (this._edges.get(i).equals(e)) return i;\n\t\t}\n\t\treturn -1;\n\t},\n\titerator: function () {\n\t\treturn this._edges.iterator();\n\t},\n\tgetEdges: function () {\n\t\treturn this._edges;\n\t},\n\tget: function (i) {\n\t\treturn this._edges.get(i);\n\t},\n\tfindEqualEdge: function (e) {\n\t\tvar oca = new OrientedCoordinateArray(e.getCoordinates());\n\t\tvar matchEdge = this._ocaMap.get(oca);\n\t\treturn matchEdge;\n\t},\n\tadd: function (e) {\n\t\tthis._edges.add(e);\n\t\tvar oca = new OrientedCoordinateArray(e.getCoordinates());\n\t\tthis._ocaMap.put(oca, e);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeList;\n\t}\n});\n","import extend from '../../../../extend';\nexport default function SegmentIntersector() {}\nextend(SegmentIntersector.prototype, {\n\tprocessIntersections: function (e0, segIndex0, e1, segIndex1) {},\n\tisDone: function () {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SegmentIntersector;\n\t}\n});\n","import extend from '../../../../extend';\nimport SegmentIntersector from './SegmentIntersector';\nexport default function IntersectionAdder() {\n\tthis._hasIntersection = false;\n\tthis._hasProper = false;\n\tthis._hasProperInterior = false;\n\tthis._hasInterior = false;\n\tthis._properIntersectionPoint = null;\n\tthis._li = null;\n\tthis._isSelfIntersection = null;\n\tthis.numIntersections = 0;\n\tthis.numInteriorIntersections = 0;\n\tthis.numProperIntersections = 0;\n\tthis.numTests = 0;\n\tlet li = arguments[0];\n\tthis._li = li;\n}\nextend(IntersectionAdder.prototype, {\n\tisTrivialIntersection: function (e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1) {\n\t\t\tif (this._li.getIntersectionNum() === 1) {\n\t\t\t\tif (IntersectionAdder.isAdjacentSegments(segIndex0, segIndex1)) return true;\n\t\t\t\tif (e0.isClosed()) {\n\t\t\t\t\tvar maxSegIndex = e0.size() - 1;\n\t\t\t\t\tif (segIndex0 === 0 && segIndex1 === maxSegIndex || segIndex1 === 0 && segIndex0 === maxSegIndex) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tgetProperIntersectionPoint: function () {\n\t\treturn this._properIntersectionPoint;\n\t},\n\thasProperInteriorIntersection: function () {\n\t\treturn this._hasProperInterior;\n\t},\n\tgetLineIntersector: function () {\n\t\treturn this._li;\n\t},\n\thasProperIntersection: function () {\n\t\treturn this._hasProper;\n\t},\n\tprocessIntersections: function (e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tthis.numTests++;\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tthis.numIntersections++;\n\t\t\tif (this._li.isInteriorIntersection()) {\n\t\t\t\tthis.numInteriorIntersections++;\n\t\t\t\tthis._hasInterior = true;\n\t\t\t}\n\t\t\tif (!this.isTrivialIntersection(e0, segIndex0, e1, segIndex1)) {\n\t\t\t\tthis._hasIntersection = true;\n\t\t\t\te0.addIntersections(this._li, segIndex0, 0);\n\t\t\t\te1.addIntersections(this._li, segIndex1, 1);\n\t\t\t\tif (this._li.isProper()) {\n\t\t\t\t\tthis.numProperIntersections++;\n\t\t\t\t\tthis._hasProper = true;\n\t\t\t\t\tthis._hasProperInterior = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\thasIntersection: function () {\n\t\treturn this._hasIntersection;\n\t},\n\tisDone: function () {\n\t\treturn false;\n\t},\n\thasInteriorIntersection: function () {\n\t\treturn this._hasInterior;\n\t},\n\tinterfaces_: function () {\n\t\treturn [SegmentIntersector];\n\t},\n\tgetClass: function () {\n\t\treturn IntersectionAdder;\n\t}\n});\nIntersectionAdder.isAdjacentSegments = function (i1, i2) {\n\treturn Math.abs(i1 - i2) === 1;\n};\n","import Location from '../../geom/Location';\nimport BufferSubgraph from './BufferSubgraph';\nimport PolygonBuilder from '../overlay/PolygonBuilder';\nimport GeometryFactory from '../../geom/GeometryFactory';\nimport Position from '../../geomgraph/Position';\nimport MCIndexNoder from '../../noding/MCIndexNoder';\nimport OffsetCurveBuilder from './OffsetCurveBuilder';\nimport extend from '../../../../../extend';\nimport Collections from '../../../../../java/util/Collections';\nimport SubgraphDepthLocater from './SubgraphDepthLocater';\nimport OffsetCurveSetBuilder from './OffsetCurveSetBuilder';\nimport Label from '../../geomgraph/Label';\nimport OverlayNodeFactory from '../overlay/OverlayNodeFactory';\nimport EdgeList from '../../geomgraph/EdgeList';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nimport IntersectionAdder from '../../noding/IntersectionAdder';\nimport Edge from '../../geomgraph/Edge';\nimport PlanarGraph from '../../geomgraph/PlanarGraph';\nexport default function BufferBuilder() {\n\tthis._bufParams = null;\n\tthis._workingPrecisionModel = null;\n\tthis._workingNoder = null;\n\tthis._geomFact = null;\n\tthis._graph = null;\n\tthis._edgeList = new EdgeList();\n\tlet bufParams = arguments[0];\n\tthis._bufParams = bufParams;\n}\nextend(BufferBuilder.prototype, {\n\tsetWorkingPrecisionModel: function (pm) {\n\t\tthis._workingPrecisionModel = pm;\n\t},\n\tinsertUniqueEdge: function (e) {\n\t\tvar existingEdge = this._edgeList.findEqualEdge(e);\n\t\tif (existingEdge !== null) {\n\t\t\tvar existingLabel = existingEdge.getLabel();\n\t\t\tvar labelToMerge = e.getLabel();\n\t\t\tif (!existingEdge.isPointwiseEqual(e)) {\n\t\t\t\tlabelToMerge = new Label(e.getLabel());\n\t\t\t\tlabelToMerge.flip();\n\t\t\t}\n\t\t\texistingLabel.merge(labelToMerge);\n\t\t\tvar mergeDelta = BufferBuilder.depthDelta(labelToMerge);\n\t\t\tvar existingDelta = existingEdge.getDepthDelta();\n\t\t\tvar newDelta = existingDelta + mergeDelta;\n\t\t\texistingEdge.setDepthDelta(newDelta);\n\t\t} else {\n\t\t\tthis._edgeList.add(e);\n\t\t\te.setDepthDelta(BufferBuilder.depthDelta(e.getLabel()));\n\t\t}\n\t},\n\tbuildSubgraphs: function (subgraphList, polyBuilder) {\n\t\tvar processedGraphs = new ArrayList();\n\t\tfor (var i = subgraphList.iterator(); i.hasNext(); ) {\n\t\t\tvar subgraph = i.next();\n\t\t\tvar p = subgraph.getRightmostCoordinate();\n\t\t\tvar locater = new SubgraphDepthLocater(processedGraphs);\n\t\t\tvar outsideDepth = locater.getDepth(p);\n\t\t\tsubgraph.computeDepth(outsideDepth);\n\t\t\tsubgraph.findResultEdges();\n\t\t\tprocessedGraphs.add(subgraph);\n\t\t\tpolyBuilder.add(subgraph.getDirectedEdges(), subgraph.getNodes());\n\t\t}\n\t},\n\tcreateSubgraphs: function (graph) {\n\t\tvar subgraphList = new ArrayList();\n\t\tfor (var i = graph.getNodes().iterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tif (!node.isVisited()) {\n\t\t\t\tvar subgraph = new BufferSubgraph();\n\t\t\t\tsubgraph.create(node);\n\t\t\t\tsubgraphList.add(subgraph);\n\t\t\t}\n\t\t}\n\t\tCollections.sort(subgraphList, Collections.reverseOrder());\n\t\treturn subgraphList;\n\t},\n\tcreateEmptyResultGeometry: function () {\n\t\tvar emptyGeom = this._geomFact.createPolygon();\n\t\treturn emptyGeom;\n\t},\n\tgetNoder: function (precisionModel) {\n\t\tif (this._workingNoder !== null) return this._workingNoder;\n\t\tvar noder = new MCIndexNoder();\n\t\tvar li = new RobustLineIntersector();\n\t\tli.setPrecisionModel(precisionModel);\n\t\tnoder.setSegmentIntersector(new IntersectionAdder(li));\n\t\treturn noder;\n\t},\n\tbuffer: function (g, distance) {\n\t\tvar precisionModel = this._workingPrecisionModel;\n\t\tif (precisionModel === null) precisionModel = g.getPrecisionModel();\n\t\tthis._geomFact = g.getFactory();\n\t\tvar curveBuilder = new OffsetCurveBuilder(precisionModel, this._bufParams);\n\t\tvar curveSetBuilder = new OffsetCurveSetBuilder(g, distance, curveBuilder);\n\t\tvar bufferSegStrList = curveSetBuilder.getCurves();\n\t\tif (bufferSegStrList.size() <= 0) {\n\t\t\treturn this.createEmptyResultGeometry();\n\t\t}\n\t\tthis.computeNodedEdges(bufferSegStrList, precisionModel);\n\t\tthis._graph = new PlanarGraph(new OverlayNodeFactory());\n\t\tthis._graph.addEdges(this._edgeList.getEdges());\n\t\tvar subgraphList = this.createSubgraphs(this._graph);\n\t\tvar polyBuilder = new PolygonBuilder(this._geomFact);\n\t\tthis.buildSubgraphs(subgraphList, polyBuilder);\n\t\tvar resultPolyList = polyBuilder.getPolygons();\n\t\tif (resultPolyList.size() <= 0) {\n\t\t\treturn this.createEmptyResultGeometry();\n\t\t}\n\t\tvar resultGeom = this._geomFact.buildGeometry(resultPolyList);\n\t\treturn resultGeom;\n\t},\n\tcomputeNodedEdges: function (bufferSegStrList, precisionModel) {\n\t\tvar noder = this.getNoder(precisionModel);\n\t\tnoder.computeNodes(bufferSegStrList);\n\t\tvar nodedSegStrings = noder.getNodedSubstrings();\n\t\tfor (var i = nodedSegStrings.iterator(); i.hasNext(); ) {\n\t\t\tvar segStr = i.next();\n\t\t\tvar pts = segStr.getCoordinates();\n\t\t\tif (pts.length === 2 && pts[0].equals2D(pts[1])) continue;\n\t\t\tvar oldLabel = segStr.getData();\n\t\t\tvar edge = new Edge(segStr.getCoordinates(), new Label(oldLabel));\n\t\t\tthis.insertUniqueEdge(edge);\n\t\t}\n\t},\n\tsetNoder: function (noder) {\n\t\tthis._workingNoder = noder;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn BufferBuilder;\n\t}\n});\nBufferBuilder.depthDelta = function (label) {\n\tvar lLoc = label.getLocation(0, Position.LEFT);\n\tvar rLoc = label.getLocation(0, Position.RIGHT);\n\tif (lLoc === Location.INTERIOR && rLoc === Location.EXTERIOR) return 1; else if (lLoc === Location.EXTERIOR && rLoc === Location.INTERIOR) return -1;\n\treturn 0;\n};\nBufferBuilder.convertSegStrings = function (it) {\n\tvar fact = new GeometryFactory();\n\tvar lines = new ArrayList();\n\twhile (it.hasNext()) {\n\t\tvar ss = it.next();\n\t\tvar line = fact.createLineString(ss.getCoordinates());\n\t\tlines.add(line);\n\t}\n\treturn fact.buildGeometry(lines);\n};\n","import GeometryFactory from '../geom/GeometryFactory';\nimport extend from '../../../../extend';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nimport RuntimeException from '../../../../java/lang/RuntimeException';\nexport default function NodingValidator() {\n\tthis._li = new RobustLineIntersector();\n\tthis._segStrings = null;\n\tlet segStrings = arguments[0];\n\tthis._segStrings = segStrings;\n}\nextend(NodingValidator.prototype, {\n\tcheckEndPtVertexIntersections: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = this._segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tvar pts = ss.getCoordinates();\n\t\t\t\tthis.checkEndPtVertexIntersections(pts[0], this._segStrings);\n\t\t\t\tthis.checkEndPtVertexIntersections(pts[pts.length - 1], this._segStrings);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet testPt = arguments[0], segStrings = arguments[1];\n\t\t\tfor (var i = segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tvar pts = ss.getCoordinates();\n\t\t\t\tfor (var j = 1; j < pts.length - 1; j++) {\n\t\t\t\t\tif (pts[j].equals(testPt)) throw new RuntimeException(\"found endpt/interior pt intersection at index \" + j + \" :pt \" + testPt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcheckInteriorIntersections: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = this._segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss0 = i.next();\n\t\t\t\tfor (var j = this._segStrings.iterator(); j.hasNext(); ) {\n\t\t\t\t\tvar ss1 = j.next();\n\t\t\t\t\tthis.checkInteriorIntersections(ss0, ss1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet ss0 = arguments[0], ss1 = arguments[1];\n\t\t\tvar pts0 = ss0.getCoordinates();\n\t\t\tvar pts1 = ss1.getCoordinates();\n\t\t\tfor (var i0 = 0; i0 < pts0.length - 1; i0++) {\n\t\t\t\tfor (var i1 = 0; i1 < pts1.length - 1; i1++) {\n\t\t\t\t\tthis.checkInteriorIntersections(ss0, i0, ss1, i1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet e0 = arguments[0], segIndex0 = arguments[1], e1 = arguments[2], segIndex1 = arguments[3];\n\t\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\t\tif (this._li.hasIntersection()) {\n\t\t\t\tif (this._li.isProper() || this.hasInteriorIntersection(this._li, p00, p01) || this.hasInteriorIntersection(this._li, p10, p11)) {\n\t\t\t\t\tthrow new RuntimeException(\"found non-noded intersection at \" + p00 + \"-\" + p01 + \" and \" + p10 + \"-\" + p11);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcheckValid: function () {\n\t\tthis.checkEndPtVertexIntersections();\n\t\tthis.checkInteriorIntersections();\n\t\tthis.checkCollapses();\n\t},\n\tcheckCollapses: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = this._segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tthis.checkCollapses(ss);\n\t\t\t}\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet ss = arguments[0];\n\t\t\tvar pts = ss.getCoordinates();\n\t\t\tfor (var i = 0; i < pts.length - 2; i++) {\n\t\t\t\tthis.checkCollapse(pts[i], pts[i + 1], pts[i + 2]);\n\t\t\t}\n\t\t}\n\t},\n\thasInteriorIntersection: function (li, p0, p1) {\n\t\tfor (var i = 0; i < li.getIntersectionNum(); i++) {\n\t\t\tvar intPt = li.getIntersection(i);\n\t\t\tif (!(intPt.equals(p0) || intPt.equals(p1))) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tcheckCollapse: function (p0, p1, p2) {\n\t\tif (p0.equals(p2)) throw new RuntimeException(\"found non-noded collapse at \" + NodingValidator.fact.createLineString([p0, p1, p2]));\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn NodingValidator;\n\t}\n});\nNodingValidator.fact = new GeometryFactory();\n","import Coordinate from '../../geom/Coordinate';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../../extend';\nimport Envelope from '../../geom/Envelope';\nimport Assert from '../../util/Assert';\nexport default function HotPixel() {\n\tthis._li = null;\n\tthis._pt = null;\n\tthis._originalPt = null;\n\tthis._ptScaled = null;\n\tthis._p0Scaled = null;\n\tthis._p1Scaled = null;\n\tthis._scaleFactor = null;\n\tthis._minx = null;\n\tthis._maxx = null;\n\tthis._miny = null;\n\tthis._maxy = null;\n\tthis._corner = new Array(4).fill(null);\n\tthis._safeEnv = null;\n\tlet pt = arguments[0], scaleFactor = arguments[1], li = arguments[2];\n\tthis._originalPt = pt;\n\tthis._pt = pt;\n\tthis._scaleFactor = scaleFactor;\n\tthis._li = li;\n\tif (scaleFactor <= 0) throw new IllegalArgumentException(\"Scale factor must be non-zero\");\n\tif (scaleFactor !== 1.0) {\n\t\tthis._pt = new Coordinate(this.scale(pt.x), this.scale(pt.y));\n\t\tthis._p0Scaled = new Coordinate();\n\t\tthis._p1Scaled = new Coordinate();\n\t}\n\tthis.initCorners(this._pt);\n}\nextend(HotPixel.prototype, {\n\tintersectsScaled: function (p0, p1) {\n\t\tvar segMinx = Math.min(p0.x, p1.x);\n\t\tvar segMaxx = Math.max(p0.x, p1.x);\n\t\tvar segMiny = Math.min(p0.y, p1.y);\n\t\tvar segMaxy = Math.max(p0.y, p1.y);\n\t\tvar isOutsidePixelEnv = this._maxx < segMinx || this._minx > segMaxx || this._maxy < segMiny || this._miny > segMaxy;\n\t\tif (isOutsidePixelEnv) return false;\n\t\tvar intersects = this.intersectsToleranceSquare(p0, p1);\n\t\tAssert.isTrue(!(isOutsidePixelEnv && intersects), \"Found bad envelope test\");\n\t\treturn intersects;\n\t},\n\tinitCorners: function (pt) {\n\t\tvar tolerance = 0.5;\n\t\tthis._minx = pt.x - tolerance;\n\t\tthis._maxx = pt.x + tolerance;\n\t\tthis._miny = pt.y - tolerance;\n\t\tthis._maxy = pt.y + tolerance;\n\t\tthis._corner[0] = new Coordinate(this._maxx, this._maxy);\n\t\tthis._corner[1] = new Coordinate(this._minx, this._maxy);\n\t\tthis._corner[2] = new Coordinate(this._minx, this._miny);\n\t\tthis._corner[3] = new Coordinate(this._maxx, this._miny);\n\t},\n\tintersects: function (p0, p1) {\n\t\tif (this._scaleFactor === 1.0) return this.intersectsScaled(p0, p1);\n\t\tthis.copyScaled(p0, this._p0Scaled);\n\t\tthis.copyScaled(p1, this._p1Scaled);\n\t\treturn this.intersectsScaled(this._p0Scaled, this._p1Scaled);\n\t},\n\tscale: function (val) {\n\t\treturn Math.round(val * this._scaleFactor);\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._originalPt;\n\t},\n\tcopyScaled: function (p, pScaled) {\n\t\tpScaled.x = this.scale(p.x);\n\t\tpScaled.y = this.scale(p.y);\n\t},\n\tgetSafeEnvelope: function () {\n\t\tif (this._safeEnv === null) {\n\t\t\tvar safeTolerance = HotPixel.SAFE_ENV_EXPANSION_FACTOR / this._scaleFactor;\n\t\t\tthis._safeEnv = new Envelope(this._originalPt.x - safeTolerance, this._originalPt.x + safeTolerance, this._originalPt.y - safeTolerance, this._originalPt.y + safeTolerance);\n\t\t}\n\t\treturn this._safeEnv;\n\t},\n\tintersectsPixelClosure: function (p0, p1) {\n\t\tthis._li.computeIntersection(p0, p1, this._corner[0], this._corner[1]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[1], this._corner[2]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[2], this._corner[3]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[3], this._corner[0]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\treturn false;\n\t},\n\tintersectsToleranceSquare: function (p0, p1) {\n\t\tvar intersectsLeft = false;\n\t\tvar intersectsBottom = false;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[0], this._corner[1]);\n\t\tif (this._li.isProper()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[1], this._corner[2]);\n\t\tif (this._li.isProper()) return true;\n\t\tif (this._li.hasIntersection()) intersectsLeft = true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[2], this._corner[3]);\n\t\tif (this._li.isProper()) return true;\n\t\tif (this._li.hasIntersection()) intersectsBottom = true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[3], this._corner[0]);\n\t\tif (this._li.isProper()) return true;\n\t\tif (intersectsLeft && intersectsBottom) return true;\n\t\tif (p0.equals(this._pt)) return true;\n\t\tif (p1.equals(this._pt)) return true;\n\t\treturn false;\n\t},\n\taddSnappedNode: function (segStr, segIndex) {\n\t\tvar p0 = segStr.getCoordinate(segIndex);\n\t\tvar p1 = segStr.getCoordinate(segIndex + 1);\n\t\tif (this.intersects(p0, p1)) {\n\t\t\tsegStr.addIntersection(this.getCoordinate(), segIndex);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn HotPixel;\n\t}\n});\nHotPixel.SAFE_ENV_EXPANSION_FACTOR = 0.75;\n","import MonotoneChainSelectAction from '../../index/chain/MonotoneChainSelectAction';\nimport MonotoneChain from '../../index/chain/MonotoneChain';\nimport ItemVisitor from '../../index/ItemVisitor';\nimport extend from '../../../../../extend';\nimport inherits from '../../../../../inherits';\nexport default function MCIndexPointSnapper() {\n\tthis._index = null;\n\tlet index = arguments[0];\n\tthis._index = index;\n}\nextend(MCIndexPointSnapper.prototype, {\n\tsnap: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet hotPixel = arguments[0];\n\t\t\treturn this.snap(hotPixel, null, -1);\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet hotPixel = arguments[0], parentEdge = arguments[1], hotPixelVertexIndex = arguments[2];\n\t\t\tvar pixelEnv = hotPixel.getSafeEnvelope();\n\t\t\tvar hotPixelSnapAction = new HotPixelSnapAction(hotPixel, parentEdge, hotPixelVertexIndex);\n\t\t\tthis._index.query(pixelEnv, {\n\t\t\t\tinterfaces_: function () {\n\t\t\t\t\treturn [ItemVisitor];\n\t\t\t\t},\n\t\t\t\tvisitItem: function (item) {\n\t\t\t\t\tvar testChain = item;\n\t\t\t\t\ttestChain.select(pixelEnv, hotPixelSnapAction);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn hotPixelSnapAction.isNodeAdded();\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn MCIndexPointSnapper;\n\t}\n});\nfunction HotPixelSnapAction() {\n\tMonotoneChainSelectAction.apply(this);\n\tthis._hotPixel = null;\n\tthis._parentEdge = null;\n\tthis._hotPixelVertexIndex = null;\n\tthis._isNodeAdded = false;\n\tlet hotPixel = arguments[0], parentEdge = arguments[1], hotPixelVertexIndex = arguments[2];\n\tthis._hotPixel = hotPixel;\n\tthis._parentEdge = parentEdge;\n\tthis._hotPixelVertexIndex = hotPixelVertexIndex;\n}\ninherits(HotPixelSnapAction, MonotoneChainSelectAction);\nextend(HotPixelSnapAction.prototype, {\n\tisNodeAdded: function () {\n\t\treturn this._isNodeAdded;\n\t},\n\tselect: function () {\n\t\tif (arguments.length === 2 && (Number.isInteger(arguments[1]) && arguments[0] instanceof MonotoneChain)) {\n\t\t\tlet mc = arguments[0], startIndex = arguments[1];\n\t\t\tvar ss = mc.getContext();\n\t\t\tif (this._parentEdge !== null) {\n\t\t\t\tif (ss === this._parentEdge && startIndex === this._hotPixelVertexIndex) return null;\n\t\t\t}\n\t\t\tthis._isNodeAdded = this._hotPixel.addSnappedNode(ss, startIndex);\n\t\t} else return MonotoneChainSelectAction.prototype.select.apply(this, arguments);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn HotPixelSnapAction;\n\t}\n});\nMCIndexPointSnapper.HotPixelSnapAction = HotPixelSnapAction;\n","import extend from '../../../../extend';\nimport SegmentIntersector from './SegmentIntersector';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function InteriorIntersectionFinderAdder() {\n\tthis._li = null;\n\tthis._interiorIntersections = null;\n\tlet li = arguments[0];\n\tthis._li = li;\n\tthis._interiorIntersections = new ArrayList();\n}\nextend(InteriorIntersectionFinderAdder.prototype, {\n\tprocessIntersections: function (e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tif (this._li.isInteriorIntersection()) {\n\t\t\t\tfor (var intIndex = 0; intIndex < this._li.getIntersectionNum(); intIndex++) {\n\t\t\t\t\tthis._interiorIntersections.add(this._li.getIntersection(intIndex));\n\t\t\t\t}\n\t\t\t\te0.addIntersections(this._li, segIndex0, 0);\n\t\t\t\te1.addIntersections(this._li, segIndex1, 1);\n\t\t\t}\n\t\t}\n\t},\n\tisDone: function () {\n\t\treturn false;\n\t},\n\tgetInteriorIntersections: function () {\n\t\treturn this._interiorIntersections;\n\t},\n\tinterfaces_: function () {\n\t\treturn [SegmentIntersector];\n\t},\n\tgetClass: function () {\n\t\treturn InteriorIntersectionFinderAdder;\n\t}\n});\n","import NodingValidator from '../NodingValidator';\nimport hasInterface from '../../../../../hasInterface';\nimport Collection from '../../../../../java/util/Collection';\nimport Noder from '../Noder';\nimport MCIndexNoder from '../MCIndexNoder';\nimport NodedSegmentString from '../NodedSegmentString';\nimport HotPixel from './HotPixel';\nimport extend from '../../../../../extend';\nimport Exception from '../../../../../java/lang/Exception';\nimport MCIndexPointSnapper from './MCIndexPointSnapper';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nimport InteriorIntersectionFinderAdder from '../InteriorIntersectionFinderAdder';\nexport default function MCIndexSnapRounder() {\n\tthis._pm = null;\n\tthis._li = null;\n\tthis._scaleFactor = null;\n\tthis._noder = null;\n\tthis._pointSnapper = null;\n\tthis._nodedSegStrings = null;\n\tlet pm = arguments[0];\n\tthis._pm = pm;\n\tthis._li = new RobustLineIntersector();\n\tthis._li.setPrecisionModel(pm);\n\tthis._scaleFactor = pm.getScale();\n}\nextend(MCIndexSnapRounder.prototype, {\n\tcheckCorrectness: function (inputSegmentStrings) {\n\t\tvar resultSegStrings = NodedSegmentString.getNodedSubstrings(inputSegmentStrings);\n\t\tvar nv = new NodingValidator(resultSegStrings);\n\t\ttry {\n\t\t\tnv.checkValid();\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof Exception) {\n\t\t\t\tex.printStackTrace();\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t},\n\tgetNodedSubstrings: function () {\n\t\treturn NodedSegmentString.getNodedSubstrings(this._nodedSegStrings);\n\t},\n\tsnapRound: function (segStrings, li) {\n\t\tvar intersections = this.findInteriorIntersections(segStrings, li);\n\t\tthis.computeIntersectionSnaps(intersections);\n\t\tthis.computeVertexSnaps(segStrings);\n\t},\n\tfindInteriorIntersections: function (segStrings, li) {\n\t\tvar intFinderAdder = new InteriorIntersectionFinderAdder(li);\n\t\tthis._noder.setSegmentIntersector(intFinderAdder);\n\t\tthis._noder.computeNodes(segStrings);\n\t\treturn intFinderAdder.getInteriorIntersections();\n\t},\n\tcomputeVertexSnaps: function () {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet edges = arguments[0];\n\t\t\tfor (var i0 = edges.iterator(); i0.hasNext(); ) {\n\t\t\t\tvar edge0 = i0.next();\n\t\t\t\tthis.computeVertexSnaps(edge0);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof NodedSegmentString) {\n\t\t\tlet e = arguments[0];\n\t\t\tvar pts0 = e.getCoordinates();\n\t\t\tfor (var i = 0; i < pts0.length; i++) {\n\t\t\t\tvar hotPixel = new HotPixel(pts0[i], this._scaleFactor, this._li);\n\t\t\t\tvar isNodeAdded = this._pointSnapper.snap(hotPixel, e, i);\n\t\t\t\tif (isNodeAdded) {\n\t\t\t\t\te.addIntersection(pts0[i], i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputeNodes: function (inputSegmentStrings) {\n\t\tthis._nodedSegStrings = inputSegmentStrings;\n\t\tthis._noder = new MCIndexNoder();\n\t\tthis._pointSnapper = new MCIndexPointSnapper(this._noder.getIndex());\n\t\tthis.snapRound(inputSegmentStrings, this._li);\n\t},\n\tcomputeIntersectionSnaps: function (snapPts) {\n\t\tfor (var it = snapPts.iterator(); it.hasNext(); ) {\n\t\t\tvar snapPt = it.next();\n\t\t\tvar hotPixel = new HotPixel(snapPt, this._scaleFactor, this._li);\n\t\t\tthis._pointSnapper.snap(hotPixel);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [Noder];\n\t},\n\tgetClass: function () {\n\t\treturn MCIndexSnapRounder;\n\t}\n});\n","import BufferParameters from './BufferParameters';\nimport Geometry from '../../geom/Geometry';\nimport BufferBuilder from './BufferBuilder';\nimport ScaledNoder from '../../noding/ScaledNoder';\nimport TopologyException from '../../geom/TopologyException';\nimport extend from '../../../../../extend';\nimport MathUtil from '../../math/MathUtil';\nimport PrecisionModel from '../../geom/PrecisionModel';\nimport RuntimeException from '../../../../../java/lang/RuntimeException';\nimport MCIndexSnapRounder from '../../noding/snapround/MCIndexSnapRounder';\nexport default function BufferOp() {\n\tthis._argGeom = null;\n\tthis._distance = null;\n\tthis._bufParams = new BufferParameters();\n\tthis._resultGeometry = null;\n\tthis._saveException = null;\n\tif (arguments.length === 1) {\n\t\tlet g = arguments[0];\n\t\tthis._argGeom = g;\n\t} else if (arguments.length === 2) {\n\t\tlet g = arguments[0], bufParams = arguments[1];\n\t\tthis._argGeom = g;\n\t\tthis._bufParams = bufParams;\n\t}\n}\nextend(BufferOp.prototype, {\n\tbufferFixedPrecision: function (fixedPM) {\n\t\tvar noder = new ScaledNoder(new MCIndexSnapRounder(new PrecisionModel(1.0)), fixedPM.getScale());\n\t\tvar bufBuilder = new BufferBuilder(this._bufParams);\n\t\tbufBuilder.setWorkingPrecisionModel(fixedPM);\n\t\tbufBuilder.setNoder(noder);\n\t\tthis._resultGeometry = bufBuilder.buffer(this._argGeom, this._distance);\n\t},\n\tbufferReducedPrecision: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var precDigits = BufferOp.MAX_PRECISION_DIGITS; precDigits >= 0; precDigits--) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.bufferReducedPrecision(precDigits);\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tif (ex instanceof TopologyException) {\n\t\t\t\t\t\tthis._saveException = ex;\n\t\t\t\t\t} else throw ex;\n\t\t\t\t} finally {}\n\t\t\t\tif (this._resultGeometry !== null) return null;\n\t\t\t}\n\t\t\tthrow this._saveException;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet precisionDigits = arguments[0];\n\t\t\tvar sizeBasedScaleFactor = BufferOp.precisionScaleFactor(this._argGeom, this._distance, precisionDigits);\n\t\t\tvar fixedPM = new PrecisionModel(sizeBasedScaleFactor);\n\t\t\tthis.bufferFixedPrecision(fixedPM);\n\t\t}\n\t},\n\tcomputeGeometry: function () {\n\t\tthis.bufferOriginalPrecision();\n\t\tif (this._resultGeometry !== null) return null;\n\t\tvar argPM = this._argGeom.getFactory().getPrecisionModel();\n\t\tif (argPM.getType() === PrecisionModel.FIXED) this.bufferFixedPrecision(argPM); else this.bufferReducedPrecision();\n\t},\n\tsetQuadrantSegments: function (quadrantSegments) {\n\t\tthis._bufParams.setQuadrantSegments(quadrantSegments);\n\t},\n\tbufferOriginalPrecision: function () {\n\t\ttry {\n\t\t\tvar bufBuilder = new BufferBuilder(this._bufParams);\n\t\t\tthis._resultGeometry = bufBuilder.buffer(this._argGeom, this._distance);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof RuntimeException) {\n\t\t\t\tthis._saveException = ex;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t},\n\tgetResultGeometry: function (distance) {\n\t\tthis._distance = distance;\n\t\tthis.computeGeometry();\n\t\treturn this._resultGeometry;\n\t},\n\tsetEndCapStyle: function (endCapStyle) {\n\t\tthis._bufParams.setEndCapStyle(endCapStyle);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn BufferOp;\n\t}\n});\nBufferOp.bufferOp = function () {\n\tif (arguments.length === 2) {\n\t\tlet g = arguments[0], distance = arguments[1];\n\t\tvar gBuf = new BufferOp(g);\n\t\tvar geomBuf = gBuf.getResultGeometry(distance);\n\t\treturn geomBuf;\n\t} else if (arguments.length === 3) {\n\t\tif (Number.isInteger(arguments[2]) && (arguments[0] instanceof Geometry && typeof arguments[1] === \"number\")) {\n\t\t\tlet g = arguments[0], distance = arguments[1], quadrantSegments = arguments[2];\n\t\t\tvar bufOp = new BufferOp(g);\n\t\t\tbufOp.setQuadrantSegments(quadrantSegments);\n\t\t\tvar geomBuf = bufOp.getResultGeometry(distance);\n\t\t\treturn geomBuf;\n\t\t} else if (arguments[2] instanceof BufferParameters && (arguments[0] instanceof Geometry && typeof arguments[1] === \"number\")) {\n\t\t\tlet g = arguments[0], distance = arguments[1], params = arguments[2];\n\t\t\tvar bufOp = new BufferOp(g, params);\n\t\t\tvar geomBuf = bufOp.getResultGeometry(distance);\n\t\t\treturn geomBuf;\n\t\t}\n\t} else if (arguments.length === 4) {\n\t\tlet g = arguments[0], distance = arguments[1], quadrantSegments = arguments[2], endCapStyle = arguments[3];\n\t\tvar bufOp = new BufferOp(g);\n\t\tbufOp.setQuadrantSegments(quadrantSegments);\n\t\tbufOp.setEndCapStyle(endCapStyle);\n\t\tvar geomBuf = bufOp.getResultGeometry(distance);\n\t\treturn geomBuf;\n\t}\n};\nBufferOp.precisionScaleFactor = function (g, distance, maxPrecisionDigits) {\n\tvar env = g.getEnvelopeInternal();\n\tvar envMax = MathUtil.max(Math.abs(env.getMaxX()), Math.abs(env.getMaxY()), Math.abs(env.getMinX()), Math.abs(env.getMinY()));\n\tvar expandByDistance = distance > 0.0 ? distance : 0.0;\n\tvar bufEnvMax = envMax + 2 * expandByDistance;\n\tvar bufEnvPrecisionDigits = Math.trunc(Math.log(bufEnvMax) / Math.log(10) + 1.0);\n\tvar minUnitLog10 = maxPrecisionDigits - bufEnvPrecisionDigits;\n\tvar scaleFactor = Math.pow(10.0, minUnitLog10);\n\treturn scaleFactor;\n};\nBufferOp.CAP_ROUND = BufferParameters.CAP_ROUND;\nBufferOp.CAP_BUTT = BufferParameters.CAP_FLAT;\nBufferOp.CAP_FLAT = BufferParameters.CAP_FLAT;\nBufferOp.CAP_SQUARE = BufferParameters.CAP_SQUARE;\nBufferOp.MAX_PRECISION_DIGITS = 12;\n","import Polygon from '../Polygon';\nimport extend from '../../../../../extend';\nimport GeometryCollection from '../GeometryCollection';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport GeometryFilter from '../GeometryFilter';\nexport default function PolygonExtracter() {\n\tthis._comps = null;\n\tlet comps = arguments[0];\n\tthis._comps = comps;\n}\nextend(PolygonExtracter.prototype, {\n\tfilter: function (geom) {\n\t\tif (geom instanceof Polygon) this._comps.add(geom);\n\t},\n\tinterfaces_: function () {\n\t\treturn [GeometryFilter];\n\t},\n\tgetClass: function () {\n\t\treturn PolygonExtracter;\n\t}\n});\nPolygonExtracter.getPolygons = function () {\n\tif (arguments.length === 1) {\n\t\tlet geom = arguments[0];\n\t\treturn PolygonExtracter.getPolygons(geom, new ArrayList());\n\t} else if (arguments.length === 2) {\n\t\tlet geom = arguments[0], list = arguments[1];\n\t\tif (geom instanceof Polygon) {\n\t\t\tlist.add(geom);\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tgeom.apply(new PolygonExtracter(list));\n\t\t}\n\t\treturn list;\n\t}\n};\n","import extend from '../../../../../extend';\nexport default function GeometryLocation() {\n\tthis._component = null;\n\tthis._segIndex = null;\n\tthis._pt = null;\n\tif (arguments.length === 2) {\n\t\tlet component = arguments[0], pt = arguments[1];\n\t\tGeometryLocation.call(this, component, GeometryLocation.INSIDE_AREA, pt);\n\t} else if (arguments.length === 3) {\n\t\tlet component = arguments[0], segIndex = arguments[1], pt = arguments[2];\n\t\tthis._component = component;\n\t\tthis._segIndex = segIndex;\n\t\tthis._pt = pt;\n\t}\n}\nextend(GeometryLocation.prototype, {\n\tisInsideArea: function () {\n\t\treturn this._segIndex === GeometryLocation.INSIDE_AREA;\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._pt;\n\t},\n\tgetGeometryComponent: function () {\n\t\treturn this._component;\n\t},\n\tgetSegmentIndex: function () {\n\t\treturn this._segIndex;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryLocation;\n\t}\n});\nGeometryLocation.INSIDE_AREA = -1;\n","import Point from '../Point';\nimport extend from '../../../../../extend';\nimport Collections from '../../../../../java/util/Collections';\nimport GeometryCollection from '../GeometryCollection';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport GeometryFilter from '../GeometryFilter';\nexport default function PointExtracter() {\n\tthis._pts = null;\n\tlet pts = arguments[0];\n\tthis._pts = pts;\n}\nextend(PointExtracter.prototype, {\n\tfilter: function (geom) {\n\t\tif (geom instanceof Point) this._pts.add(geom);\n\t},\n\tinterfaces_: function () {\n\t\treturn [GeometryFilter];\n\t},\n\tgetClass: function () {\n\t\treturn PointExtracter;\n\t}\n});\nPointExtracter.getPoints = function () {\n\tif (arguments.length === 1) {\n\t\tlet geom = arguments[0];\n\t\tif (geom instanceof Point) {\n\t\t\treturn Collections.singletonList(geom);\n\t\t}\n\t\treturn PointExtracter.getPoints(geom, new ArrayList());\n\t} else if (arguments.length === 2) {\n\t\tlet geom = arguments[0], list = arguments[1];\n\t\tif (geom instanceof Point) {\n\t\t\tlist.add(geom);\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tgeom.apply(new PointExtracter(list));\n\t\t}\n\t\treturn list;\n\t}\n};\n","import LineString from '../../geom/LineString';\nimport Point from '../../geom/Point';\nimport Polygon from '../../geom/Polygon';\nimport GeometryLocation from './GeometryLocation';\nimport extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport GeometryFilter from '../../geom/GeometryFilter';\nexport default function ConnectedElementLocationFilter() {\n\tthis._locations = null;\n\tlet locations = arguments[0];\n\tthis._locations = locations;\n}\nextend(ConnectedElementLocationFilter.prototype, {\n\tfilter: function (geom) {\n\t\tif (geom instanceof Point || geom instanceof LineString || geom instanceof Polygon) this._locations.add(new GeometryLocation(geom, 0, geom.getCoordinate()));\n\t},\n\tinterfaces_: function () {\n\t\treturn [GeometryFilter];\n\t},\n\tgetClass: function () {\n\t\treturn ConnectedElementLocationFilter;\n\t}\n});\nConnectedElementLocationFilter.getLocations = function (geom) {\n\tvar locations = new ArrayList();\n\tgeom.apply(new ConnectedElementLocationFilter(locations));\n\treturn locations;\n};\n","import PointLocator from '../../algorithm/PointLocator';\nimport PolygonExtracter from '../../geom/util/PolygonExtracter';\nimport Location from '../../geom/Location';\nimport LineString from '../../geom/LineString';\nimport hasInterface from '../../../../../hasInterface';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport Point from '../../geom/Point';\nimport Polygon from '../../geom/Polygon';\nimport GeometryLocation from './GeometryLocation';\nimport Double from '../../../../../java/lang/Double';\nimport PointExtracter from '../../geom/util/PointExtracter';\nimport extend from '../../../../../extend';\nimport ConnectedElementLocationFilter from './ConnectedElementLocationFilter';\nimport LineSegment from '../../geom/LineSegment';\nimport LinearComponentExtracter from '../../geom/util/LinearComponentExtracter';\nimport List from '../../../../../java/util/List';\nimport Distance from '../../algorithm/Distance';\nexport default function DistanceOp() {\n\tthis._geom = null;\n\tthis._terminateDistance = 0.0;\n\tthis._ptLocator = new PointLocator();\n\tthis._minDistanceLocation = null;\n\tthis._minDistance = Double.MAX_VALUE;\n\tif (arguments.length === 2) {\n\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\tDistanceOp.call(this, g0, g1, 0.0);\n\t} else if (arguments.length === 3) {\n\t\tlet g0 = arguments[0], g1 = arguments[1], terminateDistance = arguments[2];\n\t\tthis._geom = new Array(2).fill(null);\n\t\tthis._geom[0] = g0;\n\t\tthis._geom[1] = g1;\n\t\tthis._terminateDistance = terminateDistance;\n\t}\n}\nextend(DistanceOp.prototype, {\n\tcomputeContainmentDistance: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tvar locPtPoly = new Array(2).fill(null);\n\t\t\tthis.computeContainmentDistance(0, locPtPoly);\n\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\tthis.computeContainmentDistance(1, locPtPoly);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet polyGeomIndex = arguments[0], locPtPoly = arguments[1];\n\t\t\tvar polyGeom = this._geom[polyGeomIndex];\n\t\t\tif (polyGeom.getDimension() < 2) return null;\n\t\t\tvar locationsIndex = 1 - polyGeomIndex;\n\t\t\tvar polys = PolygonExtracter.getPolygons(polyGeom);\n\t\t\tif (polys.size() > 0) {\n\t\t\t\tvar insideLocs = ConnectedElementLocationFilter.getLocations(this._geom[locationsIndex]);\n\t\t\t\tthis.computeContainmentDistance(insideLocs, polys, locPtPoly);\n\t\t\t\tif (this._minDistance <= this._terminateDistance) {\n\t\t\t\t\tthis._minDistanceLocation[locationsIndex] = locPtPoly[0];\n\t\t\t\t\tthis._minDistanceLocation[polyGeomIndex] = locPtPoly[1];\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (arguments[2] instanceof Array && (hasInterface(arguments[0], List) && hasInterface(arguments[1], List))) {\n\t\t\t\tlet locs = arguments[0], polys = arguments[1], locPtPoly = arguments[2];\n\t\t\t\tfor (var i = 0; i < locs.size(); i++) {\n\t\t\t\t\tvar loc = locs.get(i);\n\t\t\t\t\tfor (var j = 0; j < polys.size(); j++) {\n\t\t\t\t\t\tthis.computeContainmentDistance(loc, polys.get(j), locPtPoly);\n\t\t\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (arguments[2] instanceof Array && (arguments[0] instanceof GeometryLocation && arguments[1] instanceof Polygon)) {\n\t\t\t\tlet ptLoc = arguments[0], poly = arguments[1], locPtPoly = arguments[2];\n\t\t\t\tvar pt = ptLoc.getCoordinate();\n\t\t\t\tif (Location.EXTERIOR !== this._ptLocator.locate(pt, poly)) {\n\t\t\t\t\tthis._minDistance = 0.0;\n\t\t\t\t\tlocPtPoly[0] = ptLoc;\n\t\t\t\t\tlocPtPoly[1] = new GeometryLocation(poly, pt);\n\t\t\t\t\t;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputeMinDistanceLinesPoints: function (lines, points, locGeom) {\n\t\tfor (var i = 0; i < lines.size(); i++) {\n\t\t\tvar line = lines.get(i);\n\t\t\tfor (var j = 0; j < points.size(); j++) {\n\t\t\t\tvar pt = points.get(j);\n\t\t\t\tthis.computeMinDistance(line, pt, locGeom);\n\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t}\n\t\t}\n\t},\n\tcomputeFacetDistance: function () {\n\t\tvar locGeom = new Array(2).fill(null);\n\t\tvar lines0 = LinearComponentExtracter.getLines(this._geom[0]);\n\t\tvar lines1 = LinearComponentExtracter.getLines(this._geom[1]);\n\t\tvar pts0 = PointExtracter.getPoints(this._geom[0]);\n\t\tvar pts1 = PointExtracter.getPoints(this._geom[1]);\n\t\tthis.computeMinDistanceLines(lines0, lines1, locGeom);\n\t\tthis.updateMinDistance(locGeom, false);\n\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\tlocGeom[0] = null;\n\t\tlocGeom[1] = null;\n\t\tthis.computeMinDistanceLinesPoints(lines0, pts1, locGeom);\n\t\tthis.updateMinDistance(locGeom, false);\n\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\tlocGeom[0] = null;\n\t\tlocGeom[1] = null;\n\t\tthis.computeMinDistanceLinesPoints(lines1, pts0, locGeom);\n\t\tthis.updateMinDistance(locGeom, true);\n\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\tlocGeom[0] = null;\n\t\tlocGeom[1] = null;\n\t\tthis.computeMinDistancePoints(pts0, pts1, locGeom);\n\t\tthis.updateMinDistance(locGeom, false);\n\t},\n\tnearestLocations: function () {\n\t\tthis.computeMinDistance();\n\t\treturn this._minDistanceLocation;\n\t},\n\tupdateMinDistance: function (locGeom, flip) {\n\t\tif (locGeom[0] === null) return null;\n\t\tif (flip) {\n\t\t\tthis._minDistanceLocation[0] = locGeom[1];\n\t\t\tthis._minDistanceLocation[1] = locGeom[0];\n\t\t} else {\n\t\t\tthis._minDistanceLocation[0] = locGeom[0];\n\t\t\tthis._minDistanceLocation[1] = locGeom[1];\n\t\t}\n\t},\n\tnearestPoints: function () {\n\t\tthis.computeMinDistance();\n\t\tvar nearestPts = [this._minDistanceLocation[0].getCoordinate(), this._minDistanceLocation[1].getCoordinate()];\n\t\treturn nearestPts;\n\t},\n\tcomputeMinDistance: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this._minDistanceLocation !== null) return null;\n\t\t\tthis._minDistanceLocation = new Array(2).fill(null);\n\t\t\tthis.computeContainmentDistance();\n\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\tthis.computeFacetDistance();\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (arguments[2] instanceof Array && (arguments[0] instanceof LineString && arguments[1] instanceof Point)) {\n\t\t\t\tlet line = arguments[0], pt = arguments[1], locGeom = arguments[2];\n\t\t\t\tif (line.getEnvelopeInternal().distance(pt.getEnvelopeInternal()) > this._minDistance) return null;\n\t\t\t\tvar coord0 = line.getCoordinates();\n\t\t\t\tvar coord = pt.getCoordinate();\n\t\t\t\tfor (var i = 0; i < coord0.length - 1; i++) {\n\t\t\t\t\tvar dist = Distance.pointToSegment(coord, coord0[i], coord0[i + 1]);\n\t\t\t\t\tif (dist < this._minDistance) {\n\t\t\t\t\t\tthis._minDistance = dist;\n\t\t\t\t\t\tvar seg = new LineSegment(coord0[i], coord0[i + 1]);\n\t\t\t\t\t\tvar segClosestPoint = seg.closestPoint(coord);\n\t\t\t\t\t\tlocGeom[0] = new GeometryLocation(line, i, segClosestPoint);\n\t\t\t\t\t\tlocGeom[1] = new GeometryLocation(pt, 0, coord);\n\t\t\t\t\t}\n\t\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t\t}\n\t\t\t} else if (arguments[2] instanceof Array && (arguments[0] instanceof LineString && arguments[1] instanceof LineString)) {\n\t\t\t\tlet line0 = arguments[0], line1 = arguments[1], locGeom = arguments[2];\n\t\t\t\tif (line0.getEnvelopeInternal().distance(line1.getEnvelopeInternal()) > this._minDistance) return null;\n\t\t\t\tvar coord0 = line0.getCoordinates();\n\t\t\t\tvar coord1 = line1.getCoordinates();\n\t\t\t\tfor (var i = 0; i < coord0.length - 1; i++) {\n\t\t\t\t\tfor (var j = 0; j < coord1.length - 1; j++) {\n\t\t\t\t\t\tvar dist = Distance.segmentToSegment(coord0[i], coord0[i + 1], coord1[j], coord1[j + 1]);\n\t\t\t\t\t\tif (dist < this._minDistance) {\n\t\t\t\t\t\t\tthis._minDistance = dist;\n\t\t\t\t\t\t\tvar seg0 = new LineSegment(coord0[i], coord0[i + 1]);\n\t\t\t\t\t\t\tvar seg1 = new LineSegment(coord1[j], coord1[j + 1]);\n\t\t\t\t\t\t\tvar closestPt = seg0.closestPoints(seg1);\n\t\t\t\t\t\t\tlocGeom[0] = new GeometryLocation(line0, i, closestPt[0]);\n\t\t\t\t\t\t\tlocGeom[1] = new GeometryLocation(line1, j, closestPt[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputeMinDistancePoints: function (points0, points1, locGeom) {\n\t\tfor (var i = 0; i < points0.size(); i++) {\n\t\t\tvar pt0 = points0.get(i);\n\t\t\tfor (var j = 0; j < points1.size(); j++) {\n\t\t\t\tvar pt1 = points1.get(j);\n\t\t\t\tvar dist = pt0.getCoordinate().distance(pt1.getCoordinate());\n\t\t\t\tif (dist < this._minDistance) {\n\t\t\t\t\tthis._minDistance = dist;\n\t\t\t\t\tlocGeom[0] = new GeometryLocation(pt0, 0, pt0.getCoordinate());\n\t\t\t\t\tlocGeom[1] = new GeometryLocation(pt1, 0, pt1.getCoordinate());\n\t\t\t\t}\n\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t}\n\t\t}\n\t},\n\tdistance: function () {\n\t\tif (this._geom[0] === null || this._geom[1] === null) throw new IllegalArgumentException(\"null geometries are not supported\");\n\t\tif (this._geom[0].isEmpty() || this._geom[1].isEmpty()) return 0.0;\n\t\tthis.computeMinDistance();\n\t\treturn this._minDistance;\n\t},\n\tcomputeMinDistanceLines: function (lines0, lines1, locGeom) {\n\t\tfor (var i = 0; i < lines0.size(); i++) {\n\t\t\tvar line0 = lines0.get(i);\n\t\t\tfor (var j = 0; j < lines1.size(); j++) {\n\t\t\t\tvar line1 = lines1.get(j);\n\t\t\t\tthis.computeMinDistance(line0, line1, locGeom);\n\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DistanceOp;\n\t}\n});\nDistanceOp.distance = function (g0, g1) {\n\tvar distOp = new DistanceOp(g0, g1);\n\treturn distOp.distance();\n};\nDistanceOp.isWithinDistance = function (g0, g1, distance) {\n\tvar envDist = g0.getEnvelopeInternal().distance(g1.getEnvelopeInternal());\n\tif (envDist > distance) return false;\n\tvar distOp = new DistanceOp(g0, g1, distance);\n\treturn distOp.distance() <= distance;\n};\nDistanceOp.nearestPoints = function (g0, g1) {\n\tvar distOp = new DistanceOp(g0, g1);\n\treturn distOp.nearestPoints();\n};\n","import CoordinateList from '../../geom/CoordinateList';\nimport extend from '../../../../../extend';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default function EdgeString() {\n\tthis._factory = null;\n\tthis._directedEdges = new ArrayList();\n\tthis._coordinates = null;\n\tlet factory = arguments[0];\n\tthis._factory = factory;\n}\nextend(EdgeString.prototype, {\n\tgetCoordinates: function () {\n\t\tif (this._coordinates === null) {\n\t\t\tvar forwardDirectedEdges = 0;\n\t\t\tvar reverseDirectedEdges = 0;\n\t\t\tvar coordinateList = new CoordinateList();\n\t\t\tfor (var i = this._directedEdges.iterator(); i.hasNext(); ) {\n\t\t\t\tvar directedEdge = i.next();\n\t\t\t\tif (directedEdge.getEdgeDirection()) {\n\t\t\t\t\tforwardDirectedEdges++;\n\t\t\t\t} else {\n\t\t\t\t\treverseDirectedEdges++;\n\t\t\t\t}\n\t\t\t\tcoordinateList.add(directedEdge.getEdge().getLine().getCoordinates(), false, directedEdge.getEdgeDirection());\n\t\t\t}\n\t\t\tthis._coordinates = coordinateList.toCoordinateArray();\n\t\t\tif (reverseDirectedEdges > forwardDirectedEdges) {\n\t\t\t\tCoordinateArrays.reverse(this._coordinates);\n\t\t\t}\n\t\t}\n\t\treturn this._coordinates;\n\t},\n\ttoLineString: function () {\n\t\treturn this._factory.createLineString(this.getCoordinates());\n\t},\n\tadd: function (directedEdge) {\n\t\tthis._directedEdges.add(directedEdge);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeString;\n\t}\n});\n","import extend from '../../../../extend';\nexport default function GraphComponent() {\n\tthis._isMarked = false;\n\tthis._isVisited = false;\n\tthis._data = null;\n}\nextend(GraphComponent.prototype, {\n\tsetVisited: function (isVisited) {\n\t\tthis._isVisited = isVisited;\n\t},\n\tisMarked: function () {\n\t\treturn this._isMarked;\n\t},\n\tsetData: function (data) {\n\t\tthis._data = data;\n\t},\n\tgetData: function () {\n\t\treturn this._data;\n\t},\n\tsetMarked: function (isMarked) {\n\t\tthis._isMarked = isMarked;\n\t},\n\tgetContext: function () {\n\t\treturn this._data;\n\t},\n\tisVisited: function () {\n\t\treturn this._isVisited;\n\t},\n\tsetContext: function (data) {\n\t\tthis._data = data;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GraphComponent;\n\t}\n});\nGraphComponent.getComponentWithVisitedState = function (i, visitedState) {\n\twhile (i.hasNext()) {\n\t\tvar comp = i.next();\n\t\tif (comp.isVisited() === visitedState) return comp;\n\t}\n\treturn null;\n};\nGraphComponent.setVisited = function (i, visited) {\n\twhile (i.hasNext()) {\n\t\tvar comp = i.next();\n\t\tcomp.setVisited(visited);\n\t}\n};\nGraphComponent.setMarked = function (i, marked) {\n\twhile (i.hasNext()) {\n\t\tvar comp = i.next();\n\t\tcomp.setMarked(marked);\n\t}\n};\n","import extend from '../../../../extend';\nimport Orientation from '../algorithm/Orientation';\nimport Comparable from '../../../../java/lang/Comparable';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Quadrant from '../geomgraph/Quadrant';\nimport inherits from '../../../../inherits';\nimport GraphComponent from './GraphComponent';\nexport default function DirectedEdge() {\n\tGraphComponent.apply(this);\n\tthis._parentEdge = null;\n\tthis._from = null;\n\tthis._to = null;\n\tthis._p0 = null;\n\tthis._p1 = null;\n\tthis._sym = null;\n\tthis._edgeDirection = null;\n\tthis._quadrant = null;\n\tthis._angle = null;\n\tlet from = arguments[0], to = arguments[1], directionPt = arguments[2], edgeDirection = arguments[3];\n\tthis._from = from;\n\tthis._to = to;\n\tthis._edgeDirection = edgeDirection;\n\tthis._p0 = from.getCoordinate();\n\tthis._p1 = directionPt;\n\tvar dx = this._p1.x - this._p0.x;\n\tvar dy = this._p1.y - this._p0.y;\n\tthis._quadrant = Quadrant.quadrant(dx, dy);\n\tthis._angle = Math.atan2(dy, dx);\n}\ninherits(DirectedEdge, GraphComponent);\nextend(DirectedEdge.prototype, {\n\tisRemoved: function () {\n\t\treturn this._parentEdge === null;\n\t},\n\tcompareDirection: function (e) {\n\t\tif (this._quadrant > e._quadrant) return 1;\n\t\tif (this._quadrant < e._quadrant) return -1;\n\t\treturn Orientation.index(e._p0, e._p1, this._p1);\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._from.getCoordinate();\n\t},\n\tprint: function (out) {\n\t\tvar className = this.getClass().getName();\n\t\tvar lastDotPos = className.lastIndexOf('.');\n\t\tvar name = className.substring(lastDotPos + 1);\n\t\tout.print(\"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + this._angle);\n\t},\n\tgetDirectionPt: function () {\n\t\treturn this._p1;\n\t},\n\tgetAngle: function () {\n\t\treturn this._angle;\n\t},\n\tcompareTo: function (obj) {\n\t\tvar de = obj;\n\t\treturn this.compareDirection(de);\n\t},\n\tgetFromNode: function () {\n\t\treturn this._from;\n\t},\n\tgetSym: function () {\n\t\treturn this._sym;\n\t},\n\tsetEdge: function (parentEdge) {\n\t\tthis._parentEdge = parentEdge;\n\t},\n\tremove: function () {\n\t\tthis._sym = null;\n\t\tthis._parentEdge = null;\n\t},\n\tgetEdge: function () {\n\t\treturn this._parentEdge;\n\t},\n\tgetQuadrant: function () {\n\t\treturn this._quadrant;\n\t},\n\tsetSym: function (sym) {\n\t\tthis._sym = sym;\n\t},\n\tgetToNode: function () {\n\t\treturn this._to;\n\t},\n\tgetEdgeDirection: function () {\n\t\treturn this._edgeDirection;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn DirectedEdge;\n\t}\n});\nDirectedEdge.toEdges = function (dirEdges) {\n\tvar edges = new ArrayList();\n\tfor (var i = dirEdges.iterator(); i.hasNext(); ) {\n\t\tedges.add(i.next()._parentEdge);\n\t}\n\treturn edges;\n};\n","import extend from '../../../../../extend';\nimport DirectedEdge from '../../planargraph/DirectedEdge';\nimport Assert from '../../util/Assert';\nimport inherits from '../../../../../inherits';\nexport default function LineMergeDirectedEdge() {\n\tlet from = arguments[0], to = arguments[1], directionPt = arguments[2], edgeDirection = arguments[3];\n\tDirectedEdge.call(this, from, to, directionPt, edgeDirection);\n}\ninherits(LineMergeDirectedEdge, DirectedEdge);\nextend(LineMergeDirectedEdge.prototype, {\n\tgetNext: function () {\n\t\tif (this.getToNode().getDegree() !== 2) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.getToNode().getOutEdges().getEdges().get(0) === this.getSym()) {\n\t\t\treturn this.getToNode().getOutEdges().getEdges().get(1);\n\t\t}\n\t\tAssert.isTrue(this.getToNode().getOutEdges().getEdges().get(1) === this.getSym());\n\t\treturn this.getToNode().getOutEdges().getEdges().get(0);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LineMergeDirectedEdge;\n\t}\n});\n","import Node from './Node';\nimport extend from '../../../../extend';\nimport inherits from '../../../../inherits';\nimport GraphComponent from './GraphComponent';\nexport default function Edge() {\n\tGraphComponent.apply(this);\n\tthis._dirEdge = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 2) {\n\t\tlet de0 = arguments[0], de1 = arguments[1];\n\t\tthis.setDirectedEdges(de0, de1);\n\t}\n}\ninherits(Edge, GraphComponent);\nextend(Edge.prototype, {\n\tisRemoved: function () {\n\t\treturn this._dirEdge === null;\n\t},\n\tsetDirectedEdges: function (de0, de1) {\n\t\tthis._dirEdge = [de0, de1];\n\t\tde0.setEdge(this);\n\t\tde1.setEdge(this);\n\t\tde0.setSym(de1);\n\t\tde1.setSym(de0);\n\t\tde0.getFromNode().addOutEdge(de0);\n\t\tde1.getFromNode().addOutEdge(de1);\n\t},\n\tgetDirEdge: function () {\n\t\tif (Number.isInteger(arguments[0])) {\n\t\t\tlet i = arguments[0];\n\t\t\treturn this._dirEdge[i];\n\t\t} else if (arguments[0] instanceof Node) {\n\t\t\tlet fromNode = arguments[0];\n\t\t\tif (this._dirEdge[0].getFromNode() === fromNode) return this._dirEdge[0];\n\t\t\tif (this._dirEdge[1].getFromNode() === fromNode) return this._dirEdge[1];\n\t\t\treturn null;\n\t\t}\n\t},\n\tremove: function () {\n\t\tthis._dirEdge = null;\n\t},\n\tgetOppositeNode: function (node) {\n\t\tif (this._dirEdge[0].getFromNode() === node) return this._dirEdge[0].getToNode();\n\t\tif (this._dirEdge[1].getFromNode() === node) return this._dirEdge[1].getToNode();\n\t\treturn null;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Edge;\n\t}\n});\n","import extend from '../../../../extend';\nimport Collections from '../../../../java/util/Collections';\nimport DirectedEdge from './DirectedEdge';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Edge from './Edge';\nexport default function DirectedEdgeStar() {\n\tthis._outEdges = new ArrayList();\n\tthis._sorted = false;\n}\nextend(DirectedEdgeStar.prototype, {\n\tgetNextEdge: function (dirEdge) {\n\t\tvar i = this.getIndex(dirEdge);\n\t\treturn this._outEdges.get(this.getIndex(i + 1));\n\t},\n\tgetCoordinate: function () {\n\t\tvar it = this.iterator();\n\t\tif (!it.hasNext()) return null;\n\t\tvar e = it.next();\n\t\treturn e.getCoordinate();\n\t},\n\titerator: function () {\n\t\tthis.sortEdges();\n\t\treturn this._outEdges.iterator();\n\t},\n\tsortEdges: function () {\n\t\tif (!this._sorted) {\n\t\t\tCollections.sort(this._outEdges);\n\t\t\tthis._sorted = true;\n\t\t}\n\t},\n\tremove: function (de) {\n\t\tthis._outEdges.remove(de);\n\t},\n\tgetEdges: function () {\n\t\tthis.sortEdges();\n\t\treturn this._outEdges;\n\t},\n\tgetNextCWEdge: function (dirEdge) {\n\t\tvar i = this.getIndex(dirEdge);\n\t\treturn this._outEdges.get(this.getIndex(i - 1));\n\t},\n\tgetIndex: function () {\n\t\tif (arguments[0] instanceof Edge) {\n\t\t\tlet edge = arguments[0];\n\t\t\tthis.sortEdges();\n\t\t\tfor (var i = 0; i < this._outEdges.size(); i++) {\n\t\t\t\tvar de = this._outEdges.get(i);\n\t\t\t\tif (de.getEdge() === edge) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t} else if (arguments[0] instanceof DirectedEdge) {\n\t\t\tlet dirEdge = arguments[0];\n\t\t\tthis.sortEdges();\n\t\t\tfor (var i = 0; i < this._outEdges.size(); i++) {\n\t\t\t\tvar de = this._outEdges.get(i);\n\t\t\t\tif (de === dirEdge) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t} else if (Number.isInteger(arguments[0])) {\n\t\t\tlet i = arguments[0];\n\t\t\tvar modi = i % this._outEdges.size();\n\t\t\tif (modi < 0) modi += this._outEdges.size();\n\t\t\treturn modi;\n\t\t}\n\t},\n\tadd: function (de) {\n\t\tthis._outEdges.add(de);\n\t\tthis._sorted = false;\n\t},\n\tgetDegree: function () {\n\t\treturn this._outEdges.size();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DirectedEdgeStar;\n\t}\n});\n","import DirectedEdgeStar from './DirectedEdgeStar';\nimport HashSet from '../../../../java/util/HashSet';\nimport extend from '../../../../extend';\nimport DirectedEdge from './DirectedEdge';\nimport inherits from '../../../../inherits';\nimport GraphComponent from './GraphComponent';\nexport default function Node() {\n\tGraphComponent.apply(this);\n\tthis._pt = null;\n\tthis._deStar = null;\n\tif (arguments.length === 1) {\n\t\tlet pt = arguments[0];\n\t\tNode.call(this, pt, new DirectedEdgeStar());\n\t} else if (arguments.length === 2) {\n\t\tlet pt = arguments[0], deStar = arguments[1];\n\t\tthis._pt = pt;\n\t\tthis._deStar = deStar;\n\t}\n}\ninherits(Node, GraphComponent);\nextend(Node.prototype, {\n\tisRemoved: function () {\n\t\treturn this._pt === null;\n\t},\n\taddOutEdge: function (de) {\n\t\tthis._deStar.add(de);\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._pt;\n\t},\n\tgetOutEdges: function () {\n\t\treturn this._deStar;\n\t},\n\tremove: function () {\n\t\tif (arguments.length === 0) {\n\t\t\tthis._pt = null;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet de = arguments[0];\n\t\t\tthis._deStar.remove(de);\n\t\t}\n\t},\n\tgetIndex: function (edge) {\n\t\treturn this._deStar.getIndex(edge);\n\t},\n\tgetDegree: function () {\n\t\treturn this._deStar.getDegree();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Node;\n\t}\n});\nNode.getEdgesBetween = function (node0, node1) {\n\tvar edges0 = DirectedEdge.toEdges(node0.getOutEdges().getEdges());\n\tvar commonEdges = new HashSet(edges0);\n\tvar edges1 = DirectedEdge.toEdges(node1.getOutEdges().getEdges());\n\tcommonEdges.retainAll(edges1);\n\treturn commonEdges;\n};\n","import extend from '../../../../../extend';\nimport Edge from '../../planargraph/Edge';\nimport inherits from '../../../../../inherits';\nexport default function LineMergeEdge() {\n\tEdge.apply(this);\n\tthis._line = null;\n\tlet line = arguments[0];\n\tthis._line = line;\n}\ninherits(LineMergeEdge, Edge);\nextend(LineMergeEdge.prototype, {\n\tgetLine: function () {\n\t\treturn this._line;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LineMergeEdge;\n\t}\n});\n","import extend from '../../../../extend';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default function NodeMap() {\n\tthis._nodeMap = new TreeMap();\n}\nextend(NodeMap.prototype, {\n\tfind: function (coord) {\n\t\treturn this._nodeMap.get(coord);\n\t},\n\titerator: function () {\n\t\treturn this._nodeMap.values().iterator();\n\t},\n\tremove: function (pt) {\n\t\treturn this._nodeMap.remove(pt);\n\t},\n\tvalues: function () {\n\t\treturn this._nodeMap.values();\n\t},\n\tadd: function (n) {\n\t\tthis._nodeMap.put(n.getCoordinate(), n);\n\t\treturn n;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn NodeMap;\n\t}\n});\n","import HashSet from '../../../../java/util/HashSet';\nimport Node from './Node';\nimport extend from '../../../../extend';\nimport NodeMap from './NodeMap';\nimport DirectedEdge from './DirectedEdge';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Edge from './Edge';\nexport default function PlanarGraph() {\n\tthis._edges = new HashSet();\n\tthis._dirEdges = new HashSet();\n\tthis._nodeMap = new NodeMap();\n}\nextend(PlanarGraph.prototype, {\n\tfindNodesOfDegree: function (degree) {\n\t\tvar nodesFound = new ArrayList();\n\t\tfor (var i = this.nodeIterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tif (node.getDegree() === degree) nodesFound.add(node);\n\t\t}\n\t\treturn nodesFound;\n\t},\n\tdirEdgeIterator: function () {\n\t\treturn this._dirEdges.iterator();\n\t},\n\tedgeIterator: function () {\n\t\treturn this._edges.iterator();\n\t},\n\tremove: function () {\n\t\tif (arguments[0] instanceof Edge) {\n\t\t\tlet edge = arguments[0];\n\t\t\tthis.remove(edge.getDirEdge(0));\n\t\t\tthis.remove(edge.getDirEdge(1));\n\t\t\tthis._edges.remove(edge);\n\t\t\tedge.remove();\n\t\t} else if (arguments[0] instanceof DirectedEdge) {\n\t\t\tlet de = arguments[0];\n\t\t\tvar sym = de.getSym();\n\t\t\tif (sym !== null) sym.setSym(null);\n\t\t\tde.getFromNode().remove(de);\n\t\t\tde.remove();\n\t\t\tthis._dirEdges.remove(de);\n\t\t} else if (arguments[0] instanceof Node) {\n\t\t\tlet node = arguments[0];\n\t\t\tvar outEdges = node.getOutEdges().getEdges();\n\t\t\tfor (var i = outEdges.iterator(); i.hasNext(); ) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tvar sym = de.getSym();\n\t\t\t\tif (sym !== null) this.remove(sym);\n\t\t\t\tthis._dirEdges.remove(de);\n\t\t\t\tvar edge = de.getEdge();\n\t\t\t\tif (edge !== null) {\n\t\t\t\t\tthis._edges.remove(edge);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._nodeMap.remove(node.getCoordinate());\n\t\t\tnode.remove();\n\t\t}\n\t},\n\tfindNode: function (pt) {\n\t\treturn this._nodeMap.find(pt);\n\t},\n\tgetEdges: function () {\n\t\treturn this._edges;\n\t},\n\tnodeIterator: function () {\n\t\treturn this._nodeMap.iterator();\n\t},\n\tcontains: function () {\n\t\tif (arguments[0] instanceof Edge) {\n\t\t\tlet e = arguments[0];\n\t\t\treturn this._edges.contains(e);\n\t\t} else if (arguments[0] instanceof DirectedEdge) {\n\t\t\tlet de = arguments[0];\n\t\t\treturn this._dirEdges.contains(de);\n\t\t}\n\t},\n\tadd: function () {\n\t\tif (arguments[0] instanceof Node) {\n\t\t\tlet node = arguments[0];\n\t\t\tthis._nodeMap.add(node);\n\t\t} else if (arguments[0] instanceof Edge) {\n\t\t\tlet edge = arguments[0];\n\t\t\tthis._edges.add(edge);\n\t\t\tthis.add(edge.getDirEdge(0));\n\t\t\tthis.add(edge.getDirEdge(1));\n\t\t} else if (arguments[0] instanceof DirectedEdge) {\n\t\t\tlet dirEdge = arguments[0];\n\t\t\tthis._dirEdges.add(dirEdge);\n\t\t}\n\t},\n\tgetNodes: function () {\n\t\treturn this._nodeMap.values();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PlanarGraph;\n\t}\n});\n","import LineMergeDirectedEdge from './LineMergeDirectedEdge';\nimport Node from '../../planargraph/Node';\nimport extend from '../../../../../extend';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport LineMergeEdge from './LineMergeEdge';\nimport inherits from '../../../../../inherits';\nimport PlanarGraph from '../../planargraph/PlanarGraph';\nexport default function LineMergeGraph() {\n\tPlanarGraph.apply(this);\n}\ninherits(LineMergeGraph, PlanarGraph);\nextend(LineMergeGraph.prototype, {\n\taddEdge: function (lineString) {\n\t\tif (lineString.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\tvar coordinates = CoordinateArrays.removeRepeatedPoints(lineString.getCoordinates());\n\t\tif (coordinates.length <= 1) return null;\n\t\tvar startCoordinate = coordinates[0];\n\t\tvar endCoordinate = coordinates[coordinates.length - 1];\n\t\tvar startNode = this.getNode(startCoordinate);\n\t\tvar endNode = this.getNode(endCoordinate);\n\t\tvar directedEdge0 = new LineMergeDirectedEdge(startNode, endNode, coordinates[1], true);\n\t\tvar directedEdge1 = new LineMergeDirectedEdge(endNode, startNode, coordinates[coordinates.length - 2], false);\n\t\tvar edge = new LineMergeEdge(lineString);\n\t\tedge.setDirectedEdges(directedEdge0, directedEdge1);\n\t\tthis.add(edge);\n\t},\n\tgetNode: function (coordinate) {\n\t\tvar node = this.findNode(coordinate);\n\t\tif (node === null) {\n\t\t\tnode = new Node(coordinate);\n\t\t\tthis.add(node);\n\t\t}\n\t\treturn node;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LineMergeGraph;\n\t}\n});\n","import LineString from '../../geom/LineString';\nimport Geometry from '../../geom/Geometry';\nimport hasInterface from '../../../../../hasInterface';\nimport Collection from '../../../../../java/util/Collection';\nimport EdgeString from './EdgeString';\nimport extend from '../../../../../extend';\nimport LineMergeGraph from './LineMergeGraph';\nimport GeometryComponentFilter from '../../geom/GeometryComponentFilter';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport GraphComponent from '../../planargraph/GraphComponent';\nexport default function LineMerger() {\n\tthis._graph = new LineMergeGraph();\n\tthis._mergedLineStrings = null;\n\tthis._factory = null;\n\tthis._edgeStrings = null;\n}\nextend(LineMerger.prototype, {\n\tbuildEdgeStringsForUnprocessedNodes: function () {\n\t\tfor (var i = this._graph.getNodes().iterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tif (!node.isMarked()) {\n\t\t\t\tAssert.isTrue(node.getDegree() === 2);\n\t\t\t\tthis.buildEdgeStringsStartingAt(node);\n\t\t\t\tnode.setMarked(true);\n\t\t\t}\n\t\t}\n\t},\n\tbuildEdgeStringsForNonDegree2Nodes: function () {\n\t\tfor (var i = this._graph.getNodes().iterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tif (node.getDegree() !== 2) {\n\t\t\t\tthis.buildEdgeStringsStartingAt(node);\n\t\t\t\tnode.setMarked(true);\n\t\t\t}\n\t\t}\n\t},\n\tbuildEdgeStringsForObviousStartNodes: function () {\n\t\tthis.buildEdgeStringsForNonDegree2Nodes();\n\t},\n\tgetMergedLineStrings: function () {\n\t\tthis.merge();\n\t\treturn this._mergedLineStrings;\n\t},\n\tbuildEdgeStringsStartingAt: function (node) {\n\t\tfor (var i = node.getOutEdges().iterator(); i.hasNext(); ) {\n\t\t\tvar directedEdge = i.next();\n\t\t\tif (directedEdge.getEdge().isMarked()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._edgeStrings.add(this.buildEdgeStringStartingWith(directedEdge));\n\t\t}\n\t},\n\tmerge: function () {\n\t\tif (this._mergedLineStrings !== null) {\n\t\t\treturn null;\n\t\t}\n\t\tGraphComponent.setMarked(this._graph.nodeIterator(), false);\n\t\tGraphComponent.setMarked(this._graph.edgeIterator(), false);\n\t\tthis._edgeStrings = new ArrayList();\n\t\tthis.buildEdgeStringsForObviousStartNodes();\n\t\tthis.buildEdgeStringsForIsolatedLoops();\n\t\tthis._mergedLineStrings = new ArrayList();\n\t\tfor (var i = this._edgeStrings.iterator(); i.hasNext(); ) {\n\t\t\tvar edgeString = i.next();\n\t\t\tthis._mergedLineStrings.add(edgeString.toLineString());\n\t\t}\n\t},\n\tbuildEdgeStringStartingWith: function (start) {\n\t\tvar edgeString = new EdgeString(this._factory);\n\t\tvar current = start;\n\t\tdo {\n\t\t\tedgeString.add(current);\n\t\t\tcurrent.getEdge().setMarked(true);\n\t\t\tcurrent = current.getNext();\n\t\t} while (current !== null && current !== start);\n\t\treturn edgeString;\n\t},\n\tadd: function () {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geometry = arguments[0];\n\t\t\tgeometry.apply({\n\t\t\t\tinterfaces_: function () {\n\t\t\t\t\treturn [GeometryComponentFilter];\n\t\t\t\t},\n\t\t\t\tfilter: function (component) {\n\t\t\t\t\tif (component instanceof LineString) {\n\t\t\t\t\t\tthis.add(component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geometries = arguments[0];\n\t\t\tthis._mergedLineStrings = null;\n\t\t\tfor (var i = geometries.iterator(); i.hasNext(); ) {\n\t\t\t\tvar geometry = i.next();\n\t\t\t\tthis.add(geometry);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tlet lineString = arguments[0];\n\t\t\tif (this._factory === null) {\n\t\t\t\tthis._factory = lineString.getFactory();\n\t\t\t}\n\t\t\tthis._graph.addEdge(lineString);\n\t\t}\n\t},\n\tbuildEdgeStringsForIsolatedLoops: function () {\n\t\tthis.buildEdgeStringsForUnprocessedNodes();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LineMerger;\n\t}\n});\n","import WKTWriter from '../io/WKTWriter';\nimport CoordinateArraySequence from '../geom/impl/CoordinateArraySequence';\nimport Octant from './Octant';\nimport extend from '../../../../extend';\nimport SegmentString from './SegmentString';\nexport default function BasicSegmentString() {\n\tthis._pts = null;\n\tthis._data = null;\n\tlet pts = arguments[0], data = arguments[1];\n\tthis._pts = pts;\n\tthis._data = data;\n}\nextend(BasicSegmentString.prototype, {\n\tgetCoordinates: function () {\n\t\treturn this._pts;\n\t},\n\tsize: function () {\n\t\treturn this._pts.length;\n\t},\n\tgetCoordinate: function (i) {\n\t\treturn this._pts[i];\n\t},\n\tisClosed: function () {\n\t\treturn this._pts[0].equals(this._pts[this._pts.length - 1]);\n\t},\n\tgetSegmentOctant: function (index) {\n\t\tif (index === this._pts.length - 1) return -1;\n\t\treturn Octant.octant(this.getCoordinate(index), this.getCoordinate(index + 1));\n\t},\n\tsetData: function (data) {\n\t\tthis._data = data;\n\t},\n\tgetData: function () {\n\t\treturn this._data;\n\t},\n\ttoString: function () {\n\t\treturn WKTWriter.toLineString(new CoordinateArraySequence(this._pts));\n\t},\n\tinterfaces_: function () {\n\t\treturn [SegmentString];\n\t},\n\tgetClass: function () {\n\t\treturn BasicSegmentString;\n\t}\n});\n","import extend from '../../../../extend';\nimport SegmentIntersector from './SegmentIntersector';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function InteriorIntersectionFinder() {\n\tthis._findAllIntersections = false;\n\tthis._isCheckEndSegmentsOnly = false;\n\tthis._li = null;\n\tthis._interiorIntersection = null;\n\tthis._intSegments = null;\n\tthis._intersections = new ArrayList();\n\tthis._intersectionCount = 0;\n\tthis._keepIntersections = true;\n\tlet li = arguments[0];\n\tthis._li = li;\n\tthis._interiorIntersection = null;\n}\nextend(InteriorIntersectionFinder.prototype, {\n\tgetInteriorIntersection: function () {\n\t\treturn this._interiorIntersection;\n\t},\n\tsetCheckEndSegmentsOnly: function (isCheckEndSegmentsOnly) {\n\t\tthis._isCheckEndSegmentsOnly = isCheckEndSegmentsOnly;\n\t},\n\tgetIntersectionSegments: function () {\n\t\treturn this._intSegments;\n\t},\n\tcount: function () {\n\t\treturn this._intersectionCount;\n\t},\n\tgetIntersections: function () {\n\t\treturn this._intersections;\n\t},\n\tsetFindAllIntersections: function (findAllIntersections) {\n\t\tthis._findAllIntersections = findAllIntersections;\n\t},\n\tsetKeepIntersections: function (keepIntersections) {\n\t\tthis._keepIntersections = keepIntersections;\n\t},\n\tprocessIntersections: function (e0, segIndex0, e1, segIndex1) {\n\t\tif (!this._findAllIntersections && this.hasIntersection()) return null;\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tif (this._isCheckEndSegmentsOnly) {\n\t\t\tvar isEndSegPresent = this.isEndSegment(e0, segIndex0) || this.isEndSegment(e1, segIndex1);\n\t\t\tif (!isEndSegPresent) return null;\n\t\t}\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tif (this._li.isInteriorIntersection()) {\n\t\t\t\tthis._intSegments = new Array(4).fill(null);\n\t\t\t\tthis._intSegments[0] = p00;\n\t\t\t\tthis._intSegments[1] = p01;\n\t\t\t\tthis._intSegments[2] = p10;\n\t\t\t\tthis._intSegments[3] = p11;\n\t\t\t\tthis._interiorIntersection = this._li.getIntersection(0);\n\t\t\t\tif (this._keepIntersections) this._intersections.add(this._interiorIntersection);\n\t\t\t\tthis._intersectionCount++;\n\t\t\t}\n\t\t}\n\t},\n\tisEndSegment: function (segStr, index) {\n\t\tif (index === 0) return true;\n\t\tif (index >= segStr.size() - 2) return true;\n\t\treturn false;\n\t},\n\thasIntersection: function () {\n\t\treturn this._interiorIntersection !== null;\n\t},\n\tisDone: function () {\n\t\tif (this._findAllIntersections) return false;\n\t\treturn this._interiorIntersection !== null;\n\t},\n\tinterfaces_: function () {\n\t\treturn [SegmentIntersector];\n\t},\n\tgetClass: function () {\n\t\treturn InteriorIntersectionFinder;\n\t}\n});\nInteriorIntersectionFinder.createAllIntersectionsFinder = function (li) {\n\tvar finder = new InteriorIntersectionFinder(li);\n\tfinder.setFindAllIntersections(true);\n\treturn finder;\n};\nInteriorIntersectionFinder.createAnyIntersectionFinder = function (li) {\n\treturn new InteriorIntersectionFinder(li);\n};\nInteriorIntersectionFinder.createIntersectionCounter = function (li) {\n\tvar finder = new InteriorIntersectionFinder(li);\n\tfinder.setFindAllIntersections(true);\n\tfinder.setKeepIntersections(false);\n\treturn finder;\n};\n","import WKTWriter from '../io/WKTWriter';\nimport MCIndexNoder from './MCIndexNoder';\nimport TopologyException from '../geom/TopologyException';\nimport extend from '../../../../extend';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nimport InteriorIntersectionFinder from './InteriorIntersectionFinder';\nexport default function FastNodingValidator() {\n\tthis._li = new RobustLineIntersector();\n\tthis._segStrings = null;\n\tthis._findAllIntersections = false;\n\tthis._segInt = null;\n\tthis._isValid = true;\n\tlet segStrings = arguments[0];\n\tthis._segStrings = segStrings;\n}\nextend(FastNodingValidator.prototype, {\n\texecute: function () {\n\t\tif (this._segInt !== null) return null;\n\t\tthis.checkInteriorIntersections();\n\t},\n\tgetIntersections: function () {\n\t\treturn this._segInt.getIntersections();\n\t},\n\tisValid: function () {\n\t\tthis.execute();\n\t\treturn this._isValid;\n\t},\n\tsetFindAllIntersections: function (findAllIntersections) {\n\t\tthis._findAllIntersections = findAllIntersections;\n\t},\n\tcheckInteriorIntersections: function () {\n\t\tthis._isValid = true;\n\t\tthis._segInt = new InteriorIntersectionFinder(this._li);\n\t\tthis._segInt.setFindAllIntersections(this._findAllIntersections);\n\t\tvar noder = new MCIndexNoder();\n\t\tnoder.setSegmentIntersector(this._segInt);\n\t\tnoder.computeNodes(this._segStrings);\n\t\tif (this._segInt.hasIntersection()) {\n\t\t\tthis._isValid = false;\n\t\t\treturn null;\n\t\t}\n\t},\n\tcheckValid: function () {\n\t\tthis.execute();\n\t\tif (!this._isValid) throw new TopologyException(this.getErrorMessage(), this._segInt.getInteriorIntersection());\n\t},\n\tgetErrorMessage: function () {\n\t\tif (this._isValid) return \"no intersections found\";\n\t\tvar intSegs = this._segInt.getIntersectionSegments();\n\t\treturn \"found non-noded intersection between \" + WKTWriter.toLineString(intSegs[0], intSegs[1]) + \" and \" + WKTWriter.toLineString(intSegs[2], intSegs[3]);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn FastNodingValidator;\n\t}\n});\nFastNodingValidator.computeIntersections = function (segStrings) {\n\tvar nv = new FastNodingValidator(segStrings);\n\tnv.setFindAllIntersections(true);\n\tnv.isValid();\n\treturn nv.getIntersections();\n};\n","import BasicSegmentString from '../noding/BasicSegmentString';\nimport extend from '../../../../extend';\nimport FastNodingValidator from '../noding/FastNodingValidator';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function EdgeNodingValidator() {\n\tthis._nv = null;\n\tlet edges = arguments[0];\n\tthis._nv = new FastNodingValidator(EdgeNodingValidator.toSegmentStrings(edges));\n}\nextend(EdgeNodingValidator.prototype, {\n\tcheckValid: function () {\n\t\tthis._nv.checkValid();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeNodingValidator;\n\t}\n});\nEdgeNodingValidator.toSegmentStrings = function (edges) {\n\tvar segStrings = new ArrayList();\n\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\tvar e = i.next();\n\t\tsegStrings.add(new BasicSegmentString(e.getCoordinates(), e));\n\t}\n\treturn segStrings;\n};\nEdgeNodingValidator.checkValid = function (edges) {\n\tvar validator = new EdgeNodingValidator(edges);\n\tvalidator.checkValid();\n};\n","import GeometryFactory from '../GeometryFactory';\nimport extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default function GeometryCollectionMapper() {\n\tthis._mapOp = null;\n\tlet mapOp = arguments[0];\n\tthis._mapOp = mapOp;\n}\nextend(GeometryCollectionMapper.prototype, {\n\tmap: function (gc) {\n\t\tvar mapped = new ArrayList();\n\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\tvar g = this._mapOp.map(gc.getGeometryN(i));\n\t\t\tif (!g.isEmpty()) mapped.add(g);\n\t\t}\n\t\treturn gc.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(mapped));\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryCollectionMapper;\n\t}\n});\nGeometryCollectionMapper.map = function (gc, op) {\n\tvar mapper = new GeometryCollectionMapper(op);\n\treturn mapper.map(gc);\n};\n","import extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport OverlayOp from './OverlayOp';\nexport default function LineBuilder() {\n\tthis._op = null;\n\tthis._geometryFactory = null;\n\tthis._ptLocator = null;\n\tthis._lineEdgesList = new ArrayList();\n\tthis._resultLineList = new ArrayList();\n\tlet op = arguments[0], geometryFactory = arguments[1], ptLocator = arguments[2];\n\tthis._op = op;\n\tthis._geometryFactory = geometryFactory;\n\tthis._ptLocator = ptLocator;\n}\nextend(LineBuilder.prototype, {\n\tcollectLines: function (opCode) {\n\t\tfor (var it = this._op.getGraph().getEdgeEnds().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tthis.collectLineEdge(de, opCode, this._lineEdgesList);\n\t\t\tthis.collectBoundaryTouchEdge(de, opCode, this._lineEdgesList);\n\t\t}\n\t},\n\tlabelIsolatedLine: function (e, targetIndex) {\n\t\tvar loc = this._ptLocator.locate(e.getCoordinate(), this._op.getArgGeometry(targetIndex));\n\t\te.getLabel().setLocation(targetIndex, loc);\n\t},\n\tbuild: function (opCode) {\n\t\tthis.findCoveredLineEdges();\n\t\tthis.collectLines(opCode);\n\t\tthis.buildLines(opCode);\n\t\treturn this._resultLineList;\n\t},\n\tcollectLineEdge: function (de, opCode, edges) {\n\t\tvar label = de.getLabel();\n\t\tvar e = de.getEdge();\n\t\tif (de.isLineEdge()) {\n\t\t\tif (!de.isVisited() && OverlayOp.isResultOfOp(label, opCode) && !e.isCovered()) {\n\t\t\t\tedges.add(e);\n\t\t\t\tde.setVisitedEdge(true);\n\t\t\t}\n\t\t}\n\t},\n\tfindCoveredLineEdges: function () {\n\t\tfor (var nodeit = this._op.getGraph().getNodes().iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().findCoveredLineEdges();\n\t\t}\n\t\tfor (var it = this._op.getGraph().getEdgeEnds().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tvar e = de.getEdge();\n\t\t\tif (de.isLineEdge() && !e.isCoveredSet()) {\n\t\t\t\tvar isCovered = this._op.isCoveredByA(de.getCoordinate());\n\t\t\t\te.setCovered(isCovered);\n\t\t\t}\n\t\t}\n\t},\n\tlabelIsolatedLines: function (edgesList) {\n\t\tfor (var it = edgesList.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tif (e.isIsolated()) {\n\t\t\t\tif (label.isNull(0)) this.labelIsolatedLine(e, 0); else this.labelIsolatedLine(e, 1);\n\t\t\t}\n\t\t}\n\t},\n\tbuildLines: function (opCode) {\n\t\tfor (var it = this._lineEdgesList.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tvar line = this._geometryFactory.createLineString(e.getCoordinates());\n\t\t\tthis._resultLineList.add(line);\n\t\t\te.setInResult(true);\n\t\t}\n\t},\n\tcollectBoundaryTouchEdge: function (de, opCode, edges) {\n\t\tvar label = de.getLabel();\n\t\tif (de.isLineEdge()) return null;\n\t\tif (de.isVisited()) return null;\n\t\tif (de.isInteriorAreaEdge()) return null;\n\t\tif (de.getEdge().isInResult()) return null;\n\t\tAssert.isTrue(!(de.isInResult() || de.getSym().isInResult()) || !de.getEdge().isInResult());\n\t\tif (OverlayOp.isResultOfOp(label, opCode) && opCode === OverlayOp.INTERSECTION) {\n\t\t\tedges.add(de.getEdge());\n\t\t\tde.setVisitedEdge(true);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LineBuilder;\n\t}\n});\n","import extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport OverlayOp from './OverlayOp';\nexport default function PointBuilder() {\n\tthis._op = null;\n\tthis._geometryFactory = null;\n\tthis._resultPointList = new ArrayList();\n\tlet op = arguments[0], geometryFactory = arguments[1], ptLocator = arguments[2];\n\tthis._op = op;\n\tthis._geometryFactory = geometryFactory;\n}\nextend(PointBuilder.prototype, {\n\tfilterCoveredNodeToPoint: function (n) {\n\t\tvar coord = n.getCoordinate();\n\t\tif (!this._op.isCoveredByLA(coord)) {\n\t\t\tvar pt = this._geometryFactory.createPoint(coord);\n\t\t\tthis._resultPointList.add(pt);\n\t\t}\n\t},\n\textractNonCoveredResultNodes: function (opCode) {\n\t\tfor (var nodeit = this._op.getGraph().getNodes().iterator(); nodeit.hasNext(); ) {\n\t\t\tvar n = nodeit.next();\n\t\t\tif (n.isInResult()) continue;\n\t\t\tif (n.isIncidentEdgeInResult()) continue;\n\t\t\tif (n.getEdges().getDegree() === 0 || opCode === OverlayOp.INTERSECTION) {\n\t\t\t\tvar label = n.getLabel();\n\t\t\t\tif (OverlayOp.isResultOfOp(label, opCode)) {\n\t\t\t\t\tthis.filterCoveredNodeToPoint(n);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tbuild: function (opCode) {\n\t\tthis.extractNonCoveredResultNodes(opCode);\n\t\treturn this._resultPointList;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PointBuilder;\n\t}\n});\n","import LineString from '../../../geom/LineString';\nimport CoordinateList from '../../../geom/CoordinateList';\nimport Coordinate from '../../../geom/Coordinate';\nimport Double from '../../../../../../java/lang/Double';\nimport extend from '../../../../../../extend';\nimport LineSegment from '../../../geom/LineSegment';\nexport default function LineStringSnapper() {\n\tthis._snapTolerance = 0.0;\n\tthis._srcPts = null;\n\tthis._seg = new LineSegment();\n\tthis._allowSnappingToSourceVertices = false;\n\tthis._isClosed = false;\n\tif (arguments[0] instanceof LineString && typeof arguments[1] === \"number\") {\n\t\tlet srcLine = arguments[0], snapTolerance = arguments[1];\n\t\tLineStringSnapper.call(this, srcLine.getCoordinates(), snapTolerance);\n\t} else if (arguments[0] instanceof Array && typeof arguments[1] === \"number\") {\n\t\tlet srcPts = arguments[0], snapTolerance = arguments[1];\n\t\tthis._srcPts = srcPts;\n\t\tthis._isClosed = LineStringSnapper.isClosed(srcPts);\n\t\tthis._snapTolerance = snapTolerance;\n\t}\n}\nextend(LineStringSnapper.prototype, {\n\tsnapVertices: function (srcCoords, snapPts) {\n\t\tvar end = this._isClosed ? srcCoords.size() - 1 : srcCoords.size();\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar srcPt = srcCoords.get(i);\n\t\t\tvar snapVert = this.findSnapForVertex(srcPt, snapPts);\n\t\t\tif (snapVert !== null) {\n\t\t\t\tsrcCoords.set(i, new Coordinate(snapVert));\n\t\t\t\tif (i === 0 && this._isClosed) srcCoords.set(srcCoords.size() - 1, new Coordinate(snapVert));\n\t\t\t}\n\t\t}\n\t},\n\tfindSnapForVertex: function (pt, snapPts) {\n\t\tfor (var i = 0; i < snapPts.length; i++) {\n\t\t\tif (pt.equals2D(snapPts[i])) return null;\n\t\t\tif (pt.distance(snapPts[i]) < this._snapTolerance) return snapPts[i];\n\t\t}\n\t\treturn null;\n\t},\n\tsnapTo: function (snapPts) {\n\t\tvar coordList = new CoordinateList(this._srcPts);\n\t\tthis.snapVertices(coordList, snapPts);\n\t\tthis.snapSegments(coordList, snapPts);\n\t\tvar newPts = coordList.toCoordinateArray();\n\t\treturn newPts;\n\t},\n\tsnapSegments: function (srcCoords, snapPts) {\n\t\tif (snapPts.length === 0) return null;\n\t\tvar distinctPtCount = snapPts.length;\n\t\tif (snapPts[0].equals2D(snapPts[snapPts.length - 1])) distinctPtCount = snapPts.length - 1;\n\t\tfor (var i = 0; i < distinctPtCount; i++) {\n\t\t\tvar snapPt = snapPts[i];\n\t\t\tvar index = this.findSegmentIndexToSnap(snapPt, srcCoords);\n\t\t\tif (index >= 0) {\n\t\t\t\tsrcCoords.add(index + 1, new Coordinate(snapPt), false);\n\t\t\t}\n\t\t}\n\t},\n\tfindSegmentIndexToSnap: function (snapPt, srcCoords) {\n\t\tvar minDist = Double.MAX_VALUE;\n\t\tvar snapIndex = -1;\n\t\tfor (var i = 0; i < srcCoords.size() - 1; i++) {\n\t\t\tthis._seg.p0 = srcCoords.get(i);\n\t\t\tthis._seg.p1 = srcCoords.get(i + 1);\n\t\t\tif (this._seg.p0.equals2D(snapPt) || this._seg.p1.equals2D(snapPt)) {\n\t\t\t\tif (this._allowSnappingToSourceVertices) continue; else return -1;\n\t\t\t}\n\t\t\tvar dist = this._seg.distance(snapPt);\n\t\t\tif (dist < this._snapTolerance && dist < minDist) {\n\t\t\t\tminDist = dist;\n\t\t\t\tsnapIndex = i;\n\t\t\t}\n\t\t}\n\t\treturn snapIndex;\n\t},\n\tsetAllowSnappingToSourceVertices: function (allowSnappingToSourceVertices) {\n\t\tthis._allowSnappingToSourceVertices = allowSnappingToSourceVertices;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LineStringSnapper;\n\t}\n});\nLineStringSnapper.isClosed = function (pts) {\n\tif (pts.length <= 1) return false;\n\treturn pts[0].equals2D(pts[pts.length - 1]);\n};\n","import TreeSet from '../../../../../../java/util/TreeSet';\nimport GeometryTransformer from '../../../geom/util/GeometryTransformer';\nimport hasInterface from '../../../../../../hasInterface';\nimport Double from '../../../../../../java/lang/Double';\nimport extend from '../../../../../../extend';\nimport LineStringSnapper from './LineStringSnapper';\nimport PrecisionModel from '../../../geom/PrecisionModel';\nimport Polygonal from '../../../geom/Polygonal';\nimport inherits from '../../../../../../inherits';\nexport default function GeometrySnapper() {\n\tthis._srcGeom = null;\n\tlet srcGeom = arguments[0];\n\tthis._srcGeom = srcGeom;\n}\nextend(GeometrySnapper.prototype, {\n\tsnapTo: function (snapGeom, snapTolerance) {\n\t\tvar snapPts = this.extractTargetCoordinates(snapGeom);\n\t\tvar snapTrans = new SnapTransformer(snapTolerance, snapPts);\n\t\treturn snapTrans.transform(this._srcGeom);\n\t},\n\tsnapToSelf: function (snapTolerance, cleanResult) {\n\t\tvar snapPts = this.extractTargetCoordinates(this._srcGeom);\n\t\tvar snapTrans = new SnapTransformer(snapTolerance, snapPts, true);\n\t\tvar snappedGeom = snapTrans.transform(this._srcGeom);\n\t\tvar result = snappedGeom;\n\t\tif (cleanResult && hasInterface(result, Polygonal)) {\n\t\t\tresult = snappedGeom.buffer(0);\n\t\t}\n\t\treturn result;\n\t},\n\tcomputeSnapTolerance: function (ringPts) {\n\t\tvar minSegLen = this.computeMinimumSegmentLength(ringPts);\n\t\tvar snapTol = minSegLen / 10;\n\t\treturn snapTol;\n\t},\n\textractTargetCoordinates: function (g) {\n\t\tvar ptSet = new TreeSet();\n\t\tvar pts = g.getCoordinates();\n\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\tptSet.add(pts[i]);\n\t\t}\n\t\treturn ptSet.toArray(new Array(0).fill(null));\n\t},\n\tcomputeMinimumSegmentLength: function (pts) {\n\t\tvar minSegLen = Double.MAX_VALUE;\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tvar segLen = pts[i].distance(pts[i + 1]);\n\t\t\tif (segLen < minSegLen) minSegLen = segLen;\n\t\t}\n\t\treturn minSegLen;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometrySnapper;\n\t}\n});\nGeometrySnapper.snap = function (g0, g1, snapTolerance) {\n\tvar snapGeom = new Array(2).fill(null);\n\tvar snapper0 = new GeometrySnapper(g0);\n\tsnapGeom[0] = snapper0.snapTo(g1, snapTolerance);\n\tvar snapper1 = new GeometrySnapper(g1);\n\tsnapGeom[1] = snapper1.snapTo(snapGeom[0], snapTolerance);\n\treturn snapGeom;\n};\nGeometrySnapper.computeOverlaySnapTolerance = function () {\n\tif (arguments.length === 1) {\n\t\tlet g = arguments[0];\n\t\tvar snapTolerance = GeometrySnapper.computeSizeBasedSnapTolerance(g);\n\t\tvar pm = g.getPrecisionModel();\n\t\tif (pm.getType() === PrecisionModel.FIXED) {\n\t\t\tvar fixedSnapTol = 1 / pm.getScale() * 2 / 1.415;\n\t\t\tif (fixedSnapTol > snapTolerance) snapTolerance = fixedSnapTol;\n\t\t}\n\t\treturn snapTolerance;\n\t} else if (arguments.length === 2) {\n\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\treturn Math.min(GeometrySnapper.computeOverlaySnapTolerance(g0), GeometrySnapper.computeOverlaySnapTolerance(g1));\n\t}\n};\nGeometrySnapper.computeSizeBasedSnapTolerance = function (g) {\n\tvar env = g.getEnvelopeInternal();\n\tvar minDimension = Math.min(env.getHeight(), env.getWidth());\n\tvar snapTol = minDimension * GeometrySnapper.SNAP_PRECISION_FACTOR;\n\treturn snapTol;\n};\nGeometrySnapper.snapToSelf = function (geom, snapTolerance, cleanResult) {\n\tvar snapper0 = new GeometrySnapper(geom);\n\treturn snapper0.snapToSelf(snapTolerance, cleanResult);\n};\nGeometrySnapper.SNAP_PRECISION_FACTOR = 1e-9;\nfunction SnapTransformer() {\n\tGeometryTransformer.apply(this);\n\tthis._snapTolerance = null;\n\tthis._snapPts = null;\n\tthis._isSelfSnap = false;\n\tif (arguments.length === 2) {\n\t\tlet snapTolerance = arguments[0], snapPts = arguments[1];\n\t\tthis._snapTolerance = snapTolerance;\n\t\tthis._snapPts = snapPts;\n\t} else if (arguments.length === 3) {\n\t\tlet snapTolerance = arguments[0], snapPts = arguments[1], isSelfSnap = arguments[2];\n\t\tthis._snapTolerance = snapTolerance;\n\t\tthis._snapPts = snapPts;\n\t\tthis._isSelfSnap = isSelfSnap;\n\t}\n}\ninherits(SnapTransformer, GeometryTransformer);\nextend(SnapTransformer.prototype, {\n\tsnapLine: function (srcPts, snapPts) {\n\t\tvar snapper = new LineStringSnapper(srcPts, this._snapTolerance);\n\t\tsnapper.setAllowSnappingToSourceVertices(this._isSelfSnap);\n\t\treturn snapper.snapTo(snapPts);\n\t},\n\ttransformCoordinates: function (coords, parent) {\n\t\tvar srcPts = coords.toCoordinateArray();\n\t\tvar newPts = this.snapLine(srcPts, this._snapPts);\n\t\treturn this._factory.getCoordinateSequenceFactory().create(newPts);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SnapTransformer;\n\t}\n});\n","import Double from '../../../../java/lang/Double';\nimport Long from '../../../../java/lang/Long';\nimport extend from '../../../../extend';\nexport default function CommonBits() {\n\tthis._isFirst = true;\n\tthis._commonMantissaBitsCount = 53;\n\tthis._commonBits = new Long();\n\tthis._commonSignExp = null;\n}\nextend(CommonBits.prototype, {\n\tgetCommon: function () {\n\t\treturn Double.longBitsToDouble(this._commonBits);\n\t},\n\tadd: function (num) {\n\t\tvar numBits = Double.doubleToLongBits(num);\n\t\tif (this._isFirst) {\n\t\t\tthis._commonBits = numBits;\n\t\t\tthis._commonSignExp = CommonBits.signExpBits(this._commonBits);\n\t\t\tthis._isFirst = false;\n\t\t\treturn null;\n\t\t}\n\t\tvar numSignExp = CommonBits.signExpBits(numBits);\n\t\tif (numSignExp !== this._commonSignExp) {\n\t\t\tthis._commonBits.high = 0 | 0;\n\t\t\tthis._commonBits.low = 0 | 0;\n\t\t\treturn null;\n\t\t}\n\t\tthis._commonMantissaBitsCount = CommonBits.numCommonMostSigMantissaBits(this._commonBits, numBits);\n\t\tthis._commonBits = CommonBits.zeroLowerBits(this._commonBits, 64 - (12 + this._commonMantissaBitsCount));\n\t},\n\ttoString: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet bits = arguments[0];\n\t\t\tvar x = Double.longBitsToDouble(bits);\n\t\t\tvar numStr = Long.toBinaryString(bits);\n\t\t\tvar padStr = \"0000000000000000000000000000000000000000000000000000000000000000\" + numStr;\n\t\t\tvar bitStr = padStr.substring(padStr.length - 64);\n\t\t\tvar str = bitStr.substring(0, 1) + \"  \" + bitStr.substring(1, 12) + \"(exp) \" + bitStr.substring(12) + \" [ \" + x + \" ]\";\n\t\t\treturn str;\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CommonBits;\n\t}\n});\nCommonBits.getBit = function (bits, i) {\n\tvar mask = (1 << (i % 32));\n\tif (i < 32) {\n\t\treturn (bits.low & mask) != 0 ? 1 : 0;\n\t}\n\treturn (bits.high & mask) != 0 ? 1 : 0;\n};\nCommonBits.signExpBits = function (num) {\n\treturn num.high >>> 20;\n};\nCommonBits.zeroLowerBits = function (bits, nBits) {\n\tvar prop = 'low';\n\tif (nBits > 32) {\n\t\tbits.low = 0 | 0;\n\t\tnBits %= 32;\n\t\tprop = 'high';\n\t}\n\tif (nBits > 0) {\n\t\tvar mask = (nBits < 32) ? (~((1 << nBits) - 1)) : 0;\n\t\tbits[prop] &= mask;\n\t}\n\treturn bits;\n};\nCommonBits.numCommonMostSigMantissaBits = function (num1, num2) {\n\tvar count = 0;\n\tfor (var i = 52; i >= 0; i--) {\n\t\tif (CommonBits.getBit(num1, i) !== CommonBits.getBit(num2, i)) return count;\n\t\tcount++;\n\t}\n\treturn 52;\n};\n","import CommonBits from './CommonBits';\nimport CoordinateFilter from '../geom/CoordinateFilter';\nimport Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport CoordinateSequenceFilter from '../geom/CoordinateSequenceFilter';\nexport default function CommonBitsRemover() {\n\tthis._commonCoord = null;\n\tthis._ccFilter = new CommonCoordinateFilter();\n}\nextend(CommonBitsRemover.prototype, {\n\taddCommonBits: function (geom) {\n\t\tvar trans = new Translater(this._commonCoord);\n\t\tgeom.apply(trans);\n\t\tgeom.geometryChanged();\n\t},\n\tremoveCommonBits: function (geom) {\n\t\tif (this._commonCoord.x === 0.0 && this._commonCoord.y === 0.0) return geom;\n\t\tvar invCoord = new Coordinate(this._commonCoord);\n\t\tinvCoord.x = -invCoord.x;\n\t\tinvCoord.y = -invCoord.y;\n\t\tvar trans = new Translater(invCoord);\n\t\tgeom.apply(trans);\n\t\tgeom.geometryChanged();\n\t\treturn geom;\n\t},\n\tgetCommonCoordinate: function () {\n\t\treturn this._commonCoord;\n\t},\n\tadd: function (geom) {\n\t\tgeom.apply(this._ccFilter);\n\t\tthis._commonCoord = this._ccFilter.getCommonCoordinate();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CommonBitsRemover;\n\t}\n});\nfunction CommonCoordinateFilter() {\n\tthis._commonBitsX = new CommonBits();\n\tthis._commonBitsY = new CommonBits();\n}\nextend(CommonCoordinateFilter.prototype, {\n\tfilter: function (coord) {\n\t\tthis._commonBitsX.add(coord.x);\n\t\tthis._commonBitsY.add(coord.y);\n\t},\n\tgetCommonCoordinate: function () {\n\t\treturn new Coordinate(this._commonBitsX.getCommon(), this._commonBitsY.getCommon());\n\t},\n\tinterfaces_: function () {\n\t\treturn [CoordinateFilter];\n\t},\n\tgetClass: function () {\n\t\treturn CommonCoordinateFilter;\n\t}\n});\nfunction Translater() {\n\tthis.trans = null;\n\tlet trans = arguments[0];\n\tthis.trans = trans;\n}\nextend(Translater.prototype, {\n\tfilter: function (seq, i) {\n\t\tvar xp = seq.getOrdinate(i, 0) + this.trans.x;\n\t\tvar yp = seq.getOrdinate(i, 1) + this.trans.y;\n\t\tseq.setOrdinate(i, 0, xp);\n\t\tseq.setOrdinate(i, 1, yp);\n\t},\n\tisDone: function () {\n\t\treturn false;\n\t},\n\tisGeometryChanged: function () {\n\t\treturn true;\n\t},\n\tinterfaces_: function () {\n\t\treturn [CoordinateSequenceFilter];\n\t},\n\tgetClass: function () {\n\t\treturn Translater;\n\t}\n});\nCommonBitsRemover.CommonCoordinateFilter = CommonCoordinateFilter;\nCommonBitsRemover.Translater = Translater;\n","import GeometrySnapper from './GeometrySnapper';\nimport extend from '../../../../../../extend';\nimport System from '../../../../../../java/lang/System';\nimport CommonBitsRemover from '../../../precision/CommonBitsRemover';\nimport OverlayOp from '../OverlayOp';\nexport default function SnapOverlayOp() {\n\tthis._geom = new Array(2).fill(null);\n\tthis._snapTolerance = null;\n\tthis._cbr = null;\n\tlet g1 = arguments[0], g2 = arguments[1];\n\tthis._geom[0] = g1;\n\tthis._geom[1] = g2;\n\tthis.computeSnapTolerance();\n}\nextend(SnapOverlayOp.prototype, {\n\tselfSnap: function (geom) {\n\t\tvar snapper0 = new GeometrySnapper(geom);\n\t\tvar snapGeom = snapper0.snapTo(geom, this._snapTolerance);\n\t\treturn snapGeom;\n\t},\n\tremoveCommonBits: function (geom) {\n\t\tthis._cbr = new CommonBitsRemover();\n\t\tthis._cbr.add(geom[0]);\n\t\tthis._cbr.add(geom[1]);\n\t\tvar remGeom = new Array(2).fill(null);\n\t\tremGeom[0] = this._cbr.removeCommonBits(geom[0].copy());\n\t\tremGeom[1] = this._cbr.removeCommonBits(geom[1].copy());\n\t\treturn remGeom;\n\t},\n\tprepareResult: function (geom) {\n\t\tthis._cbr.addCommonBits(geom);\n\t\treturn geom;\n\t},\n\tgetResultGeometry: function (opCode) {\n\t\tvar prepGeom = this.snap(this._geom);\n\t\tvar result = OverlayOp.overlayOp(prepGeom[0], prepGeom[1], opCode);\n\t\treturn this.prepareResult(result);\n\t},\n\tcheckValid: function (g) {\n\t\tif (!g.isValid()) {\n\t\t\tSystem.out.println(\"Snapped geometry is invalid\");\n\t\t}\n\t},\n\tcomputeSnapTolerance: function () {\n\t\tthis._snapTolerance = GeometrySnapper.computeOverlaySnapTolerance(this._geom[0], this._geom[1]);\n\t},\n\tsnap: function (geom) {\n\t\tvar remGeom = this.removeCommonBits(geom);\n\t\tvar snapGeom = GeometrySnapper.snap(remGeom[0], remGeom[1], this._snapTolerance);\n\t\treturn snapGeom;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SnapOverlayOp;\n\t}\n});\nSnapOverlayOp.overlayOp = function (g0, g1, opCode) {\n\tvar op = new SnapOverlayOp(g0, g1);\n\treturn op.getResultGeometry(opCode);\n};\nSnapOverlayOp.union = function (g0, g1) {\n\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.UNION);\n};\nSnapOverlayOp.intersection = function (g0, g1) {\n\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.INTERSECTION);\n};\nSnapOverlayOp.symDifference = function (g0, g1) {\n\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.SYMDIFFERENCE);\n};\nSnapOverlayOp.difference = function (g0, g1) {\n\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.DIFFERENCE);\n};\n","import SnapOverlayOp from './SnapOverlayOp';\nimport extend from '../../../../../../extend';\nimport RuntimeException from '../../../../../../java/lang/RuntimeException';\nimport OverlayOp from '../OverlayOp';\nexport default function SnapIfNeededOverlayOp() {\n\tthis._geom = new Array(2).fill(null);\n\tlet g1 = arguments[0], g2 = arguments[1];\n\tthis._geom[0] = g1;\n\tthis._geom[1] = g2;\n}\nextend(SnapIfNeededOverlayOp.prototype, {\n\tgetResultGeometry: function (opCode) {\n\t\tvar result = null;\n\t\tvar isSuccess = false;\n\t\tvar savedException = null;\n\t\ttry {\n\t\t\tresult = OverlayOp.overlayOp(this._geom[0], this._geom[1], opCode);\n\t\t\tvar isValid = true;\n\t\t\tif (isValid) isSuccess = true;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof RuntimeException) {\n\t\t\t\tsavedException = ex;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\tif (!isSuccess) {\n\t\t\ttry {\n\t\t\t\tresult = SnapOverlayOp.overlayOp(this._geom[0], this._geom[1], opCode);\n\t\t\t} catch (ex) {\n\t\t\t\tif (ex instanceof RuntimeException) {\n\t\t\t\t\tthrow savedException;\n\t\t\t\t} else throw ex;\n\t\t\t} finally {}\n\t\t}\n\t\treturn result;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SnapIfNeededOverlayOp;\n\t}\n});\nSnapIfNeededOverlayOp.overlayOp = function (g0, g1, opCode) {\n\tvar op = new SnapIfNeededOverlayOp(g0, g1);\n\treturn op.getResultGeometry(opCode);\n};\nSnapIfNeededOverlayOp.union = function (g0, g1) {\n\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.UNION);\n};\nSnapIfNeededOverlayOp.intersection = function (g0, g1) {\n\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.INTERSECTION);\n};\nSnapIfNeededOverlayOp.symDifference = function (g0, g1) {\n\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.SYMDIFFERENCE);\n};\nSnapIfNeededOverlayOp.difference = function (g0, g1) {\n\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.DIFFERENCE);\n};\n","import BoundaryNodeRule from '../algorithm/BoundaryNodeRule';\nimport extend from '../../../../extend';\nimport GeometryGraph from '../geomgraph/GeometryGraph';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nexport default function GeometryGraphOperation() {\n\tthis._li = new RobustLineIntersector();\n\tthis._resultPrecisionModel = null;\n\tthis._arg = null;\n\tif (arguments.length === 1) {\n\t\tlet g0 = arguments[0];\n\t\tthis.setComputationPrecision(g0.getPrecisionModel());\n\t\tthis._arg = new Array(1).fill(null);\n\t\tthis._arg[0] = new GeometryGraph(0, g0);\n\t\t;\n\t} else if (arguments.length === 2) {\n\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\tGeometryGraphOperation.call(this, g0, g1, BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE);\n\t} else if (arguments.length === 3) {\n\t\tlet g0 = arguments[0], g1 = arguments[1], boundaryNodeRule = arguments[2];\n\t\tif (g0.getPrecisionModel().compareTo(g1.getPrecisionModel()) >= 0) this.setComputationPrecision(g0.getPrecisionModel()); else this.setComputationPrecision(g1.getPrecisionModel());\n\t\tthis._arg = new Array(2).fill(null);\n\t\tthis._arg[0] = new GeometryGraph(0, g0, boundaryNodeRule);\n\t\tthis._arg[1] = new GeometryGraph(1, g1, boundaryNodeRule);\n\t}\n}\nextend(GeometryGraphOperation.prototype, {\n\tgetArgGeometry: function (i) {\n\t\treturn this._arg[i].getGeometry();\n\t},\n\tsetComputationPrecision: function (pm) {\n\t\tthis._resultPrecisionModel = pm;\n\t\tthis._li.setPrecisionModel(this._resultPrecisionModel);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryGraphOperation;\n\t}\n});\n","import PointLocator from '../../algorithm/PointLocator';\nimport Location from '../../geom/Location';\nimport EdgeNodingValidator from '../../geomgraph/EdgeNodingValidator';\nimport GeometryCollectionMapper from '../../geom/util/GeometryCollectionMapper';\nimport PolygonBuilder from './PolygonBuilder';\nimport Position from '../../geomgraph/Position';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport LineBuilder from './LineBuilder';\nimport PointBuilder from './PointBuilder';\nimport SnapIfNeededOverlayOp from './snap/SnapIfNeededOverlayOp';\nimport extend from '../../../../../extend';\nimport Label from '../../geomgraph/Label';\nimport OverlayNodeFactory from './OverlayNodeFactory';\nimport GeometryGraphOperation from '../GeometryGraphOperation';\nimport EdgeList from '../../geomgraph/EdgeList';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport inherits from '../../../../../inherits';\nimport PlanarGraph from '../../geomgraph/PlanarGraph';\nexport default function OverlayOp() {\n\tthis._ptLocator = new PointLocator();\n\tthis._geomFact = null;\n\tthis._resultGeom = null;\n\tthis._graph = null;\n\tthis._edgeList = new EdgeList();\n\tthis._resultPolyList = new ArrayList();\n\tthis._resultLineList = new ArrayList();\n\tthis._resultPointList = new ArrayList();\n\tlet g0 = arguments[0], g1 = arguments[1];\n\tGeometryGraphOperation.call(this, g0, g1);\n\tthis._graph = new PlanarGraph(new OverlayNodeFactory());\n\tthis._geomFact = g0.getFactory();\n}\ninherits(OverlayOp, GeometryGraphOperation);\nextend(OverlayOp.prototype, {\n\tinsertUniqueEdge: function (e) {\n\t\tvar existingEdge = this._edgeList.findEqualEdge(e);\n\t\tif (existingEdge !== null) {\n\t\t\tvar existingLabel = existingEdge.getLabel();\n\t\t\tvar labelToMerge = e.getLabel();\n\t\t\tif (!existingEdge.isPointwiseEqual(e)) {\n\t\t\t\tlabelToMerge = new Label(e.getLabel());\n\t\t\t\tlabelToMerge.flip();\n\t\t\t}\n\t\t\tvar depth = existingEdge.getDepth();\n\t\t\tif (depth.isNull()) {\n\t\t\t\tdepth.add(existingLabel);\n\t\t\t}\n\t\t\tdepth.add(labelToMerge);\n\t\t\texistingLabel.merge(labelToMerge);\n\t\t} else {\n\t\t\tthis._edgeList.add(e);\n\t\t}\n\t},\n\tgetGraph: function () {\n\t\treturn this._graph;\n\t},\n\tcancelDuplicateResultEdges: function () {\n\t\tfor (var it = this._graph.getEdgeEnds().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tvar sym = de.getSym();\n\t\t\tif (de.isInResult() && sym.isInResult()) {\n\t\t\t\tde.setInResult(false);\n\t\t\t\tsym.setInResult(false);\n\t\t\t}\n\t\t}\n\t},\n\tisCoveredByLA: function (coord) {\n\t\tif (this.isCovered(coord, this._resultLineList)) return true;\n\t\tif (this.isCovered(coord, this._resultPolyList)) return true;\n\t\treturn false;\n\t},\n\tcomputeGeometry: function (resultPointList, resultLineList, resultPolyList, opcode) {\n\t\tvar geomList = new ArrayList();\n\t\tgeomList.addAll(resultPointList);\n\t\tgeomList.addAll(resultLineList);\n\t\tgeomList.addAll(resultPolyList);\n\t\tif (geomList.isEmpty()) return OverlayOp.createEmptyResult(opcode, this._arg[0].getGeometry(), this._arg[1].getGeometry(), this._geomFact);\n\t\treturn this._geomFact.buildGeometry(geomList);\n\t},\n\tmergeSymLabels: function () {\n\t\tfor (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().mergeSymLabels();\n\t\t}\n\t},\n\tisCovered: function (coord, geomList) {\n\t\tfor (var it = geomList.iterator(); it.hasNext(); ) {\n\t\t\tvar geom = it.next();\n\t\t\tvar loc = this._ptLocator.locate(coord, geom);\n\t\t\tif (loc !== Location.EXTERIOR) return true;\n\t\t}\n\t\treturn false;\n\t},\n\treplaceCollapsedEdges: function () {\n\t\tvar newEdges = new ArrayList();\n\t\tfor (var it = this._edgeList.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tif (e.isCollapsed()) {\n\t\t\t\tit.remove();\n\t\t\t\tnewEdges.add(e.getCollapsedEdge());\n\t\t\t}\n\t\t}\n\t\tthis._edgeList.addAll(newEdges);\n\t},\n\tupdateNodeLabelling: function () {\n\t\tfor (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tvar lbl = node.getEdges().getLabel();\n\t\t\tnode.getLabel().merge(lbl);\n\t\t}\n\t},\n\tgetResultGeometry: function (overlayOpCode) {\n\t\tthis.computeOverlay(overlayOpCode);\n\t\treturn this._resultGeom;\n\t},\n\tinsertUniqueEdges: function (edges) {\n\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tthis.insertUniqueEdge(e);\n\t\t}\n\t},\n\tcomputeOverlay: function (opCode) {\n\t\tthis.copyPoints(0);\n\t\tthis.copyPoints(1);\n\t\tthis._arg[0].computeSelfNodes(this._li, false);\n\t\tthis._arg[1].computeSelfNodes(this._li, false);\n\t\tthis._arg[0].computeEdgeIntersections(this._arg[1], this._li, true);\n\t\tvar baseSplitEdges = new ArrayList();\n\t\tthis._arg[0].computeSplitEdges(baseSplitEdges);\n\t\tthis._arg[1].computeSplitEdges(baseSplitEdges);\n\t\tvar splitEdges = baseSplitEdges;\n\t\tthis.insertUniqueEdges(baseSplitEdges);\n\t\tthis.computeLabelsFromDepths();\n\t\tthis.replaceCollapsedEdges();\n\t\tEdgeNodingValidator.checkValid(this._edgeList.getEdges());\n\t\tthis._graph.addEdges(this._edgeList.getEdges());\n\t\tthis.computeLabelling();\n\t\tthis.labelIncompleteNodes();\n\t\tthis.findResultAreaEdges(opCode);\n\t\tthis.cancelDuplicateResultEdges();\n\t\tvar polyBuilder = new PolygonBuilder(this._geomFact);\n\t\tpolyBuilder.add(this._graph);\n\t\tthis._resultPolyList = polyBuilder.getPolygons();\n\t\tvar lineBuilder = new LineBuilder(this, this._geomFact, this._ptLocator);\n\t\tthis._resultLineList = lineBuilder.build(opCode);\n\t\tvar pointBuilder = new PointBuilder(this, this._geomFact, this._ptLocator);\n\t\tthis._resultPointList = pointBuilder.build(opCode);\n\t\tthis._resultGeom = this.computeGeometry(this._resultPointList, this._resultLineList, this._resultPolyList, opCode);\n\t},\n\tlabelIncompleteNode: function (n, targetIndex) {\n\t\tvar loc = this._ptLocator.locate(n.getCoordinate(), this._arg[targetIndex].getGeometry());\n\t\tn.getLabel().setLocation(targetIndex, loc);\n\t},\n\tcopyPoints: function (argIndex) {\n\t\tfor (var i = this._arg[argIndex].getNodeIterator(); i.hasNext(); ) {\n\t\t\tvar graphNode = i.next();\n\t\t\tvar newNode = this._graph.addNode(graphNode.getCoordinate());\n\t\t\tnewNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n\t\t}\n\t},\n\tfindResultAreaEdges: function (opCode) {\n\t\tfor (var it = this._graph.getEdgeEnds().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tif (label.isArea() && !de.isInteriorAreaEdge() && OverlayOp.isResultOfOp(label.getLocation(0, Position.RIGHT), label.getLocation(1, Position.RIGHT), opCode)) {\n\t\t\t\tde.setInResult(true);\n\t\t\t}\n\t\t}\n\t},\n\tcomputeLabelsFromDepths: function () {\n\t\tfor (var it = this._edgeList.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar lbl = e.getLabel();\n\t\t\tvar depth = e.getDepth();\n\t\t\tif (!depth.isNull()) {\n\t\t\t\tdepth.normalize();\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tif (!lbl.isNull(i) && lbl.isArea() && !depth.isNull(i)) {\n\t\t\t\t\t\tif (depth.getDelta(i) === 0) {\n\t\t\t\t\t\t\tlbl.toLine(i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tAssert.isTrue(!depth.isNull(i, Position.LEFT), \"depth of LEFT side has not been initialized\");\n\t\t\t\t\t\t\tlbl.setLocation(i, Position.LEFT, depth.getLocation(i, Position.LEFT));\n\t\t\t\t\t\t\tAssert.isTrue(!depth.isNull(i, Position.RIGHT), \"depth of RIGHT side has not been initialized\");\n\t\t\t\t\t\t\tlbl.setLocation(i, Position.RIGHT, depth.getLocation(i, Position.RIGHT));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputeLabelling: function () {\n\t\tfor (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().computeLabelling(this._arg);\n\t\t}\n\t\tthis.mergeSymLabels();\n\t\tthis.updateNodeLabelling();\n\t},\n\tlabelIncompleteNodes: function () {\n\t\tvar nodeCount = 0;\n\t\tfor (var ni = this._graph.getNodes().iterator(); ni.hasNext(); ) {\n\t\t\tvar n = ni.next();\n\t\t\tvar label = n.getLabel();\n\t\t\tif (n.isIsolated()) {\n\t\t\t\tnodeCount++;\n\t\t\t\tif (label.isNull(0)) this.labelIncompleteNode(n, 0); else this.labelIncompleteNode(n, 1);\n\t\t\t}\n\t\t\tn.getEdges().updateLabelling(label);\n\t\t}\n\t},\n\tisCoveredByA: function (coord) {\n\t\tif (this.isCovered(coord, this._resultPolyList)) return true;\n\t\treturn false;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn OverlayOp;\n\t}\n});\nOverlayOp.overlayOp = function (geom0, geom1, opCode) {\n\tvar gov = new OverlayOp(geom0, geom1);\n\tvar geomOv = gov.getResultGeometry(opCode);\n\treturn geomOv;\n};\nOverlayOp.union = function (geom, other) {\n\tif (geom.isEmpty() || other.isEmpty()) {\n\t\tif (geom.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.UNION, geom, other, geom.getFactory());\n\t\tif (geom.isEmpty()) return other.copy();\n\t\tif (other.isEmpty()) return geom.copy();\n\t}\n\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.UNION);\n};\nOverlayOp.intersection = function (geom, other) {\n\tif (geom.isEmpty() || other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.INTERSECTION, geom, other, geom.getFactory());\n\tif (geom.isGeometryCollection()) {\n\t\tvar g2 = other;\n\t\treturn GeometryCollectionMapper.map(geom, {\n\t\t\tinterfaces_: function () {\n\t\t\t\treturn [MapOp];\n\t\t\t},\n\t\t\tmap: function (g) {\n\t\t\t\treturn g.intersection(g2);\n\t\t\t}\n\t\t});\n\t}\n\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.INTERSECTION);\n};\nOverlayOp.symDifference = function (geom, other) {\n\tif (geom.isEmpty() || other.isEmpty()) {\n\t\tif (geom.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.SYMDIFFERENCE, geom, other, geom.getFactory());\n\t\tif (geom.isEmpty()) return other.copy();\n\t\tif (other.isEmpty()) return geom.copy();\n\t}\n\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.SYMDIFFERENCE);\n};\nOverlayOp.resultDimension = function (opCode, g0, g1) {\n\tvar dim0 = g0.getDimension();\n\tvar dim1 = g1.getDimension();\n\tvar resultDimension = -1;\n\tswitch (opCode) {\n\t\tcase OverlayOp.INTERSECTION:\n\t\t\tresultDimension = Math.min(dim0, dim1);\n\t\t\tbreak;\n\t\tcase OverlayOp.UNION:\n\t\t\tresultDimension = Math.max(dim0, dim1);\n\t\t\tbreak;\n\t\tcase OverlayOp.DIFFERENCE:\n\t\t\tresultDimension = dim0;\n\t\t\tbreak;\n\t\tcase OverlayOp.SYMDIFFERENCE:\n\t\t\tresultDimension = Math.max(dim0, dim1);\n\t\t\tbreak;\n\t}\n\treturn resultDimension;\n};\nOverlayOp.createEmptyResult = function (overlayOpCode, a, b, geomFact) {\n\tvar result = null;\n\tswitch (OverlayOp.resultDimension(overlayOpCode, a, b)) {\n\t\tcase -1:\n\t\t\tresult = geomFact.createGeometryCollection();\n\t\t\tbreak;\n\t\tcase 0:\n\t\t\tresult = geomFact.createPoint();\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tresult = geomFact.createLineString();\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tresult = geomFact.createPolygon();\n\t\t\tbreak;\n\t}\n\treturn result;\n};\nOverlayOp.difference = function (geom, other) {\n\tif (geom.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.DIFFERENCE, geom, other, geom.getFactory());\n\tif (other.isEmpty()) return geom.copy();\n\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.DIFFERENCE);\n};\nOverlayOp.isResultOfOp = function () {\n\tif (arguments.length === 2) {\n\t\tlet label = arguments[0], opCode = arguments[1];\n\t\tvar loc0 = label.getLocation(0);\n\t\tvar loc1 = label.getLocation(1);\n\t\treturn OverlayOp.isResultOfOp(loc0, loc1, opCode);\n\t} else if (arguments.length === 3) {\n\t\tlet loc0 = arguments[0], loc1 = arguments[1], overlayOpCode = arguments[2];\n\t\tif (loc0 === Location.BOUNDARY) loc0 = Location.INTERIOR;\n\t\tif (loc1 === Location.BOUNDARY) loc1 = Location.INTERIOR;\n\t\tswitch (overlayOpCode) {\n\t\t\tcase OverlayOp.INTERSECTION:\n\t\t\t\treturn loc0 === Location.INTERIOR && loc1 === Location.INTERIOR;\n\t\t\tcase OverlayOp.UNION:\n\t\t\t\treturn loc0 === Location.INTERIOR || loc1 === Location.INTERIOR;\n\t\t\tcase OverlayOp.DIFFERENCE:\n\t\t\t\treturn loc0 === Location.INTERIOR && loc1 !== Location.INTERIOR;\n\t\t\tcase OverlayOp.SYMDIFFERENCE:\n\t\t\t\treturn loc0 === Location.INTERIOR && loc1 !== Location.INTERIOR || loc0 !== Location.INTERIOR && loc1 === Location.INTERIOR;\n\t\t}\n\t\treturn false;\n\t}\n};\nOverlayOp.INTERSECTION = 1;\nOverlayOp.UNION = 2;\nOverlayOp.DIFFERENCE = 3;\nOverlayOp.SYMDIFFERENCE = 4;\n","import extend from '../../../../../extend';\nimport DirectedEdge from '../../planargraph/DirectedEdge';\nimport inherits from '../../../../../inherits';\nexport default function PolygonizeDirectedEdge() {\n\tthis._edgeRing = null;\n\tthis._next = null;\n\tthis._label = -1;\n\tlet from = arguments[0], to = arguments[1], directionPt = arguments[2], edgeDirection = arguments[3];\n\tDirectedEdge.call(this, from, to, directionPt, edgeDirection);\n}\ninherits(PolygonizeDirectedEdge, DirectedEdge);\nextend(PolygonizeDirectedEdge.prototype, {\n\tgetNext: function () {\n\t\treturn this._next;\n\t},\n\tisInRing: function () {\n\t\treturn this._edgeRing !== null;\n\t},\n\tsetRing: function (edgeRing) {\n\t\tthis._edgeRing = edgeRing;\n\t},\n\tsetLabel: function (label) {\n\t\tthis._label = label;\n\t},\n\tgetLabel: function () {\n\t\treturn this._label;\n\t},\n\tsetNext: function (next) {\n\t\tthis._next = next;\n\t},\n\tgetRing: function () {\n\t\treturn this._edgeRing;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PolygonizeDirectedEdge;\n\t}\n});\n","import extend from '../../../../../extend';\nimport Edge from '../../planargraph/Edge';\nimport inherits from '../../../../../inherits';\nexport default function PolygonizeEdge() {\n\tEdge.apply(this);\n\tthis._line = null;\n\tlet line = arguments[0];\n\tthis._line = line;\n}\ninherits(PolygonizeEdge, Edge);\nextend(PolygonizeEdge.prototype, {\n\tgetLine: function () {\n\t\treturn this._line;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PolygonizeEdge;\n\t}\n});\n","import CoordinateList from '../../geom/CoordinateList';\nimport WKTWriter from '../../io/WKTWriter';\nimport CoordinateArraySequence from '../../geom/impl/CoordinateArraySequence';\nimport PointLocation from '../../algorithm/PointLocation';\nimport LinearRing from '../../geom/LinearRing';\nimport extend from '../../../../../extend';\nimport Exception from '../../../../../java/lang/Exception';\nimport Orientation from '../../algorithm/Orientation';\nimport System from '../../../../../java/lang/System';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Comparator from '../../../../../java/util/Comparator';\nimport Assert from '../../util/Assert';\nexport default function EdgeRing() {\n\tthis._factory = null;\n\tthis._deList = new ArrayList();\n\tthis._lowestEdge = null;\n\tthis._ring = null;\n\tthis._ringPts = null;\n\tthis._holes = null;\n\tthis._shell = null;\n\tthis._isHole = null;\n\tthis._isProcessed = false;\n\tthis._isIncludedSet = false;\n\tthis._isIncluded = false;\n\tlet factory = arguments[0];\n\tthis._factory = factory;\n}\nextend(EdgeRing.prototype, {\n\tisIncluded: function () {\n\t\treturn this._isIncluded;\n\t},\n\tgetCoordinates: function () {\n\t\tif (this._ringPts === null) {\n\t\t\tvar coordList = new CoordinateList();\n\t\t\tfor (var i = this._deList.iterator(); i.hasNext(); ) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tvar edge = de.getEdge();\n\t\t\t\tEdgeRing.addEdge(edge.getLine().getCoordinates(), de.getEdgeDirection(), coordList);\n\t\t\t}\n\t\t\tthis._ringPts = coordList.toCoordinateArray();\n\t\t}\n\t\treturn this._ringPts;\n\t},\n\tisIncludedSet: function () {\n\t\treturn this._isIncludedSet;\n\t},\n\tisValid: function () {\n\t\tthis.getCoordinates();\n\t\tif (this._ringPts.length <= 3) return false;\n\t\tthis.getRing();\n\t\treturn this._ring.isValid();\n\t},\n\tbuild: function (startDE) {\n\t\tvar de = startDE;\n\t\tdo {\n\t\t\tthis.add(de);\n\t\t\tde.setRing(this);\n\t\t\tde = de.getNext();\n\t\t\tAssert.isTrue(de !== null, \"found null DE in ring\");\n\t\t\tAssert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n\t\t} while (de !== startDE);\n\t},\n\tisOuterHole: function () {\n\t\tif (!this._isHole) return false;\n\t\treturn !this.hasShell();\n\t},\n\tgetPolygon: function () {\n\t\tvar holeLR = null;\n\t\tif (this._holes !== null) {\n\t\t\tholeLR = new Array(this._holes.size()).fill(null);\n\t\t\tfor (var i = 0; i < this._holes.size(); i++) {\n\t\t\t\tholeLR[i] = this._holes.get(i);\n\t\t\t}\n\t\t}\n\t\tvar poly = this._factory.createPolygon(this._ring, holeLR);\n\t\treturn poly;\n\t},\n\tisHole: function () {\n\t\treturn this._isHole;\n\t},\n\tisProcessed: function () {\n\t\treturn this._isProcessed;\n\t},\n\taddHole: function () {\n\t\tif (arguments[0] instanceof LinearRing) {\n\t\t\tlet hole = arguments[0];\n\t\t\tif (this._holes === null) this._holes = new ArrayList();\n\t\t\tthis._holes.add(hole);\n\t\t} else if (arguments[0] instanceof EdgeRing) {\n\t\t\tlet holeER = arguments[0];\n\t\t\tholeER.setShell(this);\n\t\t\tvar hole = holeER.getRing();\n\t\t\tif (this._holes === null) this._holes = new ArrayList();\n\t\t\tthis._holes.add(hole);\n\t\t}\n\t},\n\tsetIncluded: function (isIncluded) {\n\t\tthis._isIncluded = isIncluded;\n\t\tthis._isIncludedSet = true;\n\t},\n\tgetOuterHole: function () {\n\t\tif (this.isHole()) return null;\n\t\tfor (var i = 0; i < this._deList.size(); i++) {\n\t\t\tvar de = this._deList.get(i);\n\t\t\tvar adjRing = de.getSym().getRing();\n\t\t\tif (adjRing.isOuterHole()) return adjRing;\n\t\t}\n\t\treturn null;\n\t},\n\tcomputeHole: function () {\n\t\tvar ring = this.getRing();\n\t\tthis._isHole = Orientation.isCCW(ring.getCoordinates());\n\t},\n\thasShell: function () {\n\t\treturn this._shell !== null;\n\t},\n\tisOuterShell: function () {\n\t\treturn this.getOuterHole() !== null;\n\t},\n\tgetLineString: function () {\n\t\tthis.getCoordinates();\n\t\treturn this._factory.createLineString(this._ringPts);\n\t},\n\ttoString: function () {\n\t\treturn WKTWriter.toLineString(new CoordinateArraySequence(this.getCoordinates()));\n\t},\n\tgetShell: function () {\n\t\tif (this.isHole()) return this._shell;\n\t\treturn this;\n\t},\n\tadd: function (de) {\n\t\tthis._deList.add(de);\n\t},\n\tgetRing: function () {\n\t\tif (this._ring !== null) return this._ring;\n\t\tthis.getCoordinates();\n\t\tif (this._ringPts.length < 3) System.out.println(this._ringPts);\n\t\ttry {\n\t\t\tthis._ring = this._factory.createLinearRing(this._ringPts);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof Exception) {\n\t\t\t\tSystem.out.println(this._ringPts);\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\treturn this._ring;\n\t},\n\tupdateIncluded: function () {\n\t\tif (this.isHole()) return null;\n\t\tfor (var i = 0; i < this._deList.size(); i++) {\n\t\t\tvar de = this._deList.get(i);\n\t\t\tvar adjShell = de.getSym().getRing().getShell();\n\t\t\tif (adjShell !== null && adjShell.isIncludedSet()) {\n\t\t\t\tthis.setIncluded(!adjShell.isIncluded());\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tsetShell: function (shell) {\n\t\tthis._shell = shell;\n\t},\n\tsetProcessed: function (isProcessed) {\n\t\tthis._isProcessed = isProcessed;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeRing;\n\t}\n});\nEdgeRing.findDirEdgesInRing = function (startDE) {\n\tvar de = startDE;\n\tvar edges = new ArrayList();\n\tdo {\n\t\tedges.add(de);\n\t\tde = de.getNext();\n\t\tAssert.isTrue(de !== null, \"found null DE in ring\");\n\t\tAssert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n\t} while (de !== startDE);\n\treturn edges;\n};\nEdgeRing.addEdge = function (coords, isForward, coordList) {\n\tif (isForward) {\n\t\tfor (var i = 0; i < coords.length; i++) {\n\t\t\tcoordList.add(coords[i], false);\n\t\t}\n\t} else {\n\t\tfor (var i = coords.length - 1; i >= 0; i--) {\n\t\t\tcoordList.add(coords[i], false);\n\t\t}\n\t}\n};\nEdgeRing.findEdgeRingContaining = function (testEr, shellList) {\n\tvar testRing = testEr.getRing();\n\tvar testEnv = testRing.getEnvelopeInternal();\n\tvar testPt = testRing.getCoordinateN(0);\n\tvar minShell = null;\n\tvar minShellEnv = null;\n\tfor (var it = shellList.iterator(); it.hasNext(); ) {\n\t\tvar tryShell = it.next();\n\t\tvar tryShellRing = tryShell.getRing();\n\t\tvar tryShellEnv = tryShellRing.getEnvelopeInternal();\n\t\tif (tryShellEnv.equals(testEnv)) continue;\n\t\tif (!tryShellEnv.contains(testEnv)) continue;\n\t\ttestPt = CoordinateArrays.ptNotInList(testRing.getCoordinates(), tryShellRing.getCoordinates());\n\t\tvar isContained = false;\n\t\tif (PointLocation.isInRing(testPt, tryShellRing.getCoordinates())) isContained = true;\n\t\tif (isContained) {\n\t\t\tif (minShell === null || minShellEnv.contains(tryShellEnv)) {\n\t\t\t\tminShell = tryShell;\n\t\t\t\tminShellEnv = minShell.getRing().getEnvelopeInternal();\n\t\t\t}\n\t\t}\n\t}\n\treturn minShell;\n};\nfunction EnvelopeComparator() {}\nextend(EnvelopeComparator.prototype, {\n\tcompare: function (obj0, obj1) {\n\t\tvar r0 = obj0;\n\t\tvar r1 = obj1;\n\t\treturn r0.getRing().getEnvelope().compareTo(r1.getRing().getEnvelope());\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparator];\n\t},\n\tgetClass: function () {\n\t\treturn EnvelopeComparator;\n\t}\n});\nEdgeRing.EnvelopeComparator = EnvelopeComparator;\n","import PolygonizeDirectedEdge from './PolygonizeDirectedEdge';\nimport HashSet from '../../../../../java/util/HashSet';\nimport Stack from '../../../../../java/util/Stack';\nimport Node from '../../planargraph/Node';\nimport PolygonizeEdge from './PolygonizeEdge';\nimport extend from '../../../../../extend';\nimport EdgeRing from './EdgeRing';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport inherits from '../../../../../inherits';\nimport PlanarGraph from '../../planargraph/PlanarGraph';\nexport default function PolygonizeGraph() {\n\tPlanarGraph.apply(this);\n\tthis._factory = null;\n\tlet factory = arguments[0];\n\tthis._factory = factory;\n}\ninherits(PolygonizeGraph, PlanarGraph);\nextend(PolygonizeGraph.prototype, {\n\tfindEdgeRing: function (startDE) {\n\t\tvar er = new EdgeRing(this._factory);\n\t\ter.build(startDE);\n\t\treturn er;\n\t},\n\tcomputeDepthParity: function () {\n\t\tif (arguments.length === 0) {\n\t\t\twhile (true) {\n\t\t\t\tvar de = null;\n\t\t\t\tif (de === null) return null;\n\t\t\t\tthis.computeDepthParity(de);\n\t\t\t}\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet de = arguments[0];\n\t\t}\n\t},\n\tcomputeNextCWEdges: function () {\n\t\tfor (var iNode = this.nodeIterator(); iNode.hasNext(); ) {\n\t\t\tvar node = iNode.next();\n\t\t\tPolygonizeGraph.computeNextCWEdges(node);\n\t\t}\n\t},\n\taddEdge: function (line) {\n\t\tif (line.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\tvar linePts = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\t\tif (linePts.length < 2) {\n\t\t\treturn null;\n\t\t}\n\t\tvar startPt = linePts[0];\n\t\tvar endPt = linePts[linePts.length - 1];\n\t\tvar nStart = this.getNode(startPt);\n\t\tvar nEnd = this.getNode(endPt);\n\t\tvar de0 = new PolygonizeDirectedEdge(nStart, nEnd, linePts[1], true);\n\t\tvar de1 = new PolygonizeDirectedEdge(nEnd, nStart, linePts[linePts.length - 2], false);\n\t\tvar edge = new PolygonizeEdge(line);\n\t\tedge.setDirectedEdges(de0, de1);\n\t\tthis.add(edge);\n\t},\n\tdeleteCutEdges: function () {\n\t\tthis.computeNextCWEdges();\n\t\tPolygonizeGraph.findLabeledEdgeRings(this._dirEdges);\n\t\tvar cutLines = new ArrayList();\n\t\tfor (var i = this._dirEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.isMarked()) continue;\n\t\t\tvar sym = de.getSym();\n\t\t\tif (de.getLabel() === sym.getLabel()) {\n\t\t\t\tde.setMarked(true);\n\t\t\t\tsym.setMarked(true);\n\t\t\t\tvar e = de.getEdge();\n\t\t\t\tcutLines.add(e.getLine());\n\t\t\t}\n\t\t}\n\t\treturn cutLines;\n\t},\n\tgetEdgeRings: function () {\n\t\tthis.computeNextCWEdges();\n\t\tPolygonizeGraph.label(this._dirEdges, -1);\n\t\tvar maximalRings = PolygonizeGraph.findLabeledEdgeRings(this._dirEdges);\n\t\tthis.convertMaximalToMinimalEdgeRings(maximalRings);\n\t\tvar edgeRingList = new ArrayList();\n\t\tfor (var i = this._dirEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.isMarked()) continue;\n\t\t\tif (de.isInRing()) continue;\n\t\t\tvar er = this.findEdgeRing(de);\n\t\t\tedgeRingList.add(er);\n\t\t}\n\t\treturn edgeRingList;\n\t},\n\tgetNode: function (pt) {\n\t\tvar node = this.findNode(pt);\n\t\tif (node === null) {\n\t\t\tnode = new Node(pt);\n\t\t\tthis.add(node);\n\t\t}\n\t\treturn node;\n\t},\n\tconvertMaximalToMinimalEdgeRings: function (ringEdges) {\n\t\tfor (var i = ringEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tvar intNodes = PolygonizeGraph.findIntersectionNodes(de, label);\n\t\t\tif (intNodes === null) continue;\n\t\t\tfor (var iNode = intNodes.iterator(); iNode.hasNext(); ) {\n\t\t\t\tvar node = iNode.next();\n\t\t\t\tPolygonizeGraph.computeNextCCWEdges(node, label);\n\t\t\t}\n\t\t}\n\t},\n\tdeleteDangles: function () {\n\t\tvar nodesToRemove = this.findNodesOfDegree(1);\n\t\tvar dangleLines = new HashSet();\n\t\tvar nodeStack = new Stack();\n\t\tfor (var i = nodesToRemove.iterator(); i.hasNext(); ) {\n\t\t\tnodeStack.push(i.next());\n\t\t}\n\t\twhile (!nodeStack.isEmpty()) {\n\t\t\tvar node = nodeStack.pop();\n\t\t\tPolygonizeGraph.deleteAllEdges(node);\n\t\t\tvar nodeOutEdges = node.getOutEdges().getEdges();\n\t\t\tfor (var i = nodeOutEdges.iterator(); i.hasNext(); ) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tde.setMarked(true);\n\t\t\t\tvar sym = de.getSym();\n\t\t\t\tif (sym !== null) sym.setMarked(true);\n\t\t\t\tvar e = de.getEdge();\n\t\t\t\tdangleLines.add(e.getLine());\n\t\t\t\tvar toNode = de.getToNode();\n\t\t\t\tif (PolygonizeGraph.getDegreeNonDeleted(toNode) === 1) nodeStack.push(toNode);\n\t\t\t}\n\t\t}\n\t\treturn dangleLines;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PolygonizeGraph;\n\t}\n});\nPolygonizeGraph.findLabeledEdgeRings = function (dirEdges) {\n\tvar edgeRingStarts = new ArrayList();\n\tvar currLabel = 1;\n\tfor (var i = dirEdges.iterator(); i.hasNext(); ) {\n\t\tvar de = i.next();\n\t\tif (de.isMarked()) continue;\n\t\tif (de.getLabel() >= 0) continue;\n\t\tedgeRingStarts.add(de);\n\t\tvar edges = EdgeRing.findDirEdgesInRing(de);\n\t\tPolygonizeGraph.label(edges, currLabel);\n\t\tcurrLabel++;\n\t}\n\treturn edgeRingStarts;\n};\nPolygonizeGraph.getDegreeNonDeleted = function (node) {\n\tvar edges = node.getOutEdges().getEdges();\n\tvar degree = 0;\n\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\tvar de = i.next();\n\t\tif (!de.isMarked()) degree++;\n\t}\n\treturn degree;\n};\nPolygonizeGraph.deleteAllEdges = function (node) {\n\tvar edges = node.getOutEdges().getEdges();\n\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\tvar de = i.next();\n\t\tde.setMarked(true);\n\t\tvar sym = de.getSym();\n\t\tif (sym !== null) sym.setMarked(true);\n\t}\n};\nPolygonizeGraph.label = function (dirEdges, label) {\n\tfor (var i = dirEdges.iterator(); i.hasNext(); ) {\n\t\tvar de = i.next();\n\t\tde.setLabel(label);\n\t}\n};\nPolygonizeGraph.computeNextCWEdges = function (node) {\n\tvar deStar = node.getOutEdges();\n\tvar startDE = null;\n\tvar prevDE = null;\n\tfor (var i = deStar.getEdges().iterator(); i.hasNext(); ) {\n\t\tvar outDE = i.next();\n\t\tif (outDE.isMarked()) continue;\n\t\tif (startDE === null) startDE = outDE;\n\t\tif (prevDE !== null) {\n\t\t\tvar sym = prevDE.getSym();\n\t\t\tsym.setNext(outDE);\n\t\t}\n\t\tprevDE = outDE;\n\t}\n\tif (prevDE !== null) {\n\t\tvar sym = prevDE.getSym();\n\t\tsym.setNext(startDE);\n\t}\n};\nPolygonizeGraph.computeNextCCWEdges = function (node, label) {\n\tvar deStar = node.getOutEdges();\n\tvar firstOutDE = null;\n\tvar prevInDE = null;\n\tvar edges = deStar.getEdges();\n\tfor (var i = edges.size() - 1; i >= 0; i--) {\n\t\tvar de = edges.get(i);\n\t\tvar sym = de.getSym();\n\t\tvar outDE = null;\n\t\tif (de.getLabel() === label) outDE = de;\n\t\tvar inDE = null;\n\t\tif (sym.getLabel() === label) inDE = sym;\n\t\tif (outDE === null && inDE === null) continue;\n\t\tif (inDE !== null) {\n\t\t\tprevInDE = inDE;\n\t\t}\n\t\tif (outDE !== null) {\n\t\t\tif (prevInDE !== null) {\n\t\t\t\tprevInDE.setNext(outDE);\n\t\t\t\tprevInDE = null;\n\t\t\t}\n\t\t\tif (firstOutDE === null) firstOutDE = outDE;\n\t\t}\n\t}\n\tif (prevInDE !== null) {\n\t\tAssert.isTrue(firstOutDE !== null);\n\t\tprevInDE.setNext(firstOutDE);\n\t}\n};\nPolygonizeGraph.getDegree = function (node, label) {\n\tvar edges = node.getOutEdges().getEdges();\n\tvar degree = 0;\n\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\tvar de = i.next();\n\t\tif (de.getLabel() === label) degree++;\n\t}\n\treturn degree;\n};\nPolygonizeGraph.findIntersectionNodes = function (startDE, label) {\n\tvar de = startDE;\n\tvar intNodes = null;\n\tdo {\n\t\tvar node = de.getFromNode();\n\t\tif (PolygonizeGraph.getDegree(node, label) > 1) {\n\t\t\tif (intNodes === null) intNodes = new ArrayList();\n\t\t\tintNodes.add(node);\n\t\t}\n\t\tde = de.getNext();\n\t\tAssert.isTrue(de !== null, \"found null DE in ring\");\n\t\tAssert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n\t} while (de !== startDE);\n\treturn intNodes;\n};\n","import LineString from '../../geom/LineString';\nimport Geometry from '../../geom/Geometry';\nimport PolygonizeGraph from './PolygonizeGraph';\nimport hasInterface from '../../../../../hasInterface';\nimport GeometryFactory from '../../geom/GeometryFactory';\nimport Collection from '../../../../../java/util/Collection';\nimport extend from '../../../../../extend';\nimport Collections from '../../../../../java/util/Collections';\nimport EdgeRing from './EdgeRing';\nimport GeometryComponentFilter from '../../geom/GeometryComponentFilter';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default function Polygonizer() {\n\tthis._lineStringAdder = new LineStringAdder(this);\n\tthis._graph = null;\n\tthis._dangles = new ArrayList();\n\tthis._cutEdges = new ArrayList();\n\tthis._invalidRingLines = new ArrayList();\n\tthis._holeList = null;\n\tthis._shellList = null;\n\tthis._polyList = null;\n\tthis._isCheckingRingsValid = true;\n\tthis._extractOnlyPolygonal = null;\n\tthis._geomFactory = null;\n\tif (arguments.length === 0) {\n\t\tPolygonizer.call(this, false);\n\t} else if (arguments.length === 1) {\n\t\tlet extractOnlyPolygonal = arguments[0];\n\t\tthis._extractOnlyPolygonal = extractOnlyPolygonal;\n\t}\n}\nextend(Polygonizer.prototype, {\n\tgetGeometry: function () {\n\t\tif (this._geomFactory === null) this._geomFactory = new GeometryFactory();\n\t\tthis.polygonize();\n\t\tif (this._extractOnlyPolygonal) {\n\t\t\treturn this._geomFactory.buildGeometry(this._polyList);\n\t\t}\n\t\treturn this._geomFactory.createGeometryCollection(GeometryFactory.toGeometryArray(this._polyList));\n\t},\n\tgetInvalidRingLines: function () {\n\t\tthis.polygonize();\n\t\treturn this._invalidRingLines;\n\t},\n\tfindValidRings: function (edgeRingList, validEdgeRingList, invalidRingList) {\n\t\tfor (var i = edgeRingList.iterator(); i.hasNext(); ) {\n\t\t\tvar er = i.next();\n\t\t\tif (er.isValid()) validEdgeRingList.add(er); else invalidRingList.add(er.getLineString());\n\t\t}\n\t},\n\tpolygonize: function () {\n\t\tif (this._polyList !== null) return null;\n\t\tthis._polyList = new ArrayList();\n\t\tif (this._graph === null) return null;\n\t\tthis._dangles = this._graph.deleteDangles();\n\t\tthis._cutEdges = this._graph.deleteCutEdges();\n\t\tvar edgeRingList = this._graph.getEdgeRings();\n\t\tvar validEdgeRingList = new ArrayList();\n\t\tthis._invalidRingLines = new ArrayList();\n\t\tif (this._isCheckingRingsValid) {\n\t\t\tthis.findValidRings(edgeRingList, validEdgeRingList, this._invalidRingLines);\n\t\t} else {\n\t\t\tvalidEdgeRingList = edgeRingList;\n\t\t}\n\t\tthis.findShellsAndHoles(validEdgeRingList);\n\t\tPolygonizer.assignHolesToShells(this._holeList, this._shellList);\n\t\tCollections.sort(this._shellList, new EdgeRing.EnvelopeComparator());\n\t\tvar includeAll = true;\n\t\tif (this._extractOnlyPolygonal) {\n\t\t\tPolygonizer.findDisjointShells(this._shellList);\n\t\t\tincludeAll = false;\n\t\t}\n\t\tthis._polyList = Polygonizer.extractPolygons(this._shellList, includeAll);\n\t},\n\tgetDangles: function () {\n\t\tthis.polygonize();\n\t\treturn this._dangles;\n\t},\n\tgetCutEdges: function () {\n\t\tthis.polygonize();\n\t\treturn this._cutEdges;\n\t},\n\tgetPolygons: function () {\n\t\tthis.polygonize();\n\t\treturn this._polyList;\n\t},\n\tadd: function () {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geomList = arguments[0];\n\t\t\tfor (var i = geomList.iterator(); i.hasNext(); ) {\n\t\t\t\tvar geometry = i.next();\n\t\t\t\tthis.add(geometry);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tlet line = arguments[0];\n\t\t\tthis._geomFactory = line.getFactory();\n\t\t\tif (this._graph === null) this._graph = new PolygonizeGraph(this._geomFactory);\n\t\t\tthis._graph.addEdge(line);\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet g = arguments[0];\n\t\t\tg.apply(this._lineStringAdder);\n\t\t}\n\t},\n\tsetCheckRingsValid: function (isCheckingRingsValid) {\n\t\tthis._isCheckingRingsValid = isCheckingRingsValid;\n\t},\n\tfindShellsAndHoles: function (edgeRingList) {\n\t\tthis._holeList = new ArrayList();\n\t\tthis._shellList = new ArrayList();\n\t\tfor (var i = edgeRingList.iterator(); i.hasNext(); ) {\n\t\t\tvar er = i.next();\n\t\t\ter.computeHole();\n\t\t\tif (er.isHole()) this._holeList.add(er); else this._shellList.add(er);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Polygonizer;\n\t}\n});\nPolygonizer.findOuterShells = function (shellList) {\n\tfor (var i = shellList.iterator(); i.hasNext(); ) {\n\t\tvar er = i.next();\n\t\tvar outerHoleER = er.getOuterHole();\n\t\tif (outerHoleER !== null && !outerHoleER.isProcessed()) {\n\t\t\ter.setIncluded(true);\n\t\t\touterHoleER.setProcessed(true);\n\t\t}\n\t}\n};\nPolygonizer.extractPolygons = function (shellList, includeAll) {\n\tvar polyList = new ArrayList();\n\tfor (var i = shellList.iterator(); i.hasNext(); ) {\n\t\tvar er = i.next();\n\t\tif (includeAll || er.isIncluded()) {\n\t\t\tpolyList.add(er.getPolygon());\n\t\t}\n\t}\n\treturn polyList;\n};\nPolygonizer.assignHolesToShells = function (holeList, shellList) {\n\tfor (var i = holeList.iterator(); i.hasNext(); ) {\n\t\tvar holeER = i.next();\n\t\tPolygonizer.assignHoleToShell(holeER, shellList);\n\t}\n};\nPolygonizer.assignHoleToShell = function (holeER, shellList) {\n\tvar shell = EdgeRing.findEdgeRingContaining(holeER, shellList);\n\tif (shell !== null) {\n\t\tshell.addHole(holeER);\n\t}\n};\nPolygonizer.findDisjointShells = function (shellList) {\n\tPolygonizer.findOuterShells(shellList);\n\tvar isMoreToScan = null;\n\tdo {\n\t\tisMoreToScan = false;\n\t\tfor (var i = shellList.iterator(); i.hasNext(); ) {\n\t\t\tvar er = i.next();\n\t\t\tif (er.isIncludedSet()) continue;\n\t\t\ter.updateIncluded();\n\t\t\tif (!er.isIncludedSet()) {\n\t\t\t\tisMoreToScan = true;\n\t\t\t}\n\t\t}\n\t} while (isMoreToScan);\n};\nfunction LineStringAdder() {\n\tthis.p = null;\n\tlet p = arguments[0];\n\tthis.p = p;\n}\nextend(LineStringAdder.prototype, {\n\tfilter: function (g) {\n\t\tif (g instanceof LineString) this.p.add(g);\n\t},\n\tinterfaces_: function () {\n\t\treturn [GeometryComponentFilter];\n\t},\n\tgetClass: function () {\n\t\treturn LineStringAdder;\n\t}\n});\nPolygonizer.LineStringAdder = LineStringAdder;\n","import EdgeEnd from '../../geomgraph/EdgeEnd';\nimport extend from '../../../../../extend';\nimport Label from '../../geomgraph/Label';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default function EdgeEndBuilder() {}\nextend(EdgeEndBuilder.prototype, {\n\tcreateEdgeEndForNext: function (edge, l, eiCurr, eiNext) {\n\t\tvar iNext = eiCurr.segmentIndex + 1;\n\t\tif (iNext >= edge.getNumPoints() && eiNext === null) return null;\n\t\tvar pNext = edge.getCoordinate(iNext);\n\t\tif (eiNext !== null && eiNext.segmentIndex === eiCurr.segmentIndex) pNext = eiNext.coord;\n\t\tvar e = new EdgeEnd(edge, eiCurr.coord, pNext, new Label(edge.getLabel()));\n\t\tl.add(e);\n\t},\n\tcreateEdgeEndForPrev: function (edge, l, eiCurr, eiPrev) {\n\t\tvar iPrev = eiCurr.segmentIndex;\n\t\tif (eiCurr.dist === 0.0) {\n\t\t\tif (iPrev === 0) return null;\n\t\t\tiPrev--;\n\t\t}\n\t\tvar pPrev = edge.getCoordinate(iPrev);\n\t\tif (eiPrev !== null && eiPrev.segmentIndex >= iPrev) pPrev = eiPrev.coord;\n\t\tvar label = new Label(edge.getLabel());\n\t\tlabel.flip();\n\t\tvar e = new EdgeEnd(edge, eiCurr.coord, pPrev, label);\n\t\tl.add(e);\n\t},\n\tcomputeEdgeEnds: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet edges = arguments[0];\n\t\t\tvar l = new ArrayList();\n\t\t\tfor (var i = edges; i.hasNext(); ) {\n\t\t\t\tvar e = i.next();\n\t\t\t\tthis.computeEdgeEnds(e, l);\n\t\t\t}\n\t\t\treturn l;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet edge = arguments[0], l = arguments[1];\n\t\t\tvar eiList = edge.getEdgeIntersectionList();\n\t\t\teiList.addEndpoints();\n\t\t\tvar it = eiList.iterator();\n\t\t\tvar eiPrev = null;\n\t\t\tvar eiCurr = null;\n\t\t\tif (!it.hasNext()) return null;\n\t\t\tvar eiNext = it.next();\n\t\t\tdo {\n\t\t\t\teiPrev = eiCurr;\n\t\t\t\teiCurr = eiNext;\n\t\t\t\teiNext = null;\n\t\t\t\tif (it.hasNext()) eiNext = it.next();\n\t\t\t\tif (eiCurr !== null) {\n\t\t\t\t\tthis.createEdgeEndForPrev(edge, l, eiCurr, eiPrev);\n\t\t\t\t\tthis.createEdgeEndForNext(edge, l, eiCurr, eiNext);\n\t\t\t\t}\n\t\t\t} while (eiCurr !== null);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeEndBuilder;\n\t}\n});\n","import Location from '../../geom/Location';\nimport EdgeEnd from '../../geomgraph/EdgeEnd';\nimport Position from '../../geomgraph/Position';\nimport extend from '../../../../../extend';\nimport GeometryGraph from '../../geomgraph/GeometryGraph';\nimport Label from '../../geomgraph/Label';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Edge from '../../geomgraph/Edge';\nimport inherits from '../../../../../inherits';\nexport default function EdgeEndBundle() {\n\tthis._edgeEnds = new ArrayList();\n\tif (arguments.length === 1) {\n\t\tlet e = arguments[0];\n\t\tEdgeEndBundle.call(this, null, e);\n\t} else if (arguments.length === 2) {\n\t\tlet boundaryNodeRule = arguments[0], e = arguments[1];\n\t\tEdgeEnd.call(this, e.getEdge(), e.getCoordinate(), e.getDirectedCoordinate(), new Label(e.getLabel()));\n\t\tthis.insert(e);\n\t}\n}\ninherits(EdgeEndBundle, EdgeEnd);\nextend(EdgeEndBundle.prototype, {\n\tinsert: function (e) {\n\t\tthis._edgeEnds.add(e);\n\t},\n\tprint: function (out) {\n\t\tout.println(\"EdgeEndBundle--> Label: \" + this._label);\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ee = it.next();\n\t\t\tee.print(out);\n\t\t\tout.println();\n\t\t}\n\t},\n\titerator: function () {\n\t\treturn this._edgeEnds.iterator();\n\t},\n\tgetEdgeEnds: function () {\n\t\treturn this._edgeEnds;\n\t},\n\tcomputeLabelOn: function (geomIndex, boundaryNodeRule) {\n\t\tvar boundaryCount = 0;\n\t\tvar foundInterior = false;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar loc = e.getLabel().getLocation(geomIndex);\n\t\t\tif (loc === Location.BOUNDARY) boundaryCount++;\n\t\t\tif (loc === Location.INTERIOR) foundInterior = true;\n\t\t}\n\t\tvar loc = Location.NONE;\n\t\tif (foundInterior) loc = Location.INTERIOR;\n\t\tif (boundaryCount > 0) {\n\t\t\tloc = GeometryGraph.determineBoundary(boundaryNodeRule, boundaryCount);\n\t\t}\n\t\tthis._label.setLocation(geomIndex, loc);\n\t},\n\tcomputeLabelSide: function (geomIndex, side) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tif (e.getLabel().isArea()) {\n\t\t\t\tvar loc = e.getLabel().getLocation(geomIndex, side);\n\t\t\t\tif (loc === Location.INTERIOR) {\n\t\t\t\t\tthis._label.setLocation(geomIndex, side, Location.INTERIOR);\n\t\t\t\t\treturn null;\n\t\t\t\t} else if (loc === Location.EXTERIOR) this._label.setLocation(geomIndex, side, Location.EXTERIOR);\n\t\t\t}\n\t\t}\n\t},\n\tgetLabel: function () {\n\t\treturn this._label;\n\t},\n\tcomputeLabelSides: function (geomIndex) {\n\t\tthis.computeLabelSide(geomIndex, Position.LEFT);\n\t\tthis.computeLabelSide(geomIndex, Position.RIGHT);\n\t},\n\tupdateIM: function (im) {\n\t\tEdge.updateIM(this._label, im);\n\t},\n\tcomputeLabel: function (boundaryNodeRule) {\n\t\tvar isArea = false;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tif (e.getLabel().isArea()) isArea = true;\n\t\t}\n\t\tif (isArea) this._label = new Label(Location.NONE, Location.NONE, Location.NONE); else this._label = new Label(Location.NONE);\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tthis.computeLabelOn(i, boundaryNodeRule);\n\t\t\tif (isArea) this.computeLabelSides(i);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeEndBundle;\n\t}\n});\n","import extend from '../../../../../extend';\nimport EdgeEndStar from '../../geomgraph/EdgeEndStar';\nimport inherits from '../../../../../inherits';\nimport EdgeEndBundle from './EdgeEndBundle';\nexport default function EdgeEndBundleStar() {\n\tEdgeEndStar.apply(this);\n}\ninherits(EdgeEndBundleStar, EdgeEndStar);\nextend(EdgeEndBundleStar.prototype, {\n\tupdateIM: function (im) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar esb = it.next();\n\t\t\tesb.updateIM(im);\n\t\t}\n\t},\n\tinsert: function (e) {\n\t\tvar eb = this._edgeMap.get(e);\n\t\tif (eb === null) {\n\t\t\teb = new EdgeEndBundle(e);\n\t\t\tthis.insertEdgeEnd(e, eb);\n\t\t} else {\n\t\t\teb.insert(e);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EdgeEndBundleStar;\n\t}\n});\n","import Node from '../../geomgraph/Node';\nimport extend from '../../../../../extend';\nimport inherits from '../../../../../inherits';\nexport default function RelateNode() {\n\tlet coord = arguments[0], edges = arguments[1];\n\tNode.call(this, coord, edges);\n}\ninherits(RelateNode, Node);\nextend(RelateNode.prototype, {\n\tupdateIMFromEdges: function (im) {\n\t\tthis._edges.updateIM(im);\n\t},\n\tcomputeIM: function (im) {\n\t\tim.setAtLeastIfValid(this._label.getLocation(0), this._label.getLocation(1), 0);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RelateNode;\n\t}\n});\n","import EdgeEndBundleStar from './EdgeEndBundleStar';\nimport extend from '../../../../../extend';\nimport RelateNode from './RelateNode';\nimport inherits from '../../../../../inherits';\nimport NodeFactory from '../../geomgraph/NodeFactory';\nexport default function RelateNodeFactory() {\n\tNodeFactory.apply(this);\n}\ninherits(RelateNodeFactory, NodeFactory);\nextend(RelateNodeFactory.prototype, {\n\tcreateNode: function (coord) {\n\t\treturn new RelateNode(coord, new EdgeEndBundleStar());\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RelateNodeFactory;\n\t}\n});\n","import PointLocator from '../../algorithm/PointLocator';\nimport Location from '../../geom/Location';\nimport IntersectionMatrix from '../../geom/IntersectionMatrix';\nimport EdgeEndBuilder from './EdgeEndBuilder';\nimport extend from '../../../../../extend';\nimport NodeMap from '../../geomgraph/NodeMap';\nimport RelateNodeFactory from './RelateNodeFactory';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nimport Assert from '../../util/Assert';\nexport default function RelateComputer() {\n\tthis._li = new RobustLineIntersector();\n\tthis._ptLocator = new PointLocator();\n\tthis._arg = null;\n\tthis._nodes = new NodeMap(new RelateNodeFactory());\n\tthis._im = null;\n\tthis._isolatedEdges = new ArrayList();\n\tthis._invalidPoint = null;\n\tlet arg = arguments[0];\n\tthis._arg = arg;\n}\nextend(RelateComputer.prototype, {\n\tinsertEdgeEnds: function (ee) {\n\t\tfor (var i = ee.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tthis._nodes.add(e);\n\t\t}\n\t},\n\tcomputeProperIntersectionIM: function (intersector, im) {\n\t\tvar dimA = this._arg[0].getGeometry().getDimension();\n\t\tvar dimB = this._arg[1].getGeometry().getDimension();\n\t\tvar hasProper = intersector.hasProperIntersection();\n\t\tvar hasProperInterior = intersector.hasProperInteriorIntersection();\n\t\tif (dimA === 2 && dimB === 2) {\n\t\t\tif (hasProper) im.setAtLeast(\"212101212\");\n\t\t} else if (dimA === 2 && dimB === 1) {\n\t\t\tif (hasProper) im.setAtLeast(\"FFF0FFFF2\");\n\t\t\tif (hasProperInterior) im.setAtLeast(\"1FFFFF1FF\");\n\t\t} else if (dimA === 1 && dimB === 2) {\n\t\t\tif (hasProper) im.setAtLeast(\"F0FFFFFF2\");\n\t\t\tif (hasProperInterior) im.setAtLeast(\"1F1FFFFFF\");\n\t\t} else if (dimA === 1 && dimB === 1) {\n\t\t\tif (hasProperInterior) im.setAtLeast(\"0FFFFFFFF\");\n\t\t}\n\t},\n\tlabelIsolatedEdges: function (thisIndex, targetIndex) {\n\t\tfor (var ei = this._arg[thisIndex].getEdgeIterator(); ei.hasNext(); ) {\n\t\t\tvar e = ei.next();\n\t\t\tif (e.isIsolated()) {\n\t\t\t\tthis.labelIsolatedEdge(e, targetIndex, this._arg[targetIndex].getGeometry());\n\t\t\t\tthis._isolatedEdges.add(e);\n\t\t\t}\n\t\t}\n\t},\n\tlabelIsolatedEdge: function (e, targetIndex, target) {\n\t\tif (target.getDimension() > 0) {\n\t\t\tvar loc = this._ptLocator.locate(e.getCoordinate(), target);\n\t\t\te.getLabel().setAllLocations(targetIndex, loc);\n\t\t} else {\n\t\t\te.getLabel().setAllLocations(targetIndex, Location.EXTERIOR);\n\t\t}\n\t},\n\tcomputeIM: function () {\n\t\tvar im = new IntersectionMatrix();\n\t\tim.set(Location.EXTERIOR, Location.EXTERIOR, 2);\n\t\tif (!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal())) {\n\t\t\tthis.computeDisjointIM(im);\n\t\t\treturn im;\n\t\t}\n\t\tthis._arg[0].computeSelfNodes(this._li, false);\n\t\tthis._arg[1].computeSelfNodes(this._li, false);\n\t\tvar intersector = this._arg[0].computeEdgeIntersections(this._arg[1], this._li, false);\n\t\tthis.computeIntersectionNodes(0);\n\t\tthis.computeIntersectionNodes(1);\n\t\tthis.copyNodesAndLabels(0);\n\t\tthis.copyNodesAndLabels(1);\n\t\tthis.labelIsolatedNodes();\n\t\tthis.computeProperIntersectionIM(intersector, im);\n\t\tvar eeBuilder = new EdgeEndBuilder();\n\t\tvar ee0 = eeBuilder.computeEdgeEnds(this._arg[0].getEdgeIterator());\n\t\tthis.insertEdgeEnds(ee0);\n\t\tvar ee1 = eeBuilder.computeEdgeEnds(this._arg[1].getEdgeIterator());\n\t\tthis.insertEdgeEnds(ee1);\n\t\tthis.labelNodeEdges();\n\t\tthis.labelIsolatedEdges(0, 1);\n\t\tthis.labelIsolatedEdges(1, 0);\n\t\tthis.updateIM(im);\n\t\treturn im;\n\t},\n\tlabelNodeEdges: function () {\n\t\tfor (var ni = this._nodes.iterator(); ni.hasNext(); ) {\n\t\t\tvar node = ni.next();\n\t\t\tnode.getEdges().computeLabelling(this._arg);\n\t\t}\n\t},\n\tcopyNodesAndLabels: function (argIndex) {\n\t\tfor (var i = this._arg[argIndex].getNodeIterator(); i.hasNext(); ) {\n\t\t\tvar graphNode = i.next();\n\t\t\tvar newNode = this._nodes.addNode(graphNode.getCoordinate());\n\t\t\tnewNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n\t\t}\n\t},\n\tlabelIntersectionNodes: function (argIndex) {\n\t\tfor (var i = this._arg[argIndex].getEdgeIterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext(); ) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tvar n = this._nodes.find(ei.coord);\n\t\t\t\tif (n.getLabel().isNull(argIndex)) {\n\t\t\t\t\tif (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex); else n.setLabel(argIndex, Location.INTERIOR);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tlabelIsolatedNode: function (n, targetIndex) {\n\t\tvar loc = this._ptLocator.locate(n.getCoordinate(), this._arg[targetIndex].getGeometry());\n\t\tn.getLabel().setAllLocations(targetIndex, loc);\n\t},\n\tcomputeIntersectionNodes: function (argIndex) {\n\t\tfor (var i = this._arg[argIndex].getEdgeIterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext(); ) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tvar n = this._nodes.addNode(ei.coord);\n\t\t\t\tif (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex); else {\n\t\t\t\t\tif (n.getLabel().isNull(argIndex)) n.setLabel(argIndex, Location.INTERIOR);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tlabelIsolatedNodes: function () {\n\t\tfor (var ni = this._nodes.iterator(); ni.hasNext(); ) {\n\t\t\tvar n = ni.next();\n\t\t\tvar label = n.getLabel();\n\t\t\tAssert.isTrue(label.getGeometryCount() > 0, \"node with empty label found\");\n\t\t\tif (n.isIsolated()) {\n\t\t\t\tif (label.isNull(0)) this.labelIsolatedNode(n, 0); else this.labelIsolatedNode(n, 1);\n\t\t\t}\n\t\t}\n\t},\n\tupdateIM: function (im) {\n\t\tfor (var ei = this._isolatedEdges.iterator(); ei.hasNext(); ) {\n\t\t\tvar e = ei.next();\n\t\t\te.updateIM(im);\n\t\t}\n\t\tfor (var ni = this._nodes.iterator(); ni.hasNext(); ) {\n\t\t\tvar node = ni.next();\n\t\t\tnode.updateIM(im);\n\t\t\tnode.updateIMFromEdges(im);\n\t\t}\n\t},\n\tcomputeDisjointIM: function (im) {\n\t\tvar ga = this._arg[0].getGeometry();\n\t\tif (!ga.isEmpty()) {\n\t\t\tim.set(Location.INTERIOR, Location.EXTERIOR, ga.getDimension());\n\t\t\tim.set(Location.BOUNDARY, Location.EXTERIOR, ga.getBoundaryDimension());\n\t\t}\n\t\tvar gb = this._arg[1].getGeometry();\n\t\tif (!gb.isEmpty()) {\n\t\t\tim.set(Location.EXTERIOR, Location.INTERIOR, gb.getDimension());\n\t\t\tim.set(Location.EXTERIOR, Location.BOUNDARY, gb.getBoundaryDimension());\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RelateComputer;\n\t}\n});\n","import LineString from '../../geom/LineString';\nimport Coordinate from '../../geom/Coordinate';\nimport Point from '../../geom/Point';\nimport Polygon from '../../geom/Polygon';\nimport extend from '../../../../../extend';\nexport default function RectangleContains() {\n\tthis._rectEnv = null;\n\tlet rectangle = arguments[0];\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n}\nextend(RectangleContains.prototype, {\n\tisContainedInBoundary: function (geom) {\n\t\tif (geom instanceof Polygon) return false;\n\t\tif (geom instanceof Point) return this.isPointContainedInBoundary(geom);\n\t\tif (geom instanceof LineString) return this.isLineStringContainedInBoundary(geom);\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar comp = geom.getGeometryN(i);\n\t\t\tif (!this.isContainedInBoundary(comp)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tisLineSegmentContainedInBoundary: function (p0, p1) {\n\t\tif (p0.equals(p1)) return this.isPointContainedInBoundary(p0);\n\t\tif (p0.x === p1.x) {\n\t\t\tif (p0.x === this._rectEnv.getMinX() || p0.x === this._rectEnv.getMaxX()) return true;\n\t\t} else if (p0.y === p1.y) {\n\t\t\tif (p0.y === this._rectEnv.getMinY() || p0.y === this._rectEnv.getMaxY()) return true;\n\t\t}\n\t\treturn false;\n\t},\n\tisLineStringContainedInBoundary: function (line) {\n\t\tvar seq = line.getCoordinateSequence();\n\t\tvar p0 = new Coordinate();\n\t\tvar p1 = new Coordinate();\n\t\tfor (var i = 0; i < seq.size() - 1; i++) {\n\t\t\tseq.getCoordinate(i, p0);\n\t\t\tseq.getCoordinate(i + 1, p1);\n\t\t\tif (!this.isLineSegmentContainedInBoundary(p0, p1)) return false;\n\t\t}\n\t\treturn true;\n\t},\n\tisPointContainedInBoundary: function () {\n\t\tif (arguments[0] instanceof Point) {\n\t\t\tlet point = arguments[0];\n\t\t\treturn this.isPointContainedInBoundary(point.getCoordinate());\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet pt = arguments[0];\n\t\t\treturn pt.x === this._rectEnv.getMinX() || pt.x === this._rectEnv.getMaxX() || pt.y === this._rectEnv.getMinY() || pt.y === this._rectEnv.getMaxY();\n\t\t}\n\t},\n\tcontains: function (geom) {\n\t\tif (!this._rectEnv.contains(geom.getEnvelopeInternal())) return false;\n\t\tif (this.isContainedInBoundary(geom)) return false;\n\t\treturn true;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RectangleContains;\n\t}\n});\nRectangleContains.contains = function (rectangle, b) {\n\tvar rc = new RectangleContains(rectangle);\n\treturn rc.contains(b);\n};\n","import Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport RobustLineIntersector from './RobustLineIntersector';\nimport Envelope from '../geom/Envelope';\nexport default function RectangleLineIntersector() {\n\tthis._li = new RobustLineIntersector();\n\tthis._rectEnv = null;\n\tthis._diagUp0 = null;\n\tthis._diagUp1 = null;\n\tthis._diagDown0 = null;\n\tthis._diagDown1 = null;\n\tlet rectEnv = arguments[0];\n\tthis._rectEnv = rectEnv;\n\tthis._diagUp0 = new Coordinate(rectEnv.getMinX(), rectEnv.getMinY());\n\tthis._diagUp1 = new Coordinate(rectEnv.getMaxX(), rectEnv.getMaxY());\n\tthis._diagDown0 = new Coordinate(rectEnv.getMinX(), rectEnv.getMaxY());\n\tthis._diagDown1 = new Coordinate(rectEnv.getMaxX(), rectEnv.getMinY());\n}\nextend(RectangleLineIntersector.prototype, {\n\tintersects: function (p0, p1) {\n\t\tvar segEnv = new Envelope(p0, p1);\n\t\tif (!this._rectEnv.intersects(segEnv)) return false;\n\t\tif (this._rectEnv.intersects(p0)) return true;\n\t\tif (this._rectEnv.intersects(p1)) return true;\n\t\tif (p0.compareTo(p1) > 0) {\n\t\t\tvar tmp = p0;\n\t\t\tp0 = p1;\n\t\t\tp1 = tmp;\n\t\t}\n\t\tvar isSegUpwards = false;\n\t\tif (p1.y > p0.y) isSegUpwards = true;\n\t\tif (isSegUpwards) {\n\t\t\tthis._li.computeIntersection(p0, p1, this._diagDown0, this._diagDown1);\n\t\t} else {\n\t\t\tthis._li.computeIntersection(p0, p1, this._diagUp0, this._diagUp1);\n\t\t}\n\t\tif (this._li.hasIntersection()) return true;\n\t\treturn false;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RectangleLineIntersector;\n\t}\n});\n","import extend from '../../../../../extend';\nimport GeometryCollection from '../GeometryCollection';\nexport default function ShortCircuitedGeometryVisitor() {\n\tthis._isDone = false;\n}\nextend(ShortCircuitedGeometryVisitor.prototype, {\n\tapplyTo: function (geom) {\n\t\tfor (var i = 0; i < geom.getNumGeometries() && !this._isDone; i++) {\n\t\t\tvar element = geom.getGeometryN(i);\n\t\t\tif (!(element instanceof GeometryCollection)) {\n\t\t\t\tthis.visit(element);\n\t\t\t\tif (this.isDone()) {\n\t\t\t\t\tthis._isDone = true;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else this.applyTo(element);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ShortCircuitedGeometryVisitor;\n\t}\n});\n","import Coordinate from '../../geom/Coordinate';\nimport Polygon from '../../geom/Polygon';\nimport RectangleLineIntersector from '../../algorithm/RectangleLineIntersector';\nimport extend from '../../../../../extend';\nimport ShortCircuitedGeometryVisitor from '../../geom/util/ShortCircuitedGeometryVisitor';\nimport SimplePointInAreaLocator from '../../algorithm/locate/SimplePointInAreaLocator';\nimport LinearComponentExtracter from '../../geom/util/LinearComponentExtracter';\nimport inherits from '../../../../../inherits';\nexport default function RectangleIntersects() {\n\tthis._rectangle = null;\n\tthis._rectEnv = null;\n\tlet rectangle = arguments[0];\n\tthis._rectangle = rectangle;\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n}\nextend(RectangleIntersects.prototype, {\n\tintersects: function (geom) {\n\t\tif (!this._rectEnv.intersects(geom.getEnvelopeInternal())) return false;\n\t\tvar visitor = new EnvelopeIntersectsVisitor(this._rectEnv);\n\t\tvisitor.applyTo(geom);\n\t\tif (visitor.intersects()) return true;\n\t\tvar ecpVisitor = new GeometryContainsPointVisitor(this._rectangle);\n\t\tecpVisitor.applyTo(geom);\n\t\tif (ecpVisitor.containsPoint()) return true;\n\t\tvar riVisitor = new RectangleIntersectsSegmentVisitor(this._rectangle);\n\t\triVisitor.applyTo(geom);\n\t\tif (riVisitor.intersects()) return true;\n\t\treturn false;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RectangleIntersects;\n\t}\n});\nRectangleIntersects.intersects = function (rectangle, b) {\n\tvar rp = new RectangleIntersects(rectangle);\n\treturn rp.intersects(b);\n};\nfunction EnvelopeIntersectsVisitor() {\n\tShortCircuitedGeometryVisitor.apply(this);\n\tthis._rectEnv = null;\n\tthis._intersects = false;\n\tlet rectEnv = arguments[0];\n\tthis._rectEnv = rectEnv;\n}\ninherits(EnvelopeIntersectsVisitor, ShortCircuitedGeometryVisitor);\nextend(EnvelopeIntersectsVisitor.prototype, {\n\tisDone: function () {\n\t\treturn this._intersects === true;\n\t},\n\tvisit: function (element) {\n\t\tvar elementEnv = element.getEnvelopeInternal();\n\t\tif (!this._rectEnv.intersects(elementEnv)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._rectEnv.contains(elementEnv)) {\n\t\t\tthis._intersects = true;\n\t\t\treturn null;\n\t\t}\n\t\tif (elementEnv.getMinX() >= this._rectEnv.getMinX() && elementEnv.getMaxX() <= this._rectEnv.getMaxX()) {\n\t\t\tthis._intersects = true;\n\t\t\treturn null;\n\t\t}\n\t\tif (elementEnv.getMinY() >= this._rectEnv.getMinY() && elementEnv.getMaxY() <= this._rectEnv.getMaxY()) {\n\t\t\tthis._intersects = true;\n\t\t\treturn null;\n\t\t}\n\t},\n\tintersects: function () {\n\t\treturn this._intersects;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn EnvelopeIntersectsVisitor;\n\t}\n});\nfunction GeometryContainsPointVisitor() {\n\tShortCircuitedGeometryVisitor.apply(this);\n\tthis._rectSeq = null;\n\tthis._rectEnv = null;\n\tthis._containsPoint = false;\n\tlet rectangle = arguments[0];\n\tthis._rectSeq = rectangle.getExteriorRing().getCoordinateSequence();\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n}\ninherits(GeometryContainsPointVisitor, ShortCircuitedGeometryVisitor);\nextend(GeometryContainsPointVisitor.prototype, {\n\tisDone: function () {\n\t\treturn this._containsPoint === true;\n\t},\n\tvisit: function (geom) {\n\t\tif (!(geom instanceof Polygon)) return null;\n\t\tvar elementEnv = geom.getEnvelopeInternal();\n\t\tif (!this._rectEnv.intersects(elementEnv)) return null;\n\t\tvar rectPt = new Coordinate();\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tthis._rectSeq.getCoordinate(i, rectPt);\n\t\t\tif (!elementEnv.contains(rectPt)) continue;\n\t\t\tif (SimplePointInAreaLocator.containsPointInPolygon(rectPt, geom)) {\n\t\t\t\tthis._containsPoint = true;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tcontainsPoint: function () {\n\t\treturn this._containsPoint;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryContainsPointVisitor;\n\t}\n});\nfunction RectangleIntersectsSegmentVisitor() {\n\tShortCircuitedGeometryVisitor.apply(this);\n\tthis._rectEnv = null;\n\tthis._rectIntersector = null;\n\tthis._hasIntersection = false;\n\tthis._p0 = new Coordinate();\n\tthis._p1 = new Coordinate();\n\tlet rectangle = arguments[0];\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n\tthis._rectIntersector = new RectangleLineIntersector(this._rectEnv);\n}\ninherits(RectangleIntersectsSegmentVisitor, ShortCircuitedGeometryVisitor);\nextend(RectangleIntersectsSegmentVisitor.prototype, {\n\tintersects: function () {\n\t\treturn this._hasIntersection;\n\t},\n\tisDone: function () {\n\t\treturn this._hasIntersection === true;\n\t},\n\tvisit: function (geom) {\n\t\tvar elementEnv = geom.getEnvelopeInternal();\n\t\tif (!this._rectEnv.intersects(elementEnv)) return null;\n\t\tvar lines = LinearComponentExtracter.getLines(geom);\n\t\tthis.checkIntersectionWithLineStrings(lines);\n\t},\n\tcheckIntersectionWithLineStrings: function (lines) {\n\t\tfor (var i = lines.iterator(); i.hasNext(); ) {\n\t\t\tvar testLine = i.next();\n\t\t\tthis.checkIntersectionWithSegments(testLine);\n\t\t\tif (this._hasIntersection) return null;\n\t\t}\n\t},\n\tcheckIntersectionWithSegments: function (testLine) {\n\t\tvar seq1 = testLine.getCoordinateSequence();\n\t\tfor (var j = 1; j < seq1.size(); j++) {\n\t\t\tseq1.getCoordinate(j - 1, this._p0);\n\t\t\tseq1.getCoordinate(j, this._p1);\n\t\t\tif (this._rectIntersector.intersects(this._p0, this._p1)) {\n\t\t\t\tthis._hasIntersection = true;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RectangleIntersectsSegmentVisitor;\n\t}\n});\n","import RelateComputer from './RelateComputer';\nimport extend from '../../../../../extend';\nimport GeometryGraphOperation from '../GeometryGraphOperation';\nimport RectangleContains from '../predicate/RectangleContains';\nimport inherits from '../../../../../inherits';\nimport RectangleIntersects from '../predicate/RectangleIntersects';\nexport default function RelateOp() {\n\tthis._relate = null;\n\tif (arguments.length === 2) {\n\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\tGeometryGraphOperation.call(this, g0, g1);\n\t\tthis._relate = new RelateComputer(this._arg);\n\t} else if (arguments.length === 3) {\n\t\tlet g0 = arguments[0], g1 = arguments[1], boundaryNodeRule = arguments[2];\n\t\tGeometryGraphOperation.call(this, g0, g1, boundaryNodeRule);\n\t\tthis._relate = new RelateComputer(this._arg);\n\t}\n}\ninherits(RelateOp, GeometryGraphOperation);\nextend(RelateOp.prototype, {\n\tgetIntersectionMatrix: function () {\n\t\treturn this._relate.computeIM();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RelateOp;\n\t}\n});\nRelateOp.covers = function (g1, g2) {\n\tif (g2.getDimension() === 2 && g1.getDimension() < 2) {\n\t\treturn false;\n\t}\n\tif (g2.getDimension() === 1 && g1.getDimension() < 1 && g2.getLength() > 0.0) {\n\t\treturn false;\n\t}\n\tif (!g1.getEnvelopeInternal().covers(g2.getEnvelopeInternal())) return false;\n\tif (g1.isRectangle()) {\n\t\treturn true;\n\t}\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isCovers();\n};\nRelateOp.intersects = function (g1, g2) {\n\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\tif (g1.isRectangle()) {\n\t\treturn RectangleIntersects.intersects(g1, g2);\n\t}\n\tif (g2.isRectangle()) {\n\t\treturn RectangleIntersects.intersects(g2, g1);\n\t}\n\tif (g1.isGeometryCollection() || g2.isGeometryCollection()) {\n\t\tvar r = false;\n\t\tfor (var i = 0; i < g1.getNumGeometries(); i++) {\n\t\t\tfor (var j = 0; j < g2.getNumGeometries(); j++) {\n\t\t\t\tif (g1.getGeometryN(i).intersects(g2.getGeometryN(j))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isIntersects();\n};\nRelateOp.touches = function (g1, g2) {\n\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isTouches(g1.getDimension(), g2.getDimension());\n};\nRelateOp.relate = function () {\n\tif (arguments.length === 2) {\n\t\tlet a = arguments[0], b = arguments[1];\n\t\tvar relOp = new RelateOp(a, b);\n\t\tvar im = relOp.getIntersectionMatrix();\n\t\treturn im;\n\t} else if (arguments.length === 3) {\n\t\tlet a = arguments[0], b = arguments[1], boundaryNodeRule = arguments[2];\n\t\tvar relOp = new RelateOp(a, b, boundaryNodeRule);\n\t\tvar im = relOp.getIntersectionMatrix();\n\t\treturn im;\n\t}\n};\nRelateOp.overlaps = function (g1, g2) {\n\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isOverlaps(g1.getDimension(), g2.getDimension());\n};\nRelateOp.crosses = function (g1, g2) {\n\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isCrosses(g1.getDimension(), g2.getDimension());\n};\nRelateOp.contains = function (g1, g2) {\n\tif (g2.getDimension() === 2 && g1.getDimension() < 2) {\n\t\treturn false;\n\t}\n\tif (g2.getDimension() === 1 && g1.getDimension() < 1 && g2.getLength() > 0.0) {\n\t\treturn false;\n\t}\n\tif (!g1.getEnvelopeInternal().contains(g2.getEnvelopeInternal())) return false;\n\tif (g1.isRectangle()) {\n\t\treturn RectangleContains.contains(g1, g2);\n\t}\n\treturn new RelateOp(g1, g2).getIntersectionMatrix().isContains();\n};\n","import extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default function GeometryCombiner() {\n\tthis._geomFactory = null;\n\tthis._skipEmpty = false;\n\tthis._inputGeoms = null;\n\tlet geoms = arguments[0];\n\tthis._geomFactory = GeometryCombiner.extractFactory(geoms);\n\tthis._inputGeoms = geoms;\n}\nextend(GeometryCombiner.prototype, {\n\textractElements: function (geom, elems) {\n\t\tif (geom === null) return null;\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar elemGeom = geom.getGeometryN(i);\n\t\t\tif (this._skipEmpty && elemGeom.isEmpty()) continue;\n\t\t\telems.add(elemGeom);\n\t\t}\n\t},\n\tcombine: function () {\n\t\tvar elems = new ArrayList();\n\t\tfor (var i = this._inputGeoms.iterator(); i.hasNext(); ) {\n\t\t\tvar g = i.next();\n\t\t\tthis.extractElements(g, elems);\n\t\t}\n\t\tif (elems.size() === 0) {\n\t\t\tif (this._geomFactory !== null) {\n\t\t\t\treturn this._geomFactory.createGeometryCollection();\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\treturn this._geomFactory.buildGeometry(elems);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryCombiner;\n\t}\n});\nGeometryCombiner.combine = function () {\n\tif (arguments.length === 1) {\n\t\tlet geoms = arguments[0];\n\t\tvar combiner = new GeometryCombiner(geoms);\n\t\treturn combiner.combine();\n\t} else if (arguments.length === 2) {\n\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\tvar combiner = new GeometryCombiner(GeometryCombiner.createList(g0, g1));\n\t\treturn combiner.combine();\n\t} else if (arguments.length === 3) {\n\t\tlet g0 = arguments[0], g1 = arguments[1], g2 = arguments[2];\n\t\tvar combiner = new GeometryCombiner(GeometryCombiner.createList(g0, g1, g2));\n\t\treturn combiner.combine();\n\t}\n};\nGeometryCombiner.extractFactory = function (geoms) {\n\tif (geoms.isEmpty()) return null;\n\treturn geoms.iterator().next().getFactory();\n};\nGeometryCombiner.createList = function () {\n\tif (arguments.length === 2) {\n\t\tlet obj0 = arguments[0], obj1 = arguments[1];\n\t\tvar list = new ArrayList();\n\t\tlist.add(obj0);\n\t\tlist.add(obj1);\n\t\treturn list;\n\t} else if (arguments.length === 3) {\n\t\tlet obj0 = arguments[0], obj1 = arguments[1], obj2 = arguments[2];\n\t\tvar list = new ArrayList();\n\t\tlist.add(obj0);\n\t\tlist.add(obj1);\n\t\tlist.add(obj2);\n\t\treturn list;\n\t}\n};\n","import PointLocator from '../../algorithm/PointLocator';\nimport Location from '../../geom/Location';\nimport TreeSet from '../../../../../java/util/TreeSet';\nimport extend from '../../../../../extend';\nimport GeometryCombiner from '../../geom/util/GeometryCombiner';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nexport default function PointGeometryUnion() {\n\tthis._pointGeom = null;\n\tthis._otherGeom = null;\n\tthis._geomFact = null;\n\tlet pointGeom = arguments[0], otherGeom = arguments[1];\n\tthis._pointGeom = pointGeom;\n\tthis._otherGeom = otherGeom;\n\tthis._geomFact = otherGeom.getFactory();\n}\nextend(PointGeometryUnion.prototype, {\n\tunion: function () {\n\t\tvar locater = new PointLocator();\n\t\tvar exteriorCoords = new TreeSet();\n\t\tfor (var i = 0; i < this._pointGeom.getNumGeometries(); i++) {\n\t\t\tvar point = this._pointGeom.getGeometryN(i);\n\t\t\tvar coord = point.getCoordinate();\n\t\t\tvar loc = locater.locate(coord, this._otherGeom);\n\t\t\tif (loc === Location.EXTERIOR) exteriorCoords.add(coord);\n\t\t}\n\t\tif (exteriorCoords.size() === 0) return this._otherGeom;\n\t\tvar ptComp = null;\n\t\tvar coords = CoordinateArrays.toCoordinateArray(exteriorCoords);\n\t\tif (coords.length === 1) {\n\t\t\tptComp = this._geomFact.createPoint(coords[0]);\n\t\t} else {\n\t\t\tptComp = this._geomFact.createMultiPointFromCoords(coords);\n\t\t}\n\t\treturn GeometryCombiner.combine(ptComp, this._otherGeom);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PointGeometryUnion;\n\t}\n});\nPointGeometryUnion.union = function (pointGeom, otherGeom) {\n\tvar unioner = new PointGeometryUnion(pointGeom, otherGeom);\n\treturn unioner.union();\n};\n","import Geometry from '../Geometry';\nimport hasInterface from '../../../../../hasInterface';\nimport extend from '../../../../../extend';\nimport GeometryCollection from '../GeometryCollection';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport GeometryFilter from '../GeometryFilter';\nimport List from '../../../../../java/util/List';\nexport default function GeometryExtracter() {\n\tthis._geometryType = null;\n\tthis._comps = null;\n\tlet geometryType = arguments[0], comps = arguments[1];\n\tthis._geometryType = geometryType;\n\tthis._comps = comps;\n}\nextend(GeometryExtracter.prototype, {\n\tfilter: function (geom) {\n\t\tif (this._geometryType === null || GeometryExtracter.isOfType(geom, this._geometryType)) this._comps.add(geom);\n\t},\n\tinterfaces_: function () {\n\t\treturn [GeometryFilter];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryExtracter;\n\t}\n});\nGeometryExtracter.isOfType = function (geom, geometryType) {\n\tif (geom.getGeometryType() === geometryType) return true;\n\tif (geometryType === Geometry.TYPENAME_LINESTRING && geom.getGeometryType() === Geometry.TYPENAME_LINEARRING) return true;\n\treturn false;\n};\nGeometryExtracter.extract = function () {\n\tif (arguments.length === 2) {\n\t\tlet geom = arguments[0], geometryType = arguments[1];\n\t\treturn GeometryExtracter.extract(geom, geometryType, new ArrayList());\n\t} else if (arguments.length === 3) {\n\t\tif (hasInterface(arguments[2], List) && (arguments[0] instanceof Geometry && typeof arguments[1] === \"string\")) {\n\t\t\tlet geom = arguments[0], geometryType = arguments[1], list = arguments[2];\n\t\t\tif (geom.getGeometryType() === geometryType) {\n\t\t\t\tlist.add(geom);\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tgeom.apply(new GeometryExtracter(geometryType, list));\n\t\t\t}\n\t\t\treturn list;\n\t\t} else if (hasInterface(arguments[2], List) && (arguments[0] instanceof Geometry && arguments[1] instanceof Class)) {\n\t\t\tlet geom = arguments[0], clz = arguments[1], list = arguments[2];\n\t\t\treturn GeometryExtracter.extract(geom, GeometryExtracter.toGeometryType(clz), list);\n\t\t}\n\t}\n};\n","import PolygonExtracter from '../../geom/util/PolygonExtracter';\nimport STRtree from '../../index/strtree/STRtree';\nimport Geometry from '../../geom/Geometry';\nimport hasInterface from '../../../../../hasInterface';\nimport GeometryFactory from '../../geom/GeometryFactory';\nimport extend from '../../../../../extend';\nimport GeometryCombiner from '../../geom/util/GeometryCombiner';\nimport Polygonal from '../../geom/Polygonal';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport List from '../../../../../java/util/List';\nexport default function CascadedPolygonUnion() {\n\tthis._inputPolys = null;\n\tthis._geomFactory = null;\n\tlet polys = arguments[0];\n\tthis._inputPolys = polys;\n\tif (this._inputPolys === null) this._inputPolys = new ArrayList();\n}\nextend(CascadedPolygonUnion.prototype, {\n\treduceToGeometries: function (geomTree) {\n\t\tvar geoms = new ArrayList();\n\t\tfor (var i = geomTree.iterator(); i.hasNext(); ) {\n\t\t\tvar o = i.next();\n\t\t\tvar geom = null;\n\t\t\tif (hasInterface(o, List)) {\n\t\t\t\tgeom = this.unionTree(o);\n\t\t\t} else if (o instanceof Geometry) {\n\t\t\t\tgeom = o;\n\t\t\t}\n\t\t\tgeoms.add(geom);\n\t\t}\n\t\treturn geoms;\n\t},\n\textractByEnvelope: function (env, geom, disjointGeoms) {\n\t\tvar intersectingGeoms = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar elem = geom.getGeometryN(i);\n\t\t\tif (elem.getEnvelopeInternal().intersects(env)) intersectingGeoms.add(elem); else disjointGeoms.add(elem);\n\t\t}\n\t\treturn this._geomFactory.buildGeometry(intersectingGeoms);\n\t},\n\tunionOptimized: function (g0, g1) {\n\t\tvar g0Env = g0.getEnvelopeInternal();\n\t\tvar g1Env = g1.getEnvelopeInternal();\n\t\tif (!g0Env.intersects(g1Env)) {\n\t\t\tvar combo = GeometryCombiner.combine(g0, g1);\n\t\t\treturn combo;\n\t\t}\n\t\tif (g0.getNumGeometries() <= 1 && g1.getNumGeometries() <= 1) return this.unionActual(g0, g1);\n\t\tvar commonEnv = g0Env.intersection(g1Env);\n\t\treturn this.unionUsingEnvelopeIntersection(g0, g1, commonEnv);\n\t},\n\tunion: function () {\n\t\tif (this._inputPolys === null) throw new IllegalStateException(\"union() method cannot be called twice\");\n\t\tif (this._inputPolys.isEmpty()) return null;\n\t\tthis._geomFactory = this._inputPolys.iterator().next().getFactory();\n\t\tvar index = new STRtree(CascadedPolygonUnion.STRTREE_NODE_CAPACITY);\n\t\tfor (var i = this._inputPolys.iterator(); i.hasNext(); ) {\n\t\t\tvar item = i.next();\n\t\t\tindex.insert(item.getEnvelopeInternal(), item);\n\t\t}\n\t\tthis._inputPolys = null;\n\t\tvar itemTree = index.itemsTree();\n\t\tvar unionAll = this.unionTree(itemTree);\n\t\treturn unionAll;\n\t},\n\tbinaryUnion: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geoms = arguments[0];\n\t\t\treturn this.binaryUnion(geoms, 0, geoms.size());\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet geoms = arguments[0], start = arguments[1], end = arguments[2];\n\t\t\tif (end - start <= 1) {\n\t\t\t\tvar g0 = CascadedPolygonUnion.getGeometry(geoms, start);\n\t\t\t\treturn this.unionSafe(g0, null);\n\t\t\t} else if (end - start === 2) {\n\t\t\t\treturn this.unionSafe(CascadedPolygonUnion.getGeometry(geoms, start), CascadedPolygonUnion.getGeometry(geoms, start + 1));\n\t\t\t} else {\n\t\t\t\tvar mid = Math.trunc((end + start) / 2);\n\t\t\t\tvar g0 = this.binaryUnion(geoms, start, mid);\n\t\t\t\tvar g1 = this.binaryUnion(geoms, mid, end);\n\t\t\t\treturn this.unionSafe(g0, g1);\n\t\t\t}\n\t\t}\n\t},\n\trepeatedUnion: function (geoms) {\n\t\tvar union = null;\n\t\tfor (var i = geoms.iterator(); i.hasNext(); ) {\n\t\t\tvar g = i.next();\n\t\t\tif (union === null) union = g.copy(); else union = union.union(g);\n\t\t}\n\t\treturn union;\n\t},\n\tunionSafe: function (g0, g1) {\n\t\tif (g0 === null && g1 === null) return null;\n\t\tif (g0 === null) return g1.copy();\n\t\tif (g1 === null) return g0.copy();\n\t\treturn this.unionOptimized(g0, g1);\n\t},\n\tunionActual: function (g0, g1) {\n\t\treturn CascadedPolygonUnion.restrictToPolygons(g0.union(g1));\n\t},\n\tunionTree: function (geomTree) {\n\t\tvar geoms = this.reduceToGeometries(geomTree);\n\t\tvar union = this.binaryUnion(geoms);\n\t\treturn union;\n\t},\n\tunionUsingEnvelopeIntersection: function (g0, g1, common) {\n\t\tvar disjointPolys = new ArrayList();\n\t\tvar g0Int = this.extractByEnvelope(common, g0, disjointPolys);\n\t\tvar g1Int = this.extractByEnvelope(common, g1, disjointPolys);\n\t\tvar union = this.unionActual(g0Int, g1Int);\n\t\tdisjointPolys.add(union);\n\t\tvar overallUnion = GeometryCombiner.combine(disjointPolys);\n\t\treturn overallUnion;\n\t},\n\tbufferUnion: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geoms = arguments[0];\n\t\t\tvar factory = geoms.get(0).getFactory();\n\t\t\tvar gColl = factory.buildGeometry(geoms);\n\t\t\tvar unionAll = gColl.buffer(0.0);\n\t\t\treturn unionAll;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\t\tvar factory = g0.getFactory();\n\t\t\tvar gColl = factory.createGeometryCollection([g0, g1]);\n\t\t\tvar unionAll = gColl.buffer(0.0);\n\t\t\treturn unionAll;\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn CascadedPolygonUnion;\n\t}\n});\nCascadedPolygonUnion.restrictToPolygons = function (g) {\n\tif (hasInterface(g, Polygonal)) {\n\t\treturn g;\n\t}\n\tvar polygons = PolygonExtracter.getPolygons(g);\n\tif (polygons.size() === 1) return polygons.get(0);\n\treturn g.getFactory().createMultiPolygon(GeometryFactory.toPolygonArray(polygons));\n};\nCascadedPolygonUnion.getGeometry = function (list, index) {\n\tif (index >= list.size()) return null;\n\treturn list.get(index);\n};\nCascadedPolygonUnion.union = function (polys) {\n\tvar op = new CascadedPolygonUnion(polys);\n\treturn op.union();\n};\nCascadedPolygonUnion.STRTREE_NODE_CAPACITY = 4;\n","import Geometry from '../../geom/Geometry';\nimport PointGeometryUnion from './PointGeometryUnion';\nimport hasInterface from '../../../../../hasInterface';\nimport Collection from '../../../../../java/util/Collection';\nimport SnapIfNeededOverlayOp from '../overlay/snap/SnapIfNeededOverlayOp';\nimport extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport GeometryExtracter from '../../geom/util/GeometryExtracter';\nimport OverlayOp from '../overlay/OverlayOp';\nimport CascadedPolygonUnion from './CascadedPolygonUnion';\nexport default function UnaryUnionOp() {\n\tthis._polygons = new ArrayList();\n\tthis._lines = new ArrayList();\n\tthis._points = new ArrayList();\n\tthis._geomFact = null;\n\tif (arguments.length === 1) {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geoms = arguments[0];\n\t\t\tthis.extract(geoms);\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tthis.extract(geom);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet geoms = arguments[0], geomFact = arguments[1];\n\t\tthis._geomFact = geomFact;\n\t\tthis.extract(geoms);\n\t}\n}\nextend(UnaryUnionOp.prototype, {\n\tunionNoOpt: function (g0) {\n\t\tvar empty = this._geomFact.createPoint();\n\t\treturn SnapIfNeededOverlayOp.overlayOp(g0, empty, OverlayOp.UNION);\n\t},\n\tunionWithNull: function (g0, g1) {\n\t\tif (g0 === null && g1 === null) return null;\n\t\tif (g1 === null) return g0;\n\t\tif (g0 === null) return g1;\n\t\treturn g0.union(g1);\n\t},\n\textract: function () {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geoms = arguments[0];\n\t\t\tfor (var i = geoms.iterator(); i.hasNext(); ) {\n\t\t\t\tvar geom = i.next();\n\t\t\t\tthis.extract(geom);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (this._geomFact === null) this._geomFact = geom.getFactory();\n\t\t\tGeometryExtracter.extract(geom, Geometry.TYPENAME_POLYGON, this._polygons);\n\t\t\tGeometryExtracter.extract(geom, Geometry.TYPENAME_LINESTRING, this._lines);\n\t\t\tGeometryExtracter.extract(geom, Geometry.TYPENAME_POINT, this._points);\n\t\t}\n\t},\n\tunion: function () {\n\t\tif (this._geomFact === null) {\n\t\t\treturn null;\n\t\t}\n\t\tvar unionPoints = null;\n\t\tif (this._points.size() > 0) {\n\t\t\tvar ptGeom = this._geomFact.buildGeometry(this._points);\n\t\t\tunionPoints = this.unionNoOpt(ptGeom);\n\t\t}\n\t\tvar unionLines = null;\n\t\tif (this._lines.size() > 0) {\n\t\t\tvar lineGeom = this._geomFact.buildGeometry(this._lines);\n\t\t\tunionLines = this.unionNoOpt(lineGeom);\n\t\t}\n\t\tvar unionPolygons = null;\n\t\tif (this._polygons.size() > 0) {\n\t\t\tunionPolygons = CascadedPolygonUnion.union(this._polygons);\n\t\t}\n\t\tvar unionLA = this.unionWithNull(unionLines, unionPolygons);\n\t\tvar union = null;\n\t\tif (unionPoints === null) union = unionLA; else if (unionLA === null) union = unionPoints; else union = PointGeometryUnion.union(unionPoints, unionLA);\n\t\tif (union === null) return this._geomFact.createGeometryCollection();\n\t\treturn union;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn UnaryUnionOp;\n\t}\n});\nUnaryUnionOp.union = function () {\n\tif (arguments.length === 1) {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geoms = arguments[0];\n\t\t\tvar op = new UnaryUnionOp(geoms);\n\t\t\treturn op.union();\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tvar op = new UnaryUnionOp(geom);\n\t\t\treturn op.union();\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet geoms = arguments[0], geomFact = arguments[1];\n\t\tvar op = new UnaryUnionOp(geoms, geomFact);\n\t\treturn op.union();\n\t}\n};\n","import Location from '../../geom/Location';\nimport GeometryFactory from '../../geom/GeometryFactory';\nimport Position from '../../geomgraph/Position';\nimport Polygon from '../../geom/Polygon';\nimport extend from '../../../../../extend';\nimport MultiPolygon from '../../geom/MultiPolygon';\nimport MaximalEdgeRing from '../overlay/MaximalEdgeRing';\nimport OverlayNodeFactory from '../overlay/OverlayNodeFactory';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport PlanarGraph from '../../geomgraph/PlanarGraph';\nexport default function ConnectedInteriorTester() {\n\tthis._geometryFactory = new GeometryFactory();\n\tthis._geomGraph = null;\n\tthis._disconnectedRingcoord = null;\n\tlet geomGraph = arguments[0];\n\tthis._geomGraph = geomGraph;\n}\nextend(ConnectedInteriorTester.prototype, {\n\tvisitInteriorRing: function (ring, graph) {\n\t\tvar pts = ring.getCoordinates();\n\t\tvar pt0 = pts[0];\n\t\tvar pt1 = ConnectedInteriorTester.findDifferentPoint(pts, pt0);\n\t\tvar e = graph.findEdgeInSameDirection(pt0, pt1);\n\t\tvar de = graph.findEdgeEnd(e);\n\t\tvar intDe = null;\n\t\tif (de.getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n\t\t\tintDe = de;\n\t\t} else if (de.getSym().getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n\t\t\tintDe = de.getSym();\n\t\t}\n\t\tAssert.isTrue(intDe !== null, \"unable to find dirEdge with Interior on RHS\");\n\t\tthis.visitLinkedDirectedEdges(intDe);\n\t},\n\tvisitShellInteriors: function (g, graph) {\n\t\tif (g instanceof Polygon) {\n\t\t\tvar p = g;\n\t\t\tthis.visitInteriorRing(p.getExteriorRing(), graph);\n\t\t}\n\t\tif (g instanceof MultiPolygon) {\n\t\t\tvar mp = g;\n\t\t\tfor (var i = 0; i < mp.getNumGeometries(); i++) {\n\t\t\t\tvar p = mp.getGeometryN(i);\n\t\t\t\tthis.visitInteriorRing(p.getExteriorRing(), graph);\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._disconnectedRingcoord;\n\t},\n\tsetInteriorEdgesInResult: function (graph) {\n\t\tfor (var it = graph.getEdgeEnds().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n\t\t\t\tde.setInResult(true);\n\t\t\t}\n\t\t}\n\t},\n\tvisitLinkedDirectedEdges: function (start) {\n\t\tvar startDe = start;\n\t\tvar de = start;\n\t\tdo {\n\t\t\tAssert.isTrue(de !== null, \"found null Directed Edge\");\n\t\t\tde.setVisited(true);\n\t\t\tde = de.getNext();\n\t\t} while (de !== startDe);\n\t},\n\tbuildEdgeRings: function (dirEdges) {\n\t\tvar edgeRings = new ArrayList();\n\t\tfor (var it = dirEdges.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.isInResult() && de.getEdgeRing() === null) {\n\t\t\t\tvar er = new MaximalEdgeRing(de, this._geometryFactory);\n\t\t\t\ter.linkDirectedEdgesForMinimalEdgeRings();\n\t\t\t\tvar minEdgeRings = er.buildMinimalRings();\n\t\t\t\tedgeRings.addAll(minEdgeRings);\n\t\t\t}\n\t\t}\n\t\treturn edgeRings;\n\t},\n\thasUnvisitedShellEdge: function (edgeRings) {\n\t\tfor (var i = 0; i < edgeRings.size(); i++) {\n\t\t\tvar er = edgeRings.get(i);\n\t\t\tif (er.isHole()) continue;\n\t\t\tvar edges = er.getEdges();\n\t\t\tvar de = edges.get(0);\n\t\t\tif (de.getLabel().getLocation(0, Position.RIGHT) !== Location.INTERIOR) continue;\n\t\t\tfor (var j = 0; j < edges.size(); j++) {\n\t\t\t\tde = edges.get(j);\n\t\t\t\tif (!de.isVisited()) {\n\t\t\t\t\tthis._disconnectedRingcoord = de.getCoordinate();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tisInteriorsConnected: function () {\n\t\tvar splitEdges = new ArrayList();\n\t\tthis._geomGraph.computeSplitEdges(splitEdges);\n\t\tvar graph = new PlanarGraph(new OverlayNodeFactory());\n\t\tgraph.addEdges(splitEdges);\n\t\tthis.setInteriorEdgesInResult(graph);\n\t\tgraph.linkResultDirectedEdges();\n\t\tvar edgeRings = this.buildEdgeRings(graph.getEdgeEnds());\n\t\tthis.visitShellInteriors(this._geomGraph.getGeometry(), graph);\n\t\treturn !this.hasUnvisitedShellEdge(edgeRings);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ConnectedInteriorTester;\n\t}\n});\nConnectedInteriorTester.findDifferentPoint = function (coord, pt) {\n\tfor (var i = 0; i < coord.length; i++) {\n\t\tif (!coord[i].equals(pt)) return coord[i];\n\t}\n\treturn null;\n};\n","import Location from '../../geom/Location';\nimport EdgeEndBuilder from './EdgeEndBuilder';\nimport extend from '../../../../../extend';\nimport NodeMap from '../../geomgraph/NodeMap';\nimport RelateNodeFactory from './RelateNodeFactory';\nexport default function RelateNodeGraph() {\n\tthis._nodes = new NodeMap(new RelateNodeFactory());\n}\nextend(RelateNodeGraph.prototype, {\n\tinsertEdgeEnds: function (ee) {\n\t\tfor (var i = ee.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tthis._nodes.add(e);\n\t\t}\n\t},\n\tgetNodeIterator: function () {\n\t\treturn this._nodes.iterator();\n\t},\n\tcopyNodesAndLabels: function (geomGraph, argIndex) {\n\t\tfor (var nodeIt = geomGraph.getNodeIterator(); nodeIt.hasNext(); ) {\n\t\t\tvar graphNode = nodeIt.next();\n\t\t\tvar newNode = this._nodes.addNode(graphNode.getCoordinate());\n\t\t\tnewNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n\t\t}\n\t},\n\tbuild: function (geomGraph) {\n\t\tthis.computeIntersectionNodes(geomGraph, 0);\n\t\tthis.copyNodesAndLabels(geomGraph, 0);\n\t\tvar eeBuilder = new EdgeEndBuilder();\n\t\tvar eeList = eeBuilder.computeEdgeEnds(geomGraph.getEdgeIterator());\n\t\tthis.insertEdgeEnds(eeList);\n\t},\n\tcomputeIntersectionNodes: function (geomGraph, argIndex) {\n\t\tfor (var edgeIt = geomGraph.getEdgeIterator(); edgeIt.hasNext(); ) {\n\t\t\tvar e = edgeIt.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext(); ) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tvar n = this._nodes.addNode(ei.coord);\n\t\t\t\tif (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex); else {\n\t\t\t\t\tif (n.getLabel().isNull(argIndex)) n.setLabel(argIndex, Location.INTERIOR);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn RelateNodeGraph;\n\t}\n});\n","import RelateNodeGraph from '../relate/RelateNodeGraph';\nimport extend from '../../../../../extend';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nexport default function ConsistentAreaTester() {\n\tthis._li = new RobustLineIntersector();\n\tthis._geomGraph = null;\n\tthis._nodeGraph = new RelateNodeGraph();\n\tthis._invalidPoint = null;\n\tlet geomGraph = arguments[0];\n\tthis._geomGraph = geomGraph;\n}\nextend(ConsistentAreaTester.prototype, {\n\tisNodeEdgeAreaLabelsConsistent: function () {\n\t\tfor (var nodeIt = this._nodeGraph.getNodeIterator(); nodeIt.hasNext(); ) {\n\t\t\tvar node = nodeIt.next();\n\t\t\tif (!node.getEdges().isAreaLabelsConsistent(this._geomGraph)) {\n\t\t\t\tthis._invalidPoint = node.getCoordinate().copy();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tgetInvalidPoint: function () {\n\t\treturn this._invalidPoint;\n\t},\n\thasDuplicateRings: function () {\n\t\tfor (var nodeIt = this._nodeGraph.getNodeIterator(); nodeIt.hasNext(); ) {\n\t\t\tvar node = nodeIt.next();\n\t\t\tfor (var i = node.getEdges().iterator(); i.hasNext(); ) {\n\t\t\t\tvar eeb = i.next();\n\t\t\t\tif (eeb.getEdgeEnds().size() > 1) {\n\t\t\t\t\tthis._invalidPoint = eeb.getEdge().getCoordinate(0);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tisNodeConsistentArea: function () {\n\t\tvar intersector = this._geomGraph.computeSelfNodes(this._li, true, true);\n\t\tif (intersector.hasProperIntersection()) {\n\t\t\tthis._invalidPoint = intersector.getProperIntersectionPoint();\n\t\t\treturn false;\n\t\t}\n\t\tthis._nodeGraph.build(this._geomGraph);\n\t\treturn this.isNodeEdgeAreaLabelsConsistent();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ConsistentAreaTester;\n\t}\n});\n","import STRtree from '../../index/strtree/STRtree';\nimport IsValidOp from './IsValidOp';\nimport PointLocation from '../../algorithm/PointLocation';\nimport extend from '../../../../../extend';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Envelope from '../../geom/Envelope';\nexport default function IndexedNestedRingTester() {\n\tthis._graph = null;\n\tthis._rings = new ArrayList();\n\tthis._totalEnv = new Envelope();\n\tthis._index = null;\n\tthis._nestedPt = null;\n\tlet graph = arguments[0];\n\tthis._graph = graph;\n}\nextend(IndexedNestedRingTester.prototype, {\n\tbuildIndex: function () {\n\t\tthis._index = new STRtree();\n\t\tfor (var i = 0; i < this._rings.size(); i++) {\n\t\t\tvar ring = this._rings.get(i);\n\t\t\tvar env = ring.getEnvelopeInternal();\n\t\t\tthis._index.insert(env, ring);\n\t\t}\n\t},\n\tgetNestedPoint: function () {\n\t\treturn this._nestedPt;\n\t},\n\tisNonNested: function () {\n\t\tthis.buildIndex();\n\t\tfor (var i = 0; i < this._rings.size(); i++) {\n\t\t\tvar innerRing = this._rings.get(i);\n\t\t\tvar innerRingPts = innerRing.getCoordinates();\n\t\t\tvar results = this._index.query(innerRing.getEnvelopeInternal());\n\t\t\tfor (var j = 0; j < results.size(); j++) {\n\t\t\t\tvar searchRing = results.get(j);\n\t\t\t\tvar searchRingPts = searchRing.getCoordinates();\n\t\t\t\tif (innerRing === searchRing) continue;\n\t\t\t\tif (!innerRing.getEnvelopeInternal().intersects(searchRing.getEnvelopeInternal())) continue;\n\t\t\t\tvar innerRingPt = IsValidOp.findPtNotNode(innerRingPts, searchRing, this._graph);\n\t\t\t\tif (innerRingPt === null) continue;\n\t\t\t\tvar isInside = PointLocation.isInRing(innerRingPt, searchRingPts);\n\t\t\t\tif (isInside) {\n\t\t\t\t\tthis._nestedPt = innerRingPt;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\tadd: function (ring) {\n\t\tthis._rings.add(ring);\n\t\tthis._totalEnv.expandToInclude(ring.getEnvelopeInternal());\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn IndexedNestedRingTester;\n\t}\n});\n","import extend from '../../../../../extend';\nexport default function TopologyValidationError() {\n\tthis._errorType = null;\n\tthis._pt = null;\n\tif (arguments.length === 1) {\n\t\tlet errorType = arguments[0];\n\t\tTopologyValidationError.call(this, errorType, null);\n\t} else if (arguments.length === 2) {\n\t\tlet errorType = arguments[0], pt = arguments[1];\n\t\tthis._errorType = errorType;\n\t\tif (pt !== null) this._pt = pt.copy();\n\t}\n}\nextend(TopologyValidationError.prototype, {\n\tgetErrorType: function () {\n\t\treturn this._errorType;\n\t},\n\tgetMessage: function () {\n\t\treturn TopologyValidationError.errMsg[this._errorType];\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._pt;\n\t},\n\ttoString: function () {\n\t\tvar locStr = \"\";\n\t\tif (this._pt !== null) locStr = \" at or near point \" + this._pt;\n\t\treturn this.getMessage() + locStr;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn TopologyValidationError;\n\t}\n});\nTopologyValidationError.ERROR = 0;\nTopologyValidationError.REPEATED_POINT = 1;\nTopologyValidationError.HOLE_OUTSIDE_SHELL = 2;\nTopologyValidationError.NESTED_HOLES = 3;\nTopologyValidationError.DISCONNECTED_INTERIOR = 4;\nTopologyValidationError.SELF_INTERSECTION = 5;\nTopologyValidationError.RING_SELF_INTERSECTION = 6;\nTopologyValidationError.NESTED_SHELLS = 7;\nTopologyValidationError.DUPLICATE_RINGS = 8;\nTopologyValidationError.TOO_FEW_POINTS = 9;\nTopologyValidationError.INVALID_COORDINATE = 10;\nTopologyValidationError.RING_NOT_CLOSED = 11;\nTopologyValidationError.errMsg = [\"Topology Validation Error\", \"Repeated Point\", \"Hole lies outside shell\", \"Holes are nested\", \"Interior is disconnected\", \"Self-intersection\", \"Ring Self-intersection\", \"Nested shells\", \"Duplicate Rings\", \"Too few distinct points in geometry component\", \"Invalid Coordinate\", \"Ring is not closed\"];\n","import Location from '../../geom/Location';\nimport TreeSet from '../../../../../java/util/TreeSet';\nimport LineString from '../../geom/LineString';\nimport Geometry from '../../geom/Geometry';\nimport ConnectedInteriorTester from './ConnectedInteriorTester';\nimport Coordinate from '../../geom/Coordinate';\nimport Point from '../../geom/Point';\nimport Polygon from '../../geom/Polygon';\nimport MultiPoint from '../../geom/MultiPoint';\nimport PointLocation from '../../algorithm/PointLocation';\nimport LinearRing from '../../geom/LinearRing';\nimport Double from '../../../../../java/lang/Double';\nimport extend from '../../../../../extend';\nimport GeometryGraph from '../../geomgraph/GeometryGraph';\nimport MultiPolygon from '../../geom/MultiPolygon';\nimport ConsistentAreaTester from './ConsistentAreaTester';\nimport GeometryCollection from '../../geom/GeometryCollection';\nimport IndexedNestedRingTester from './IndexedNestedRingTester';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nimport TopologyValidationError from './TopologyValidationError';\nimport IndexedPointInAreaLocator from '../../algorithm/locate/IndexedPointInAreaLocator';\nimport Assert from '../../util/Assert';\nexport default function IsValidOp() {\n\tthis._parentGeometry = null;\n\tthis._isSelfTouchingRingFormingHoleValid = false;\n\tthis._validErr = null;\n\tlet parentGeometry = arguments[0];\n\tthis._parentGeometry = parentGeometry;\n}\nextend(IsValidOp.prototype, {\n\tcheckInvalidCoordinates: function () {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tlet coords = arguments[0];\n\t\t\tfor (var i = 0; i < coords.length; i++) {\n\t\t\t\tif (!IsValidOp.isValid(coords[i])) {\n\t\t\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.INVALID_COORDINATE, coords[i]);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Polygon) {\n\t\t\tlet poly = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(poly.getExteriorRing().getCoordinates());\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\t\tthis.checkInvalidCoordinates(poly.getInteriorRingN(i).getCoordinates());\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t}\n\t},\n\tcheckHolesNotNested: function (p, graph) {\n\t\tvar nestedTester = new IndexedNestedRingTester(graph);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar innerHole = p.getInteriorRingN(i);\n\t\t\tnestedTester.add(innerHole);\n\t\t}\n\t\tvar isNonNested = nestedTester.isNonNested();\n\t\tif (!isNonNested) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.NESTED_HOLES, nestedTester.getNestedPoint());\n\t\t}\n\t},\n\tcheckConsistentArea: function (graph) {\n\t\tvar cat = new ConsistentAreaTester(graph);\n\t\tvar isValidArea = cat.isNodeConsistentArea();\n\t\tif (!isValidArea) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.SELF_INTERSECTION, cat.getInvalidPoint());\n\t\t\treturn null;\n\t\t}\n\t\tif (cat.hasDuplicateRings()) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.DUPLICATE_RINGS, cat.getInvalidPoint());\n\t\t}\n\t},\n\tisValid: function () {\n\t\tthis.checkValid(this._parentGeometry);\n\t\treturn this._validErr === null;\n\t},\n\tcheckShellInsideHole: function (shell, hole, graph) {\n\t\tvar shellPts = shell.getCoordinates();\n\t\tvar holePts = hole.getCoordinates();\n\t\tvar shellPt = IsValidOp.findPtNotNode(shellPts, hole, graph);\n\t\tif (shellPt !== null) {\n\t\t\tvar insideHole = PointLocation.isInRing(shellPt, holePts);\n\t\t\tif (!insideHole) {\n\t\t\t\treturn shellPt;\n\t\t\t}\n\t\t}\n\t\tvar holePt = IsValidOp.findPtNotNode(holePts, shell, graph);\n\t\tif (holePt !== null) {\n\t\t\tvar insideShell = PointLocation.isInRing(holePt, shellPts);\n\t\t\tif (insideShell) {\n\t\t\t\treturn holePt;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"points in shell and hole appear to be equal\");\n\t\treturn null;\n\t},\n\tcheckNoSelfIntersectingRings: function (graph) {\n\t\tfor (var i = graph.getEdgeIterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tthis.checkNoSelfIntersectingRing(e.getEdgeIntersectionList());\n\t\t\tif (this._validErr !== null) return null;\n\t\t}\n\t},\n\tcheckConnectedInteriors: function (graph) {\n\t\tvar cit = new ConnectedInteriorTester(graph);\n\t\tif (!cit.isInteriorsConnected()) this._validErr = new TopologyValidationError(TopologyValidationError.DISCONNECTED_INTERIOR, cit.getCoordinate());\n\t},\n\tcheckNoSelfIntersectingRing: function (eiList) {\n\t\tvar nodeSet = new TreeSet();\n\t\tvar isFirst = true;\n\t\tfor (var i = eiList.iterator(); i.hasNext(); ) {\n\t\t\tvar ei = i.next();\n\t\t\tif (isFirst) {\n\t\t\t\tisFirst = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (nodeSet.contains(ei.coord)) {\n\t\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.RING_SELF_INTERSECTION, ei.coord);\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\tnodeSet.add(ei.coord);\n\t\t\t}\n\t\t}\n\t},\n\tcheckHolesInShell: function (p, graph) {\n\t\tvar shell = p.getExteriorRing();\n\t\tvar pir = new IndexedPointInAreaLocator(shell);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tvar holePt = IsValidOp.findPtNotNode(hole.getCoordinates(), shell, graph);\n\t\t\tif (holePt === null) return null;\n\t\t\tvar outside = Location.EXTERIOR === pir.locate(holePt);\n\t\t\tif (outside) {\n\t\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.HOLE_OUTSIDE_SHELL, holePt);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\tcheckTooFewPoints: function (graph) {\n\t\tif (graph.hasTooFewPoints()) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.TOO_FEW_POINTS, graph.getInvalidPoint());\n\t\t\treturn null;\n\t\t}\n\t},\n\tgetValidationError: function () {\n\t\tthis.checkValid(this._parentGeometry);\n\t\treturn this._validErr;\n\t},\n\tcheckValid: function () {\n\t\tif (arguments[0] instanceof Point) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(g.getCoordinates());\n\t\t} else if (arguments[0] instanceof MultiPoint) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(g.getCoordinates());\n\t\t} else if (arguments[0] instanceof LinearRing) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(g.getCoordinates());\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkClosedRing(g);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar graph = new GeometryGraph(0, g);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar li = new RobustLineIntersector();\n\t\t\tgraph.computeSelfNodes(li, true, true);\n\t\t\tthis.checkNoSelfIntersectingRings(graph);\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(g.getCoordinates());\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar graph = new GeometryGraph(0, g);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t} else if (arguments[0] instanceof Polygon) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(g);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkClosedRings(g);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar graph = new GeometryGraph(0, g);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConsistentArea(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tif (!this._isSelfTouchingRingFormingHoleValid) {\n\t\t\t\tthis.checkNoSelfIntersectingRings(graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tthis.checkHolesInShell(g, graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkHolesNotNested(g, graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConnectedInteriors(graph);\n\t\t} else if (arguments[0] instanceof MultiPolygon) {\n\t\t\tlet g = arguments[0];\n\t\t\tfor (var i = 0; i < g.getNumGeometries(); i++) {\n\t\t\t\tvar p = g.getGeometryN(i);\n\t\t\t\tthis.checkInvalidCoordinates(p);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t\tthis.checkClosedRings(p);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tvar graph = new GeometryGraph(0, g);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConsistentArea(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tif (!this._isSelfTouchingRingFormingHoleValid) {\n\t\t\t\tthis.checkNoSelfIntersectingRings(graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tfor (var i = 0; i < g.getNumGeometries(); i++) {\n\t\t\t\tvar p = g.getGeometryN(i);\n\t\t\t\tthis.checkHolesInShell(p, graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tfor (var i = 0; i < g.getNumGeometries(); i++) {\n\t\t\t\tvar p = g.getGeometryN(i);\n\t\t\t\tthis.checkHolesNotNested(p, graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tthis.checkShellsNotNested(g, graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConnectedInteriors(graph);\n\t\t} else if (arguments[0] instanceof GeometryCollection) {\n\t\t\tlet gc = arguments[0];\n\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\tvar g = gc.getGeometryN(i);\n\t\t\t\tthis.checkValid(g);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis._validErr = null;\n\t\t\tif (g.isEmpty()) return null;\n\t\t\tif (g instanceof Point) this.checkValid(g); else if (g instanceof MultiPoint) this.checkValid(g); else if (g instanceof LinearRing) this.checkValid(g); else if (g instanceof LineString) this.checkValid(g); else if (g instanceof Polygon) this.checkValid(g); else if (g instanceof MultiPolygon) this.checkValid(g); else if (g instanceof GeometryCollection) this.checkValid(g); else throw new UnsupportedOperationException(g.getClass().getName());\n\t\t}\n\t},\n\tsetSelfTouchingRingFormingHoleValid: function (isValid) {\n\t\tthis._isSelfTouchingRingFormingHoleValid = isValid;\n\t},\n\tcheckShellNotNested: function (shell, p, graph) {\n\t\tvar shellPts = shell.getCoordinates();\n\t\tvar polyShell = p.getExteriorRing();\n\t\tvar polyPts = polyShell.getCoordinates();\n\t\tvar shellPt = IsValidOp.findPtNotNode(shellPts, polyShell, graph);\n\t\tif (shellPt === null) return null;\n\t\tvar insidePolyShell = PointLocation.isInRing(shellPt, polyPts);\n\t\tif (!insidePolyShell) return null;\n\t\tif (p.getNumInteriorRing() <= 0) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.NESTED_SHELLS, shellPt);\n\t\t\treturn null;\n\t\t}\n\t\tvar badNestedPt = null;\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tbadNestedPt = this.checkShellInsideHole(shell, hole, graph);\n\t\t\tif (badNestedPt === null) return null;\n\t\t}\n\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.NESTED_SHELLS, badNestedPt);\n\t},\n\tcheckClosedRings: function (poly) {\n\t\tthis.checkClosedRing(poly.getExteriorRing());\n\t\tif (this._validErr !== null) return null;\n\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\tthis.checkClosedRing(poly.getInteriorRingN(i));\n\t\t\tif (this._validErr !== null) return null;\n\t\t}\n\t},\n\tcheckClosedRing: function (ring) {\n\t\tif (!ring.isClosed()) {\n\t\t\tvar pt = null;\n\t\t\tif (ring.getNumPoints() >= 1) pt = ring.getCoordinateN(0);\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.RING_NOT_CLOSED, pt);\n\t\t}\n\t},\n\tcheckShellsNotNested: function (mp, graph) {\n\t\tfor (var i = 0; i < mp.getNumGeometries(); i++) {\n\t\t\tvar p = mp.getGeometryN(i);\n\t\t\tvar shell = p.getExteriorRing();\n\t\t\tfor (var j = 0; j < mp.getNumGeometries(); j++) {\n\t\t\t\tif (i === j) continue;\n\t\t\t\tvar p2 = mp.getGeometryN(j);\n\t\t\t\tthis.checkShellNotNested(shell, p2, graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn IsValidOp;\n\t}\n});\nIsValidOp.findPtNotNode = function (testCoords, searchRing, graph) {\n\tvar searchEdge = graph.findEdge(searchRing);\n\tvar eiList = searchEdge.getEdgeIntersectionList();\n\tfor (var i = 0; i < testCoords.length; i++) {\n\t\tvar pt = testCoords[i];\n\t\tif (!eiList.isIntersection(pt)) return pt;\n\t}\n\treturn null;\n};\nIsValidOp.isValid = function () {\n\tif (arguments[0] instanceof Geometry) {\n\t\tlet geom = arguments[0];\n\t\tvar isValidOp = new IsValidOp(geom);\n\t\treturn isValidOp.isValid();\n\t} else if (arguments[0] instanceof Coordinate) {\n\t\tlet coord = arguments[0];\n\t\tif (Double.isNaN(coord.x)) return false;\n\t\tif (Double.isInfinite(coord.x)) return false;\n\t\tif (Double.isNaN(coord.y)) return false;\n\t\tif (Double.isInfinite(coord.y)) return false;\n\t\treturn true;\n\t}\n};\n","import LineString from '../geom/LineString';\nimport CoordinateList from '../geom/CoordinateList';\nimport Geometry from '../geom/Geometry';\nimport Coordinate from '../geom/Coordinate';\nimport GeometryEditor from '../geom/util/GeometryEditor';\nimport LinearRing from '../geom/LinearRing';\nimport extend from '../../../../extend';\nimport inherits from '../../../../inherits';\nexport default function PrecisionReducerCoordinateOperation() {\n\tGeometryEditor.CoordinateOperation.apply(this);\n\tthis._targetPM = null;\n\tthis._removeCollapsed = true;\n\tlet targetPM = arguments[0], removeCollapsed = arguments[1];\n\tthis._targetPM = targetPM;\n\tthis._removeCollapsed = removeCollapsed;\n}\ninherits(PrecisionReducerCoordinateOperation, GeometryEditor.CoordinateOperation);\nextend(PrecisionReducerCoordinateOperation.prototype, {\n\tedit: function () {\n\t\tif (arguments.length === 2 && (arguments[1] instanceof Geometry && arguments[0] instanceof Array)) {\n\t\t\tlet coordinates = arguments[0], geom = arguments[1];\n\t\t\tif (coordinates.length === 0) return null;\n\t\t\tvar reducedCoords = new Array(coordinates.length).fill(null);\n\t\t\tfor (var i = 0; i < coordinates.length; i++) {\n\t\t\t\tvar coord = new Coordinate(coordinates[i]);\n\t\t\t\tthis._targetPM.makePrecise(coord);\n\t\t\t\treducedCoords[i] = coord;\n\t\t\t}\n\t\t\tvar noRepeatedCoordList = new CoordinateList(reducedCoords, false);\n\t\t\tvar noRepeatedCoords = noRepeatedCoordList.toCoordinateArray();\n\t\t\tvar minLength = 0;\n\t\t\tif (geom instanceof LineString) minLength = 2;\n\t\t\tif (geom instanceof LinearRing) minLength = 4;\n\t\t\tvar collapsedCoords = reducedCoords;\n\t\t\tif (this._removeCollapsed) collapsedCoords = null;\n\t\t\tif (noRepeatedCoords.length < minLength) {\n\t\t\t\treturn collapsedCoords;\n\t\t\t}\n\t\t\treturn noRepeatedCoords;\n\t\t} else return GeometryEditor.CoordinateOperation.prototype.edit.apply(this, arguments);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn PrecisionReducerCoordinateOperation;\n\t}\n});\n","import hasInterface from '../../../../hasInterface';\nimport GeometryFactory from '../geom/GeometryFactory';\nimport IsValidOp from '../operation/valid/IsValidOp';\nimport GeometryEditor from '../geom/util/GeometryEditor';\nimport extend from '../../../../extend';\nimport BufferOp from '../operation/buffer/BufferOp';\nimport Polygonal from '../geom/Polygonal';\nimport PrecisionReducerCoordinateOperation from './PrecisionReducerCoordinateOperation';\nexport default function GeometryPrecisionReducer() {\n\tthis._targetPM = null;\n\tthis._removeCollapsed = true;\n\tthis._changePrecisionModel = false;\n\tthis._isPointwise = false;\n\tlet pm = arguments[0];\n\tthis._targetPM = pm;\n}\nextend(GeometryPrecisionReducer.prototype, {\n\tfixPolygonalTopology: function (geom) {\n\t\tvar geomToBuffer = geom;\n\t\tif (!this._changePrecisionModel) {\n\t\t\tgeomToBuffer = this.changePM(geom, this._targetPM);\n\t\t}\n\t\tvar bufGeom = BufferOp.bufferOp(geomToBuffer, 0);\n\t\tvar finalGeom = bufGeom;\n\t\tif (!this._changePrecisionModel) {\n\t\t\tfinalGeom = bufGeom.copy();\n\t\t\tthis.changePM(finalGeom, geom.getPrecisionModel());\n\t\t}\n\t\treturn finalGeom;\n\t},\n\treducePointwise: function (geom) {\n\t\tvar geomEdit = null;\n\t\tif (this._changePrecisionModel) {\n\t\t\tvar newFactory = this.createFactory(geom.getFactory(), this._targetPM);\n\t\t\tgeomEdit = new GeometryEditor(newFactory);\n\t\t} else geomEdit = new GeometryEditor();\n\t\tvar finalRemoveCollapsed = this._removeCollapsed;\n\t\tif (geom.getDimension() >= 2) finalRemoveCollapsed = true;\n\t\tvar reduceGeom = geomEdit.edit(geom, new PrecisionReducerCoordinateOperation(this._targetPM, finalRemoveCollapsed));\n\t\treturn reduceGeom;\n\t},\n\tchangePM: function (geom, newPM) {\n\t\tvar geomEditor = this.createEditor(geom.getFactory(), newPM);\n\t\treturn geomEditor.edit(geom, new GeometryEditor.NoOpGeometryOperation());\n\t},\n\tsetRemoveCollapsedComponents: function (removeCollapsed) {\n\t\tthis._removeCollapsed = removeCollapsed;\n\t},\n\tcreateFactory: function (inputFactory, pm) {\n\t\tvar newFactory = new GeometryFactory(pm, inputFactory.getSRID(), inputFactory.getCoordinateSequenceFactory());\n\t\treturn newFactory;\n\t},\n\tsetChangePrecisionModel: function (changePrecisionModel) {\n\t\tthis._changePrecisionModel = changePrecisionModel;\n\t},\n\treduce: function (geom) {\n\t\tvar reducePW = this.reducePointwise(geom);\n\t\tif (this._isPointwise) return reducePW;\n\t\tif (!hasInterface(reducePW, Polygonal)) return reducePW;\n\t\tif (IsValidOp.isValid(reducePW)) return reducePW;\n\t\treturn this.fixPolygonalTopology(reducePW);\n\t},\n\tsetPointwise: function (isPointwise) {\n\t\tthis._isPointwise = isPointwise;\n\t},\n\tcreateEditor: function (geomFactory, newPM) {\n\t\tif (geomFactory.getPrecisionModel() === newPM) return new GeometryEditor();\n\t\tvar newFactory = this.createFactory(geomFactory, newPM);\n\t\tvar geomEdit = new GeometryEditor(newFactory);\n\t\treturn geomEdit;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn GeometryPrecisionReducer;\n\t}\n});\nGeometryPrecisionReducer.reduce = function (g, precModel) {\n\tvar reducer = new GeometryPrecisionReducer(precModel);\n\treturn reducer.reduce(g);\n};\nGeometryPrecisionReducer.reducePointwise = function (g, precModel) {\n\tvar reducer = new GeometryPrecisionReducer(precModel);\n\treducer.setPointwise(true);\n\treturn reducer.reduce(g);\n};\n","import CoordinateList from '../geom/CoordinateList';\nimport Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport LineSegment from '../geom/LineSegment';\nexport default function DouglasPeuckerLineSimplifier() {\n\tthis._pts = null;\n\tthis._usePt = null;\n\tthis._distanceTolerance = null;\n\tthis._seg = new LineSegment();\n\tlet pts = arguments[0];\n\tthis._pts = pts;\n}\nextend(DouglasPeuckerLineSimplifier.prototype, {\n\tsimplifySection: function (i, j) {\n\t\tif (i + 1 === j) {\n\t\t\treturn null;\n\t\t}\n\t\tthis._seg.p0 = this._pts[i];\n\t\tthis._seg.p1 = this._pts[j];\n\t\tvar maxDistance = -1.0;\n\t\tvar maxIndex = i;\n\t\tfor (var k = i + 1; k < j; k++) {\n\t\t\tvar distance = this._seg.distance(this._pts[k]);\n\t\t\tif (distance > maxDistance) {\n\t\t\t\tmaxDistance = distance;\n\t\t\t\tmaxIndex = k;\n\t\t\t}\n\t\t}\n\t\tif (maxDistance <= this._distanceTolerance) {\n\t\t\tfor (var k = i + 1; k < j; k++) {\n\t\t\t\tthis._usePt[k] = false;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.simplifySection(i, maxIndex);\n\t\t\tthis.simplifySection(maxIndex, j);\n\t\t}\n\t},\n\tsetDistanceTolerance: function (distanceTolerance) {\n\t\tthis._distanceTolerance = distanceTolerance;\n\t},\n\tsimplify: function () {\n\t\tthis._usePt = new Array(this._pts.length).fill(null);\n\t\tfor (var i = 0; i < this._pts.length; i++) {\n\t\t\tthis._usePt[i] = true;\n\t\t}\n\t\tthis.simplifySection(0, this._pts.length - 1);\n\t\tvar coordList = new CoordinateList();\n\t\tfor (var i = 0; i < this._pts.length; i++) {\n\t\t\tif (this._usePt[i]) coordList.add(new Coordinate(this._pts[i]));\n\t\t}\n\t\treturn coordList.toCoordinateArray();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DouglasPeuckerLineSimplifier;\n\t}\n});\nDouglasPeuckerLineSimplifier.simplify = function (pts, distanceTolerance) {\n\tvar simp = new DouglasPeuckerLineSimplifier(pts);\n\tsimp.setDistanceTolerance(distanceTolerance);\n\treturn simp.simplify();\n};\n","import DouglasPeuckerLineSimplifier from './DouglasPeuckerLineSimplifier';\nimport GeometryTransformer from '../geom/util/GeometryTransformer';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Polygon from '../geom/Polygon';\nimport LinearRing from '../geom/LinearRing';\nimport extend from '../../../../extend';\nimport MultiPolygon from '../geom/MultiPolygon';\nimport inherits from '../../../../inherits';\nexport default function DouglasPeuckerSimplifier() {\n\tthis._inputGeom = null;\n\tthis._distanceTolerance = null;\n\tthis._isEnsureValidTopology = true;\n\tlet inputGeom = arguments[0];\n\tthis._inputGeom = inputGeom;\n}\nextend(DouglasPeuckerSimplifier.prototype, {\n\tsetEnsureValid: function (isEnsureValidTopology) {\n\t\tthis._isEnsureValidTopology = isEnsureValidTopology;\n\t},\n\tgetResultGeometry: function () {\n\t\tif (this._inputGeom.isEmpty()) return this._inputGeom.copy();\n\t\treturn new DPTransformer(this._isEnsureValidTopology, this._distanceTolerance).transform(this._inputGeom);\n\t},\n\tsetDistanceTolerance: function (distanceTolerance) {\n\t\tif (distanceTolerance < 0.0) throw new IllegalArgumentException(\"Tolerance must be non-negative\");\n\t\tthis._distanceTolerance = distanceTolerance;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DouglasPeuckerSimplifier;\n\t}\n});\nDouglasPeuckerSimplifier.simplify = function (geom, distanceTolerance) {\n\tvar tss = new DouglasPeuckerSimplifier(geom);\n\ttss.setDistanceTolerance(distanceTolerance);\n\treturn tss.getResultGeometry();\n};\nfunction DPTransformer() {\n\tGeometryTransformer.apply(this);\n\tthis._isEnsureValidTopology = true;\n\tthis._distanceTolerance = null;\n\tlet isEnsureValidTopology = arguments[0], distanceTolerance = arguments[1];\n\tthis._isEnsureValidTopology = isEnsureValidTopology;\n\tthis._distanceTolerance = distanceTolerance;\n}\ninherits(DPTransformer, GeometryTransformer);\nextend(DPTransformer.prototype, {\n\ttransformPolygon: function (geom, parent) {\n\t\tif (geom.isEmpty()) return null;\n\t\tvar rawGeom = GeometryTransformer.prototype.transformPolygon.call(this, geom, parent);\n\t\tif (parent instanceof MultiPolygon) {\n\t\t\treturn rawGeom;\n\t\t}\n\t\treturn this.createValidArea(rawGeom);\n\t},\n\tcreateValidArea: function (rawAreaGeom) {\n\t\tif (this._isEnsureValidTopology) return rawAreaGeom.buffer(0.0);\n\t\treturn rawAreaGeom;\n\t},\n\ttransformCoordinates: function (coords, parent) {\n\t\tvar inputPts = coords.toCoordinateArray();\n\t\tvar newPts = null;\n\t\tif (inputPts.length === 0) {\n\t\t\tnewPts = new Array(0).fill(null);\n\t\t} else {\n\t\t\tnewPts = DouglasPeuckerLineSimplifier.simplify(inputPts, this._distanceTolerance);\n\t\t}\n\t\treturn this._factory.getCoordinateSequenceFactory().create(newPts);\n\t},\n\ttransformMultiPolygon: function (geom, parent) {\n\t\tvar rawGeom = GeometryTransformer.prototype.transformMultiPolygon.call(this, geom, parent);\n\t\treturn this.createValidArea(rawGeom);\n\t},\n\ttransformLinearRing: function (geom, parent) {\n\t\tvar removeDegenerateRings = parent instanceof Polygon;\n\t\tvar simpResult = GeometryTransformer.prototype.transformLinearRing.call(this, geom, parent);\n\t\tif (removeDegenerateRings && !(simpResult instanceof LinearRing)) return null;\n\t\t;\n\t\treturn simpResult;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DPTransformer;\n\t}\n});\nDouglasPeuckerSimplifier.DPTransformer = DPTransformer;\n","import extend from '../../../../extend';\nimport LineSegment from '../geom/LineSegment';\nimport inherits from '../../../../inherits';\nexport default function TaggedLineSegment() {\n\tthis._parent = null;\n\tthis._index = null;\n\tif (arguments.length === 2) {\n\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\tTaggedLineSegment.call(this, p0, p1, null, -1);\n\t} else if (arguments.length === 4) {\n\t\tlet p0 = arguments[0], p1 = arguments[1], parent = arguments[2], index = arguments[3];\n\t\tLineSegment.call(this, p0, p1);\n\t\tthis._parent = parent;\n\t\tthis._index = index;\n\t}\n}\ninherits(TaggedLineSegment, LineSegment);\nextend(TaggedLineSegment.prototype, {\n\tgetIndex: function () {\n\t\treturn this._index;\n\t},\n\tgetParent: function () {\n\t\treturn this._parent;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn TaggedLineSegment;\n\t}\n});\n","import extend from '../../../../extend';\nimport TaggedLineSegment from './TaggedLineSegment';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function TaggedLineString() {\n\tthis._parentLine = null;\n\tthis._segs = null;\n\tthis._resultSegs = new ArrayList();\n\tthis._minimumSize = null;\n\tif (arguments.length === 1) {\n\t\tlet parentLine = arguments[0];\n\t\tTaggedLineString.call(this, parentLine, 2);\n\t} else if (arguments.length === 2) {\n\t\tlet parentLine = arguments[0], minimumSize = arguments[1];\n\t\tthis._parentLine = parentLine;\n\t\tthis._minimumSize = minimumSize;\n\t\tthis.init();\n\t}\n}\nextend(TaggedLineString.prototype, {\n\taddToResult: function (seg) {\n\t\tthis._resultSegs.add(seg);\n\t},\n\tasLineString: function () {\n\t\treturn this._parentLine.getFactory().createLineString(TaggedLineString.extractCoordinates(this._resultSegs));\n\t},\n\tgetResultSize: function () {\n\t\tvar resultSegsSize = this._resultSegs.size();\n\t\treturn resultSegsSize === 0 ? 0 : resultSegsSize + 1;\n\t},\n\tgetParent: function () {\n\t\treturn this._parentLine;\n\t},\n\tgetSegment: function (i) {\n\t\treturn this._segs[i];\n\t},\n\tgetParentCoordinates: function () {\n\t\treturn this._parentLine.getCoordinates();\n\t},\n\tgetMinimumSize: function () {\n\t\treturn this._minimumSize;\n\t},\n\tasLinearRing: function () {\n\t\treturn this._parentLine.getFactory().createLinearRing(TaggedLineString.extractCoordinates(this._resultSegs));\n\t},\n\tgetSegments: function () {\n\t\treturn this._segs;\n\t},\n\tinit: function () {\n\t\tvar pts = this._parentLine.getCoordinates();\n\t\tthis._segs = new Array(pts.length - 1).fill(null);\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tvar seg = new TaggedLineSegment(pts[i], pts[i + 1], this._parentLine, i);\n\t\t\tthis._segs[i] = seg;\n\t\t}\n\t},\n\tgetResultCoordinates: function () {\n\t\treturn TaggedLineString.extractCoordinates(this._resultSegs);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn TaggedLineString;\n\t}\n});\nTaggedLineString.extractCoordinates = function (segs) {\n\tvar pts = new Array(segs.size() + 1).fill(null);\n\tvar seg = null;\n\tfor (var i = 0; i < segs.size(); i++) {\n\t\tseg = segs.get(i);\n\t\tpts[i] = seg.p0;\n\t}\n\tpts[pts.length - 1] = seg.p1;\n\treturn pts;\n};\n","import Quadtree from '../index/quadtree/Quadtree';\nimport ItemVisitor from '../index/ItemVisitor';\nimport extend from '../../../../extend';\nimport LineSegment from '../geom/LineSegment';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Envelope from '../geom/Envelope';\nimport TaggedLineString from './TaggedLineString';\nexport default function LineSegmentIndex() {\n\tthis._index = new Quadtree();\n}\nextend(LineSegmentIndex.prototype, {\n\tremove: function (seg) {\n\t\tthis._index.remove(new Envelope(seg.p0, seg.p1), seg);\n\t},\n\tadd: function () {\n\t\tif (arguments[0] instanceof TaggedLineString) {\n\t\t\tlet line = arguments[0];\n\t\t\tvar segs = line.getSegments();\n\t\t\tfor (var i = 0; i < segs.length; i++) {\n\t\t\t\tvar seg = segs[i];\n\t\t\t\tthis.add(seg);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineSegment) {\n\t\t\tlet seg = arguments[0];\n\t\t\tthis._index.insert(new Envelope(seg.p0, seg.p1), seg);\n\t\t}\n\t},\n\tquery: function (querySeg) {\n\t\tvar env = new Envelope(querySeg.p0, querySeg.p1);\n\t\tvar visitor = new LineSegmentVisitor(querySeg);\n\t\tthis._index.query(env, visitor);\n\t\tvar itemsFound = visitor.getItems();\n\t\treturn itemsFound;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LineSegmentIndex;\n\t}\n});\nfunction LineSegmentVisitor() {\n\tthis._querySeg = null;\n\tthis._items = new ArrayList();\n\tlet querySeg = arguments[0];\n\tthis._querySeg = querySeg;\n}\nextend(LineSegmentVisitor.prototype, {\n\tvisitItem: function (item) {\n\t\tvar seg = item;\n\t\tif (Envelope.intersects(seg.p0, seg.p1, this._querySeg.p0, this._querySeg.p1)) this._items.add(item);\n\t},\n\tgetItems: function () {\n\t\treturn this._items;\n\t},\n\tinterfaces_: function () {\n\t\treturn [ItemVisitor];\n\t},\n\tgetClass: function () {\n\t\treturn LineSegmentVisitor;\n\t}\n});\n","import extend from '../../../../extend';\nimport LineSegment from '../geom/LineSegment';\nimport LineSegmentIndex from './LineSegmentIndex';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nexport default function TaggedLineStringSimplifier() {\n\tthis._li = new RobustLineIntersector();\n\tthis._inputIndex = new LineSegmentIndex();\n\tthis._outputIndex = new LineSegmentIndex();\n\tthis._line = null;\n\tthis._linePts = null;\n\tthis._distanceTolerance = 0.0;\n\tlet inputIndex = arguments[0], outputIndex = arguments[1];\n\tthis._inputIndex = inputIndex;\n\tthis._outputIndex = outputIndex;\n}\nextend(TaggedLineStringSimplifier.prototype, {\n\tflatten: function (start, end) {\n\t\tvar p0 = this._linePts[start];\n\t\tvar p1 = this._linePts[end];\n\t\tvar newSeg = new LineSegment(p0, p1);\n\t\tthis.remove(this._line, start, end);\n\t\tthis._outputIndex.add(newSeg);\n\t\treturn newSeg;\n\t},\n\thasBadIntersection: function (parentLine, sectionIndex, candidateSeg) {\n\t\tif (this.hasBadOutputIntersection(candidateSeg)) return true;\n\t\tif (this.hasBadInputIntersection(parentLine, sectionIndex, candidateSeg)) return true;\n\t\treturn false;\n\t},\n\tsetDistanceTolerance: function (distanceTolerance) {\n\t\tthis._distanceTolerance = distanceTolerance;\n\t},\n\tsimplifySection: function (i, j, depth) {\n\t\tdepth += 1;\n\t\tvar sectionIndex = new Array(2).fill(null);\n\t\tif (i + 1 === j) {\n\t\t\tvar newSeg = this._line.getSegment(i);\n\t\t\tthis._line.addToResult(newSeg);\n\t\t\treturn null;\n\t\t}\n\t\tvar isValidToSimplify = true;\n\t\tif (this._line.getResultSize() < this._line.getMinimumSize()) {\n\t\t\tvar worstCaseSize = depth + 1;\n\t\t\tif (worstCaseSize < this._line.getMinimumSize()) isValidToSimplify = false;\n\t\t}\n\t\tvar distance = new Array(1).fill(null);\n\t\tvar furthestPtIndex = this.findFurthestPoint(this._linePts, i, j, distance);\n\t\tif (distance[0] > this._distanceTolerance) isValidToSimplify = false;\n\t\tvar candidateSeg = new LineSegment();\n\t\tcandidateSeg.p0 = this._linePts[i];\n\t\tcandidateSeg.p1 = this._linePts[j];\n\t\tsectionIndex[0] = i;\n\t\tsectionIndex[1] = j;\n\t\tif (this.hasBadIntersection(this._line, sectionIndex, candidateSeg)) isValidToSimplify = false;\n\t\tif (isValidToSimplify) {\n\t\t\tvar newSeg = this.flatten(i, j);\n\t\t\tthis._line.addToResult(newSeg);\n\t\t\treturn null;\n\t\t}\n\t\tthis.simplifySection(i, furthestPtIndex, depth);\n\t\tthis.simplifySection(furthestPtIndex, j, depth);\n\t},\n\thasBadOutputIntersection: function (candidateSeg) {\n\t\tvar querySegs = this._outputIndex.query(candidateSeg);\n\t\tfor (var i = querySegs.iterator(); i.hasNext(); ) {\n\t\t\tvar querySeg = i.next();\n\t\t\tif (this.hasInteriorIntersection(querySeg, candidateSeg)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tfindFurthestPoint: function (pts, i, j, maxDistance) {\n\t\tvar seg = new LineSegment();\n\t\tseg.p0 = pts[i];\n\t\tseg.p1 = pts[j];\n\t\tvar maxDist = -1.0;\n\t\tvar maxIndex = i;\n\t\tfor (var k = i + 1; k < j; k++) {\n\t\t\tvar midPt = pts[k];\n\t\t\tvar distance = seg.distance(midPt);\n\t\t\tif (distance > maxDist) {\n\t\t\t\tmaxDist = distance;\n\t\t\t\tmaxIndex = k;\n\t\t\t}\n\t\t}\n\t\tmaxDistance[0] = maxDist;\n\t\treturn maxIndex;\n\t},\n\tsimplify: function (line) {\n\t\tthis._line = line;\n\t\tthis._linePts = line.getParentCoordinates();\n\t\tthis.simplifySection(0, this._linePts.length - 1, 0);\n\t},\n\tremove: function (line, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar seg = line.getSegment(i);\n\t\t\tthis._inputIndex.remove(seg);\n\t\t}\n\t},\n\thasInteriorIntersection: function (seg0, seg1) {\n\t\tthis._li.computeIntersection(seg0.p0, seg0.p1, seg1.p0, seg1.p1);\n\t\treturn this._li.isInteriorIntersection();\n\t},\n\thasBadInputIntersection: function (parentLine, sectionIndex, candidateSeg) {\n\t\tvar querySegs = this._inputIndex.query(candidateSeg);\n\t\tfor (var i = querySegs.iterator(); i.hasNext(); ) {\n\t\t\tvar querySeg = i.next();\n\t\t\tif (this.hasInteriorIntersection(querySeg, candidateSeg)) {\n\t\t\t\tif (TaggedLineStringSimplifier.isInLineSection(parentLine, sectionIndex, querySeg)) continue;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn TaggedLineStringSimplifier;\n\t}\n});\nTaggedLineStringSimplifier.isInLineSection = function (line, sectionIndex, seg) {\n\tif (seg.getParent() !== line.getParent()) return false;\n\tvar segIndex = seg.getIndex();\n\tif (segIndex >= sectionIndex[0] && segIndex < sectionIndex[1]) return true;\n\treturn false;\n};\n","import extend from '../../../../extend';\nimport TaggedLineStringSimplifier from './TaggedLineStringSimplifier';\nimport LineSegmentIndex from './LineSegmentIndex';\nexport default function TaggedLinesSimplifier() {\n\tthis._inputIndex = new LineSegmentIndex();\n\tthis._outputIndex = new LineSegmentIndex();\n\tthis._distanceTolerance = 0.0;\n}\nextend(TaggedLinesSimplifier.prototype, {\n\tsetDistanceTolerance: function (distanceTolerance) {\n\t\tthis._distanceTolerance = distanceTolerance;\n\t},\n\tsimplify: function (taggedLines) {\n\t\tfor (var i = taggedLines.iterator(); i.hasNext(); ) {\n\t\t\tthis._inputIndex.add(i.next());\n\t\t}\n\t\tfor (var i = taggedLines.iterator(); i.hasNext(); ) {\n\t\t\tvar tlss = new TaggedLineStringSimplifier(this._inputIndex, this._outputIndex);\n\t\t\ttlss.setDistanceTolerance(this._distanceTolerance);\n\t\t\ttlss.simplify(i.next());\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn TaggedLinesSimplifier;\n\t}\n});\n","import LineString from '../geom/LineString';\nimport HashMap from '../../../../java/util/HashMap';\nimport GeometryTransformer from '../geom/util/GeometryTransformer';\nimport TaggedLinesSimplifier from './TaggedLinesSimplifier';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport GeometryComponentFilter from '../geom/GeometryComponentFilter';\nimport inherits from '../../../../inherits';\nimport TaggedLineString from './TaggedLineString';\nexport default function TopologyPreservingSimplifier() {\n\tthis._inputGeom = null;\n\tthis._lineSimplifier = new TaggedLinesSimplifier();\n\tthis._linestringMap = null;\n\tlet inputGeom = arguments[0];\n\tthis._inputGeom = inputGeom;\n}\nextend(TopologyPreservingSimplifier.prototype, {\n\tgetResultGeometry: function () {\n\t\tif (this._inputGeom.isEmpty()) return this._inputGeom.copy();\n\t\tthis._linestringMap = new HashMap();\n\t\tthis._inputGeom.apply(new LineStringMapBuilderFilter(this));\n\t\tthis._lineSimplifier.simplify(this._linestringMap.values());\n\t\tvar result = new LineStringTransformer(this._linestringMap).transform(this._inputGeom);\n\t\treturn result;\n\t},\n\tsetDistanceTolerance: function (distanceTolerance) {\n\t\tif (distanceTolerance < 0.0) throw new IllegalArgumentException(\"Tolerance must be non-negative\");\n\t\tthis._lineSimplifier.setDistanceTolerance(distanceTolerance);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn TopologyPreservingSimplifier;\n\t}\n});\nTopologyPreservingSimplifier.simplify = function (geom, distanceTolerance) {\n\tvar tss = new TopologyPreservingSimplifier(geom);\n\ttss.setDistanceTolerance(distanceTolerance);\n\treturn tss.getResultGeometry();\n};\nfunction LineStringTransformer() {\n\tGeometryTransformer.apply(this);\n\tthis._linestringMap = null;\n\tlet linestringMap = arguments[0];\n\tthis._linestringMap = linestringMap;\n}\ninherits(LineStringTransformer, GeometryTransformer);\nextend(LineStringTransformer.prototype, {\n\ttransformCoordinates: function (coords, parent) {\n\t\tif (coords.size() === 0) return null;\n\t\tif (parent instanceof LineString) {\n\t\t\tvar taggedLine = this._linestringMap.get(parent);\n\t\t\treturn this.createCoordinateSequence(taggedLine.getResultCoordinates());\n\t\t}\n\t\treturn GeometryTransformer.prototype.transformCoordinates.call(this, coords, parent);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LineStringTransformer;\n\t}\n});\nfunction LineStringMapBuilderFilter() {\n\tthis.tps = null;\n\tlet tps = arguments[0];\n\tthis.tps = tps;\n}\nextend(LineStringMapBuilderFilter.prototype, {\n\tfilter: function (geom) {\n\t\tif (geom instanceof LineString) {\n\t\t\tvar line = geom;\n\t\t\tif (line.isEmpty()) return null;\n\t\t\tvar minSize = line.isClosed() ? 4 : 2;\n\t\t\tvar taggedLine = new TaggedLineString(line, minSize);\n\t\t\tthis.tps._linestringMap.put(line, taggedLine);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [GeometryComponentFilter];\n\t},\n\tgetClass: function () {\n\t\treturn LineStringMapBuilderFilter;\n\t}\n});\nTopologyPreservingSimplifier.LineStringTransformer = LineStringTransformer;\nTopologyPreservingSimplifier.LineStringMapBuilderFilter = LineStringMapBuilderFilter;\n","import Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nexport default function SplitSegment() {\n\tthis._seg = null;\n\tthis._segLen = null;\n\tthis._splitPt = null;\n\tthis._minimumLen = 0.0;\n\tlet seg = arguments[0];\n\tthis._seg = seg;\n\tthis._segLen = seg.getLength();\n}\nextend(SplitSegment.prototype, {\n\tsplitAt: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet pt = arguments[0];\n\t\t\tvar minFrac = this._minimumLen / this._segLen;\n\t\t\tif (pt.distance(this._seg.p0) < this._minimumLen) {\n\t\t\t\tthis._splitPt = this._seg.pointAlong(minFrac);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (pt.distance(this._seg.p1) < this._minimumLen) {\n\t\t\t\tthis._splitPt = SplitSegment.pointAlongReverse(this._seg, minFrac);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._splitPt = pt;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet length = arguments[0], endPt = arguments[1];\n\t\t\tvar actualLen = this.getConstrainedLength(length);\n\t\t\tvar frac = actualLen / this._segLen;\n\t\t\tif (endPt.equals2D(this._seg.p0)) this._splitPt = this._seg.pointAlong(frac); else this._splitPt = SplitSegment.pointAlongReverse(this._seg, frac);\n\t\t}\n\t},\n\tsetMinimumLength: function (minLen) {\n\t\tthis._minimumLen = minLen;\n\t},\n\tgetConstrainedLength: function (len) {\n\t\tif (len < this._minimumLen) return this._minimumLen;\n\t\treturn len;\n\t},\n\tgetSplitPoint: function () {\n\t\treturn this._splitPt;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn SplitSegment;\n\t}\n});\nSplitSegment.pointAlongReverse = function (seg, segmentLengthFraction) {\n\tvar coord = new Coordinate();\n\tcoord.x = seg.p1.x - segmentLengthFraction * (seg.p1.x - seg.p0.x);\n\tcoord.y = seg.p1.y - segmentLengthFraction * (seg.p1.y - seg.p0.y);\n\treturn coord;\n};\n","import extend from '../../../../extend';\nexport default function ConstraintSplitPointFinder() {}\nextend(ConstraintSplitPointFinder.prototype, {\n\tfindSplitPoint: function (seg, encroachPt) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ConstraintSplitPointFinder;\n\t}\n});\n","import extend from '../../../../extend';\nimport SplitSegment from './SplitSegment';\nimport ConstraintSplitPointFinder from './ConstraintSplitPointFinder';\nexport default function NonEncroachingSplitPointFinder() {}\nextend(NonEncroachingSplitPointFinder.prototype, {\n\tfindSplitPoint: function (seg, encroachPt) {\n\t\tvar lineSeg = seg.getLineSegment();\n\t\tvar segLen = lineSeg.getLength();\n\t\tvar midPtLen = segLen / 2;\n\t\tvar splitSeg = new SplitSegment(lineSeg);\n\t\tvar projPt = NonEncroachingSplitPointFinder.projectedSplitPoint(seg, encroachPt);\n\t\tvar nonEncroachDiam = projPt.distance(encroachPt) * 2 * 0.8;\n\t\tvar maxSplitLen = nonEncroachDiam;\n\t\tif (maxSplitLen > midPtLen) {\n\t\t\tmaxSplitLen = midPtLen;\n\t\t}\n\t\tsplitSeg.setMinimumLength(maxSplitLen);\n\t\tsplitSeg.splitAt(projPt);\n\t\treturn splitSeg.getSplitPoint();\n\t},\n\tinterfaces_: function () {\n\t\treturn [ConstraintSplitPointFinder];\n\t},\n\tgetClass: function () {\n\t\treturn NonEncroachingSplitPointFinder;\n\t}\n});\nNonEncroachingSplitPointFinder.projectedSplitPoint = function (seg, encroachPt) {\n\tvar lineSeg = seg.getLineSegment();\n\tvar projPt = lineSeg.project(encroachPt);\n\treturn projPt;\n};\n","import WKTWriter from '../../io/WKTWriter';\nimport CoordinateArraySequence from '../../geom/impl/CoordinateArraySequence';\nimport extend from '../../../../../extend';\nimport DD from '../../math/DD';\nimport System from '../../../../../java/lang/System';\nimport Triangle from '../../geom/Triangle';\nexport default function TrianglePredicate() {}\nextend(TrianglePredicate.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn TrianglePredicate;\n\t}\n});\nTrianglePredicate.triArea = function (a, b, c) {\n\treturn (b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x);\n};\nTrianglePredicate.isInCircleDDNormalized = function (a, b, c, p) {\n\tvar adx = DD.valueOf(a.x).selfSubtract(p.x);\n\tvar ady = DD.valueOf(a.y).selfSubtract(p.y);\n\tvar bdx = DD.valueOf(b.x).selfSubtract(p.x);\n\tvar bdy = DD.valueOf(b.y).selfSubtract(p.y);\n\tvar cdx = DD.valueOf(c.x).selfSubtract(p.x);\n\tvar cdy = DD.valueOf(c.y).selfSubtract(p.y);\n\tvar abdet = adx.multiply(bdy).selfSubtract(bdx.multiply(ady));\n\tvar bcdet = bdx.multiply(cdy).selfSubtract(cdx.multiply(bdy));\n\tvar cadet = cdx.multiply(ady).selfSubtract(adx.multiply(cdy));\n\tvar alift = adx.multiply(adx).selfAdd(ady.multiply(ady));\n\tvar blift = bdx.multiply(bdx).selfAdd(bdy.multiply(bdy));\n\tvar clift = cdx.multiply(cdx).selfAdd(cdy.multiply(cdy));\n\tvar sum = alift.selfMultiply(bcdet).selfAdd(blift.selfMultiply(cadet)).selfAdd(clift.selfMultiply(abdet));\n\tvar isInCircle = sum.doubleValue() > 0;\n\treturn isInCircle;\n};\nTrianglePredicate.checkRobustInCircle = function (a, b, c, p) {\n\tvar nonRobustInCircle = TrianglePredicate.isInCircleNonRobust(a, b, c, p);\n\tvar isInCircleDD = TrianglePredicate.isInCircleDDSlow(a, b, c, p);\n\tvar isInCircleCC = TrianglePredicate.isInCircleCC(a, b, c, p);\n\tvar circumCentre = Triangle.circumcentre(a, b, c);\n\tSystem.out.println(\"p radius diff a = \" + Math.abs(p.distance(circumCentre) - a.distance(circumCentre)) / a.distance(circumCentre));\n\tif (nonRobustInCircle !== isInCircleDD || nonRobustInCircle !== isInCircleCC) {\n\t\tSystem.out.println(\"inCircle robustness failure (double result = \" + nonRobustInCircle + \", DD result = \" + isInCircleDD + \", CC result = \" + isInCircleCC + \")\");\n\t\tSystem.out.println(WKTWriter.toLineString(new CoordinateArraySequence([a, b, c, p])));\n\t\tSystem.out.println(\"Circumcentre = \" + WKTWriter.toPoint(circumCentre) + \" radius = \" + a.distance(circumCentre));\n\t\tSystem.out.println(\"p radius diff a = \" + Math.abs(p.distance(circumCentre) / a.distance(circumCentre) - 1));\n\t\tSystem.out.println(\"p radius diff b = \" + Math.abs(p.distance(circumCentre) / b.distance(circumCentre) - 1));\n\t\tSystem.out.println(\"p radius diff c = \" + Math.abs(p.distance(circumCentre) / c.distance(circumCentre) - 1));\n\t\tSystem.out.println();\n\t}\n};\nTrianglePredicate.isInCircleDDFast = function (a, b, c, p) {\n\tvar aTerm = DD.sqr(a.x).selfAdd(DD.sqr(a.y)).selfMultiply(TrianglePredicate.triAreaDDFast(b, c, p));\n\tvar bTerm = DD.sqr(b.x).selfAdd(DD.sqr(b.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, c, p));\n\tvar cTerm = DD.sqr(c.x).selfAdd(DD.sqr(c.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, b, p));\n\tvar pTerm = DD.sqr(p.x).selfAdd(DD.sqr(p.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, b, c));\n\tvar sum = aTerm.selfSubtract(bTerm).selfAdd(cTerm).selfSubtract(pTerm);\n\tvar isInCircle = sum.doubleValue() > 0;\n\treturn isInCircle;\n};\nTrianglePredicate.isInCircleCC = function (a, b, c, p) {\n\tvar cc = Triangle.circumcentre(a, b, c);\n\tvar ccRadius = a.distance(cc);\n\tvar pRadiusDiff = p.distance(cc) - ccRadius;\n\treturn pRadiusDiff <= 0;\n};\nTrianglePredicate.isInCircleNormalized = function (a, b, c, p) {\n\tvar adx = a.x - p.x;\n\tvar ady = a.y - p.y;\n\tvar bdx = b.x - p.x;\n\tvar bdy = b.y - p.y;\n\tvar cdx = c.x - p.x;\n\tvar cdy = c.y - p.y;\n\tvar abdet = adx * bdy - bdx * ady;\n\tvar bcdet = bdx * cdy - cdx * bdy;\n\tvar cadet = cdx * ady - adx * cdy;\n\tvar alift = adx * adx + ady * ady;\n\tvar blift = bdx * bdx + bdy * bdy;\n\tvar clift = cdx * cdx + cdy * cdy;\n\tvar disc = alift * bcdet + blift * cadet + clift * abdet;\n\treturn disc > 0;\n};\nTrianglePredicate.isInCircleDDSlow = function (a, b, c, p) {\n\tvar px = DD.valueOf(p.x);\n\tvar py = DD.valueOf(p.y);\n\tvar ax = DD.valueOf(a.x);\n\tvar ay = DD.valueOf(a.y);\n\tvar bx = DD.valueOf(b.x);\n\tvar by = DD.valueOf(b.y);\n\tvar cx = DD.valueOf(c.x);\n\tvar cy = DD.valueOf(c.y);\n\tvar aTerm = ax.multiply(ax).add(ay.multiply(ay)).multiply(TrianglePredicate.triAreaDDSlow(bx, by, cx, cy, px, py));\n\tvar bTerm = bx.multiply(bx).add(by.multiply(by)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, cx, cy, px, py));\n\tvar cTerm = cx.multiply(cx).add(cy.multiply(cy)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, bx, by, px, py));\n\tvar pTerm = px.multiply(px).add(py.multiply(py)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, bx, by, cx, cy));\n\tvar sum = aTerm.subtract(bTerm).add(cTerm).subtract(pTerm);\n\tvar isInCircle = sum.doubleValue() > 0;\n\treturn isInCircle;\n};\nTrianglePredicate.isInCircleNonRobust = function (a, b, c, p) {\n\tvar isInCircle = (a.x * a.x + a.y * a.y) * TrianglePredicate.triArea(b, c, p) - (b.x * b.x + b.y * b.y) * TrianglePredicate.triArea(a, c, p) + (c.x * c.x + c.y * c.y) * TrianglePredicate.triArea(a, b, p) - (p.x * p.x + p.y * p.y) * TrianglePredicate.triArea(a, b, c) > 0;\n\treturn isInCircle;\n};\nTrianglePredicate.isInCircleRobust = function (a, b, c, p) {\n\treturn TrianglePredicate.isInCircleNormalized(a, b, c, p);\n};\nTrianglePredicate.triAreaDDSlow = function (ax, ay, bx, by, cx, cy) {\n\treturn bx.subtract(ax).multiply(cy.subtract(ay)).subtract(by.subtract(ay).multiply(cx.subtract(ax)));\n};\nTrianglePredicate.triAreaDDFast = function (a, b, c) {\n\tvar t1 = DD.valueOf(b.x).selfSubtract(a.x).selfMultiply(DD.valueOf(c.y).selfSubtract(a.y));\n\tvar t2 = DD.valueOf(b.y).selfSubtract(a.y).selfMultiply(DD.valueOf(c.x).selfSubtract(a.x));\n\treturn t1.selfSubtract(t2);\n};\n","import NotRepresentableException from '../../algorithm/NotRepresentableException';\nimport Coordinate from '../../geom/Coordinate';\nimport TrianglePredicate from './TrianglePredicate';\nimport extend from '../../../../../extend';\nimport System from '../../../../../java/lang/System';\nimport HCoordinate from '../../algorithm/HCoordinate';\nexport default function Vertex() {\n\tthis._p = null;\n\tif (arguments.length === 1) {\n\t\tlet _p = arguments[0];\n\t\tthis._p = new Coordinate(_p);\n\t} else if (arguments.length === 2) {\n\t\tlet _x = arguments[0], _y = arguments[1];\n\t\tthis._p = new Coordinate(_x, _y);\n\t} else if (arguments.length === 3) {\n\t\tlet _x = arguments[0], _y = arguments[1], _z = arguments[2];\n\t\tthis._p = new Coordinate(_x, _y, _z);\n\t}\n}\nextend(Vertex.prototype, {\n\tcircleCenter: function (b, c) {\n\t\tvar a = new Vertex(this.getX(), this.getY());\n\t\tvar cab = this.bisector(a, b);\n\t\tvar cbc = this.bisector(b, c);\n\t\tvar hcc = new HCoordinate(cab, cbc);\n\t\tvar cc = null;\n\t\ttry {\n\t\t\tcc = new Vertex(hcc.getX(), hcc.getY());\n\t\t} catch (nre) {\n\t\t\tif (nre instanceof NotRepresentableException) {\n\t\t\t\tSystem.err.println(\"a: \" + a + \"  b: \" + b + \"  c: \" + c);\n\t\t\t\tSystem.err.println(nre);\n\t\t\t} else throw nre;\n\t\t} finally {}\n\t\treturn cc;\n\t},\n\tdot: function (v) {\n\t\treturn this._p.x * v.getX() + this._p.y * v.getY();\n\t},\n\tmagn: function () {\n\t\treturn Math.sqrt(this._p.x * this._p.x + this._p.y * this._p.y);\n\t},\n\tgetZ: function () {\n\t\treturn this._p.z;\n\t},\n\tbisector: function (a, b) {\n\t\tvar dx = b.getX() - a.getX();\n\t\tvar dy = b.getY() - a.getY();\n\t\tvar l1 = new HCoordinate(a.getX() + dx / 2.0, a.getY() + dy / 2.0, 1.0);\n\t\tvar l2 = new HCoordinate(a.getX() - dy + dx / 2.0, a.getY() + dx + dy / 2.0, 1.0);\n\t\treturn new HCoordinate(l1, l2);\n\t},\n\tequals: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet _x = arguments[0];\n\t\t\tif (this._p.x === _x.getX() && this._p.y === _x.getY()) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet _x = arguments[0], tolerance = arguments[1];\n\t\t\tif (this._p.distance(_x.getCoordinate()) < tolerance) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\tgetCoordinate: function () {\n\t\treturn this._p;\n\t},\n\tisInCircle: function (a, b, c) {\n\t\treturn TrianglePredicate.isInCircleRobust(a._p, b._p, c._p, this._p);\n\t},\n\tinterpolateZValue: function (v0, v1, v2) {\n\t\tvar x0 = v0.getX();\n\t\tvar y0 = v0.getY();\n\t\tvar a = v1.getX() - x0;\n\t\tvar b = v2.getX() - x0;\n\t\tvar c = v1.getY() - y0;\n\t\tvar d = v2.getY() - y0;\n\t\tvar det = a * d - b * c;\n\t\tvar dx = this.getX() - x0;\n\t\tvar dy = this.getY() - y0;\n\t\tvar t = (d * dx - b * dy) / det;\n\t\tvar u = (-c * dx + a * dy) / det;\n\t\tvar z = v0.getZ() + t * (v1.getZ() - v0.getZ()) + u * (v2.getZ() - v0.getZ());\n\t\treturn z;\n\t},\n\tmidPoint: function (a) {\n\t\tvar xm = (this._p.x + a.getX()) / 2.0;\n\t\tvar ym = (this._p.y + a.getY()) / 2.0;\n\t\tvar zm = (this._p.z + a.getZ()) / 2.0;\n\t\treturn new Vertex(xm, ym, zm);\n\t},\n\trightOf: function (e) {\n\t\treturn this.isCCW(e.dest(), e.orig());\n\t},\n\tisCCW: function (b, c) {\n\t\treturn (b._p.x - this._p.x) * (c._p.y - this._p.y) - (b._p.y - this._p.y) * (c._p.x - this._p.x) > 0;\n\t},\n\tgetX: function () {\n\t\treturn this._p.x;\n\t},\n\tcrossProduct: function (v) {\n\t\treturn this._p.x * v.getY() - this._p.y * v.getX();\n\t},\n\tsetZ: function (_z) {\n\t\tthis._p.z = _z;\n\t},\n\ttimes: function (c) {\n\t\treturn new Vertex(c * this._p.x, c * this._p.y);\n\t},\n\tcross: function () {\n\t\treturn new Vertex(this._p.y, -this._p.x);\n\t},\n\tleftOf: function (e) {\n\t\treturn this.isCCW(e.orig(), e.dest());\n\t},\n\ttoString: function () {\n\t\treturn \"POINT (\" + this._p.x + \" \" + this._p.y + \")\";\n\t},\n\tsub: function (v) {\n\t\treturn new Vertex(this._p.x - v.getX(), this._p.y - v.getY());\n\t},\n\tgetY: function () {\n\t\treturn this._p.y;\n\t},\n\tclassify: function (p0, p1) {\n\t\tvar p2 = this;\n\t\tvar a = p1.sub(p0);\n\t\tvar b = p2.sub(p0);\n\t\tvar sa = a.crossProduct(b);\n\t\tif (sa > 0.0) return Vertex.LEFT;\n\t\tif (sa < 0.0) return Vertex.RIGHT;\n\t\tif (a.getX() * b.getX() < 0.0 || a.getY() * b.getY() < 0.0) return Vertex.BEHIND;\n\t\tif (a.magn() < b.magn()) return Vertex.BEYOND;\n\t\tif (p0.equals(p2)) return Vertex.ORIGIN;\n\t\tif (p1.equals(p2)) return Vertex.DESTINATION;\n\t\treturn Vertex.BETWEEN;\n\t},\n\tsum: function (v) {\n\t\treturn new Vertex(this._p.x + v.getX(), this._p.y + v.getY());\n\t},\n\tdistance: function (v1, v2) {\n\t\treturn Math.sqrt(Math.pow(v2.getX() - v1.getX(), 2.0) + Math.pow(v2.getY() - v1.getY(), 2.0));\n\t},\n\tcircumRadiusRatio: function (b, c) {\n\t\tvar x = this.circleCenter(b, c);\n\t\tvar radius = this.distance(x, b);\n\t\tvar edgeLength = this.distance(this, b);\n\t\tvar el = this.distance(b, c);\n\t\tif (el < edgeLength) {\n\t\t\tedgeLength = el;\n\t\t}\n\t\tel = this.distance(c, this);\n\t\tif (el < edgeLength) {\n\t\t\tedgeLength = el;\n\t\t}\n\t\treturn radius / edgeLength;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Vertex;\n\t}\n});\nVertex.interpolateZ = function () {\n\tif (arguments.length === 3) {\n\t\tlet p = arguments[0], p0 = arguments[1], p1 = arguments[2];\n\t\tvar segLen = p0.distance(p1);\n\t\tvar ptLen = p.distance(p0);\n\t\tvar dz = p1.z - p0.z;\n\t\tvar pz = p0.z + dz * (ptLen / segLen);\n\t\treturn pz;\n\t} else if (arguments.length === 4) {\n\t\tlet p = arguments[0], v0 = arguments[1], v1 = arguments[2], v2 = arguments[3];\n\t\tvar x0 = v0.x;\n\t\tvar y0 = v0.y;\n\t\tvar a = v1.x - x0;\n\t\tvar b = v2.x - x0;\n\t\tvar c = v1.y - y0;\n\t\tvar d = v2.y - y0;\n\t\tvar det = a * d - b * c;\n\t\tvar dx = p.x - x0;\n\t\tvar dy = p.y - y0;\n\t\tvar t = (d * dx - b * dy) / det;\n\t\tvar u = (-c * dx + a * dy) / det;\n\t\tvar z = v0.z + t * (v1.z - v0.z) + u * (v2.z - v0.z);\n\t\treturn z;\n\t}\n};\nVertex.LEFT = 0;\nVertex.RIGHT = 1;\nVertex.BEYOND = 2;\nVertex.BEHIND = 3;\nVertex.BETWEEN = 4;\nVertex.ORIGIN = 5;\nVertex.DESTINATION = 6;\n","import extend from '../../../../extend';\nimport Vertex from './quadedge/Vertex';\nimport inherits from '../../../../inherits';\nexport default function ConstraintVertex() {\n\tthis._isOnConstraint = null;\n\tthis._constraint = null;\n\tlet p = arguments[0];\n\tVertex.call(this, p);\n}\ninherits(ConstraintVertex, Vertex);\nextend(ConstraintVertex.prototype, {\n\tgetConstraint: function () {\n\t\treturn this._constraint;\n\t},\n\tsetOnConstraint: function (isOnConstraint) {\n\t\tthis._isOnConstraint = isOnConstraint;\n\t},\n\tmerge: function (other) {\n\t\tif (other._isOnConstraint) {\n\t\t\tthis._isOnConstraint = true;\n\t\t\tthis._constraint = other._constraint;\n\t\t}\n\t},\n\tisOnConstraint: function () {\n\t\treturn this._isOnConstraint;\n\t},\n\tsetConstraint: function (constraint) {\n\t\tthis._isOnConstraint = true;\n\t\tthis._constraint = constraint;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ConstraintVertex;\n\t}\n});\n","import WKTWriter from '../../io/WKTWriter';\nimport extend from '../../../../../extend';\nimport LineSegment from '../../geom/LineSegment';\nexport default function QuadEdge() {\n\tthis._rot = null;\n\tthis._vertex = null;\n\tthis._next = null;\n\tthis._data = null;\n}\nextend(QuadEdge.prototype, {\n\tequalsNonOriented: function (qe) {\n\t\tif (this.equalsOriented(qe)) return true;\n\t\tif (this.equalsOriented(qe.sym())) return true;\n\t\treturn false;\n\t},\n\ttoLineSegment: function () {\n\t\treturn new LineSegment(this._vertex.getCoordinate(), this.dest().getCoordinate());\n\t},\n\tdest: function () {\n\t\treturn this.sym().orig();\n\t},\n\toNext: function () {\n\t\treturn this._next;\n\t},\n\tequalsOriented: function (qe) {\n\t\tif (this.orig().getCoordinate().equals2D(qe.orig().getCoordinate()) && this.dest().getCoordinate().equals2D(qe.dest().getCoordinate())) return true;\n\t\treturn false;\n\t},\n\tdNext: function () {\n\t\treturn this.sym().oNext().sym();\n\t},\n\tlPrev: function () {\n\t\treturn this._next.sym();\n\t},\n\trPrev: function () {\n\t\treturn this.sym().oNext();\n\t},\n\trot: function () {\n\t\treturn this._rot;\n\t},\n\toPrev: function () {\n\t\treturn this._rot._next._rot;\n\t},\n\tsym: function () {\n\t\treturn this._rot._rot;\n\t},\n\tsetOrig: function (o) {\n\t\tthis._vertex = o;\n\t},\n\tlNext: function () {\n\t\treturn this.invRot().oNext().rot();\n\t},\n\tgetLength: function () {\n\t\treturn this.orig().getCoordinate().distance(this.dest().getCoordinate());\n\t},\n\tinvRot: function () {\n\t\treturn this._rot.sym();\n\t},\n\tsetDest: function (d) {\n\t\tthis.sym().setOrig(d);\n\t},\n\tsetData: function (data) {\n\t\tthis._data = data;\n\t},\n\tgetData: function () {\n\t\treturn this._data;\n\t},\n\tdelete: function () {\n\t\tthis._rot = null;\n\t},\n\torig: function () {\n\t\treturn this._vertex;\n\t},\n\trNext: function () {\n\t\treturn this._rot._next.invRot();\n\t},\n\ttoString: function () {\n\t\tvar p0 = this._vertex.getCoordinate();\n\t\tvar p1 = this.dest().getCoordinate();\n\t\treturn WKTWriter.toLineString(p0, p1);\n\t},\n\tisLive: function () {\n\t\treturn this._rot !== null;\n\t},\n\tgetPrimary: function () {\n\t\tif (this.orig().getCoordinate().compareTo(this.dest().getCoordinate()) <= 0) return this; else return this.sym();\n\t},\n\tdPrev: function () {\n\t\treturn this.invRot().oNext().invRot();\n\t},\n\tsetNext: function (next) {\n\t\tthis._next = next;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn QuadEdge;\n\t}\n});\nQuadEdge.makeEdge = function (o, d) {\n\tvar q0 = new QuadEdge();\n\tvar q1 = new QuadEdge();\n\tvar q2 = new QuadEdge();\n\tvar q3 = new QuadEdge();\n\tq0._rot = q1;\n\tq1._rot = q2;\n\tq2._rot = q3;\n\tq3._rot = q0;\n\tq0.setNext(q0);\n\tq1.setNext(q3);\n\tq2.setNext(q2);\n\tq3.setNext(q1);\n\tvar base = q0;\n\tbase.setOrig(o);\n\tbase.setDest(d);\n\treturn base;\n};\nQuadEdge.swap = function (e) {\n\tvar a = e.oPrev();\n\tvar b = e.sym().oPrev();\n\tQuadEdge.splice(e, a);\n\tQuadEdge.splice(e.sym(), b);\n\tQuadEdge.splice(e, a.lNext());\n\tQuadEdge.splice(e.sym(), b.lNext());\n\te.setOrig(a.dest());\n\te.setDest(b.dest());\n};\nQuadEdge.splice = function (a, b) {\n\tvar alpha = a.oNext().rot();\n\tvar beta = b.oNext().rot();\n\tvar t1 = b.oNext();\n\tvar t2 = a.oNext();\n\tvar t3 = beta.oNext();\n\tvar t4 = alpha.oNext();\n\ta.setNext(t1);\n\tb.setNext(t2);\n\talpha.setNext(t3);\n\tbeta.setNext(t4);\n};\nQuadEdge.connect = function (a, b) {\n\tvar e = QuadEdge.makeEdge(a.dest(), b.orig());\n\tQuadEdge.splice(e, a.lNext());\n\tQuadEdge.splice(e.sym(), b);\n\treturn e;\n};\n","import QuadEdge from './quadedge/QuadEdge';\nimport extend from '../../../../extend';\nexport default function IncrementalDelaunayTriangulator() {\n\tthis._subdiv = null;\n\tthis._isUsingTolerance = false;\n\tlet subdiv = arguments[0];\n\tthis._subdiv = subdiv;\n\tthis._isUsingTolerance = subdiv.getTolerance() > 0.0;\n}\nextend(IncrementalDelaunayTriangulator.prototype, {\n\tinsertSite: function (v) {\n\t\tvar e = this._subdiv.locate(v);\n\t\tif (this._subdiv.isVertexOfEdge(e, v)) {\n\t\t\treturn e;\n\t\t} else if (this._subdiv.isOnEdge(e, v.getCoordinate())) {\n\t\t\te = e.oPrev();\n\t\t\tthis._subdiv.delete(e.oNext());\n\t\t}\n\t\tvar base = this._subdiv.makeEdge(e.orig(), v);\n\t\tQuadEdge.splice(base, e);\n\t\tvar startEdge = base;\n\t\tdo {\n\t\t\tbase = this._subdiv.connect(e, base.sym());\n\t\t\te = base.oPrev();\n\t\t} while (e.lNext() !== startEdge);\n\t\tdo {\n\t\t\tvar t = e.oPrev();\n\t\t\tif (t.dest().rightOf(e) && v.isInCircle(e.orig(), t.dest(), e.dest())) {\n\t\t\t\tQuadEdge.swap(e);\n\t\t\t\te = e.oPrev();\n\t\t\t} else if (e.oNext() === startEdge) {\n\t\t\t\treturn base;\n\t\t\t} else {\n\t\t\t\te = e.oNext().lPrev();\n\t\t\t}\n\t\t} while (true);\n\t},\n\tinsertSites: function (vertices) {\n\t\tfor (var i = vertices.iterator(); i.hasNext(); ) {\n\t\t\tvar v = i.next();\n\t\t\tthis.insertSite(v);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn IncrementalDelaunayTriangulator;\n\t}\n});\n","import extend from '../../../../../extend';\nexport default function QuadEdgeLocator() {}\nextend(QuadEdgeLocator.prototype, {\n\tlocate: function (v) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn QuadEdgeLocator;\n\t}\n});\n","import extend from '../../../../../extend';\nimport QuadEdgeLocator from './QuadEdgeLocator';\nexport default function LastFoundQuadEdgeLocator() {\n\tthis._subdiv = null;\n\tthis._lastEdge = null;\n\tlet subdiv = arguments[0];\n\tthis._subdiv = subdiv;\n\tthis.init();\n}\nextend(LastFoundQuadEdgeLocator.prototype, {\n\tinit: function () {\n\t\tthis._lastEdge = this.findEdge();\n\t},\n\tlocate: function (v) {\n\t\tif (!this._lastEdge.isLive()) {\n\t\t\tthis.init();\n\t\t}\n\t\tvar e = this._subdiv.locateFromEdge(v, this._lastEdge);\n\t\tthis._lastEdge = e;\n\t\treturn e;\n\t},\n\tfindEdge: function () {\n\t\tvar edges = this._subdiv.getEdges();\n\t\treturn edges.iterator().next();\n\t},\n\tinterfaces_: function () {\n\t\treturn [QuadEdgeLocator];\n\t},\n\tgetClass: function () {\n\t\treturn LastFoundQuadEdgeLocator;\n\t}\n});\n","import extend from '../../../../../extend';\nimport LineSegment from '../../geom/LineSegment';\nimport RuntimeException from '../../../../../java/lang/RuntimeException';\nimport inherits from '../../../../../inherits';\nexport default function LocateFailureException() {\n\tthis._seg = null;\n\tif (arguments.length === 1) {\n\t\tif (typeof arguments[0] === \"string\") {\n\t\t\tlet msg = arguments[0];\n\t\t\tRuntimeException.call(this, msg);\n\t\t} else if (arguments[0] instanceof LineSegment) {\n\t\t\tlet seg = arguments[0];\n\t\t\tRuntimeException.call(this, \"Locate failed to converge (at edge: \" + seg + \").  Possible causes include invalid Subdivision topology or very close sites\");\n\t\t\tthis._seg = new LineSegment(seg);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet msg = arguments[0], seg = arguments[1];\n\t\tRuntimeException.call(this, LocateFailureException.msgWithSpatial(msg, seg));\n\t\tthis._seg = new LineSegment(seg);\n\t}\n}\ninherits(LocateFailureException, RuntimeException);\nextend(LocateFailureException.prototype, {\n\tgetSegment: function () {\n\t\treturn this._seg;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LocateFailureException;\n\t}\n});\nLocateFailureException.msgWithSpatial = function (msg, seg) {\n\tif (seg !== null) return msg + \" [ \" + seg + \" ]\";\n\treturn msg;\n};\n","import extend from '../../../../../extend';\nexport default function TriangleVisitor() {}\nextend(TriangleVisitor.prototype, {\n\tvisit: function (triEdges) {},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn TriangleVisitor;\n\t}\n});\n","import QuadEdge from './QuadEdge';\nimport CoordinateList from '../../geom/CoordinateList';\nimport HashSet from '../../../../../java/util/HashSet';\nimport WKTWriter from '../../io/WKTWriter';\nimport GeometryFactory from '../../geom/GeometryFactory';\nimport Coordinate from '../../geom/Coordinate';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport Stack from '../../../../../java/util/Stack';\nimport extend from '../../../../../extend';\nimport LastFoundQuadEdgeLocator from './LastFoundQuadEdgeLocator';\nimport LocateFailureException from './LocateFailureException';\nimport Vertex from './Vertex';\nimport System from '../../../../../java/lang/System';\nimport LineSegment from '../../geom/LineSegment';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Envelope from '../../geom/Envelope';\nimport Triangle from '../../geom/Triangle';\nimport TriangleVisitor from './TriangleVisitor';\nexport default function QuadEdgeSubdivision() {\n\tthis._visitedKey = 0;\n\tthis._quadEdges = new ArrayList();\n\tthis._startingEdge = null;\n\tthis._tolerance = null;\n\tthis._edgeCoincidenceTolerance = null;\n\tthis._frameVertex = new Array(3).fill(null);\n\tthis._frameEnv = null;\n\tthis._locator = null;\n\tthis._seg = new LineSegment();\n\tthis._triEdges = new Array(3).fill(null);\n\tlet env = arguments[0], tolerance = arguments[1];\n\tthis._tolerance = tolerance;\n\tthis._edgeCoincidenceTolerance = tolerance / QuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR;\n\tthis.createFrame(env);\n\tthis._startingEdge = this.initSubdiv();\n\tthis._locator = new LastFoundQuadEdgeLocator(this);\n}\nextend(QuadEdgeSubdivision.prototype, {\n\tgetTriangleVertices: function (includeFrame) {\n\t\tvar visitor = new TriangleVertexListVisitor();\n\t\tthis.visitTriangles(visitor, includeFrame);\n\t\treturn visitor.getTriangleVertices();\n\t},\n\tisFrameVertex: function (v) {\n\t\tif (v.equals(this._frameVertex[0])) return true;\n\t\tif (v.equals(this._frameVertex[1])) return true;\n\t\tif (v.equals(this._frameVertex[2])) return true;\n\t\treturn false;\n\t},\n\tisVertexOfEdge: function (e, v) {\n\t\tif (v.equals(e.orig(), this._tolerance) || v.equals(e.dest(), this._tolerance)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tconnect: function (a, b) {\n\t\tvar q = QuadEdge.connect(a, b);\n\t\tthis._quadEdges.add(q);\n\t\treturn q;\n\t},\n\tgetVoronoiCellPolygon: function (qe, geomFact) {\n\t\tvar cellPts = new ArrayList();\n\t\tvar startQE = qe;\n\t\tdo {\n\t\t\tvar cc = qe.rot().orig().getCoordinate();\n\t\t\tcellPts.add(cc);\n\t\t\tqe = qe.oPrev();\n\t\t} while (qe !== startQE);\n\t\tvar coordList = new CoordinateList();\n\t\tcoordList.addAll(cellPts, false);\n\t\tcoordList.closeRing();\n\t\tif (coordList.size() < 4) {\n\t\t\tSystem.out.println(coordList);\n\t\t\tcoordList.add(coordList.get(coordList.size() - 1), true);\n\t\t}\n\t\tvar pts = coordList.toCoordinateArray();\n\t\tvar cellPoly = geomFact.createPolygon(geomFact.createLinearRing(pts));\n\t\tvar v = startQE.orig();\n\t\tcellPoly.setUserData(v.getCoordinate());\n\t\treturn cellPoly;\n\t},\n\tsetLocator: function (locator) {\n\t\tthis._locator = locator;\n\t},\n\tinitSubdiv: function () {\n\t\tvar ea = this.makeEdge(this._frameVertex[0], this._frameVertex[1]);\n\t\tvar eb = this.makeEdge(this._frameVertex[1], this._frameVertex[2]);\n\t\tQuadEdge.splice(ea.sym(), eb);\n\t\tvar ec = this.makeEdge(this._frameVertex[2], this._frameVertex[0]);\n\t\tQuadEdge.splice(eb.sym(), ec);\n\t\tQuadEdge.splice(ec.sym(), ea);\n\t\treturn ea;\n\t},\n\tisFrameBorderEdge: function (e) {\n\t\tvar leftTri = new Array(3).fill(null);\n\t\tQuadEdgeSubdivision.getTriangleEdges(e, leftTri);\n\t\tvar rightTri = new Array(3).fill(null);\n\t\tQuadEdgeSubdivision.getTriangleEdges(e.sym(), rightTri);\n\t\tvar vLeftTriOther = e.lNext().dest();\n\t\tif (this.isFrameVertex(vLeftTriOther)) return true;\n\t\tvar vRightTriOther = e.sym().lNext().dest();\n\t\tif (this.isFrameVertex(vRightTriOther)) return true;\n\t\treturn false;\n\t},\n\tmakeEdge: function (o, d) {\n\t\tvar q = QuadEdge.makeEdge(o, d);\n\t\tthis._quadEdges.add(q);\n\t\treturn q;\n\t},\n\tvisitTriangles: function (triVisitor, includeFrame) {\n\t\tthis._visitedKey++;\n\t\tvar edgeStack = new Stack();\n\t\tedgeStack.push(this._startingEdge);\n\t\tvar visitedEdges = new HashSet();\n\t\twhile (!edgeStack.empty()) {\n\t\t\tvar edge = edgeStack.pop();\n\t\t\tif (!visitedEdges.contains(edge)) {\n\t\t\t\tvar triEdges = this.fetchTriangleToVisit(edge, edgeStack, includeFrame, visitedEdges);\n\t\t\t\tif (triEdges !== null) triVisitor.visit(triEdges);\n\t\t\t}\n\t\t}\n\t},\n\tisFrameEdge: function (e) {\n\t\tif (this.isFrameVertex(e.orig()) || this.isFrameVertex(e.dest())) return true;\n\t\treturn false;\n\t},\n\tisOnEdge: function (e, p) {\n\t\tthis._seg.setCoordinates(e.orig().getCoordinate(), e.dest().getCoordinate());\n\t\tvar dist = this._seg.distance(p);\n\t\treturn dist < this._edgeCoincidenceTolerance;\n\t},\n\tgetEnvelope: function () {\n\t\treturn new Envelope(this._frameEnv);\n\t},\n\tcreateFrame: function (env) {\n\t\tvar deltaX = env.getWidth();\n\t\tvar deltaY = env.getHeight();\n\t\tvar offset = 0.0;\n\t\tif (deltaX > deltaY) {\n\t\t\toffset = deltaX * 10.0;\n\t\t} else {\n\t\t\toffset = deltaY * 10.0;\n\t\t}\n\t\tthis._frameVertex[0] = new Vertex((env.getMaxX() + env.getMinX()) / 2.0, env.getMaxY() + offset);\n\t\tthis._frameVertex[1] = new Vertex(env.getMinX() - offset, env.getMinY() - offset);\n\t\tthis._frameVertex[2] = new Vertex(env.getMaxX() + offset, env.getMinY() - offset);\n\t\tthis._frameEnv = new Envelope(this._frameVertex[0].getCoordinate(), this._frameVertex[1].getCoordinate());\n\t\tthis._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate());\n\t},\n\tgetTriangleCoordinates: function (includeFrame) {\n\t\tvar visitor = new TriangleCoordinatesVisitor();\n\t\tthis.visitTriangles(visitor, includeFrame);\n\t\treturn visitor.getTriangles();\n\t},\n\tgetVertices: function (includeFrame) {\n\t\tvar vertices = new HashSet();\n\t\tfor (var i = this._quadEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar qe = i.next();\n\t\t\tvar v = qe.orig();\n\t\t\tif (includeFrame || !this.isFrameVertex(v)) vertices.add(v);\n\t\t\tvar vd = qe.dest();\n\t\t\tif (includeFrame || !this.isFrameVertex(vd)) vertices.add(vd);\n\t\t}\n\t\treturn vertices;\n\t},\n\tfetchTriangleToVisit: function (edge, edgeStack, includeFrame, visitedEdges) {\n\t\tvar curr = edge;\n\t\tvar edgeCount = 0;\n\t\tvar isFrame = false;\n\t\tdo {\n\t\t\tthis._triEdges[edgeCount] = curr;\n\t\t\tif (this.isFrameEdge(curr)) isFrame = true;\n\t\t\tvar sym = curr.sym();\n\t\t\tif (!visitedEdges.contains(sym)) edgeStack.push(sym);\n\t\t\tvisitedEdges.add(curr);\n\t\t\tedgeCount++;\n\t\t\tcurr = curr.lNext();\n\t\t} while (curr !== edge);\n\t\tif (isFrame && !includeFrame) return null;\n\t\treturn this._triEdges;\n\t},\n\tgetEdges: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this._quadEdges;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet geomFact = arguments[0];\n\t\t\tvar quadEdges = this.getPrimaryEdges(false);\n\t\t\tvar edges = new Array(quadEdges.size()).fill(null);\n\t\t\tvar i = 0;\n\t\t\tfor (var it = quadEdges.iterator(); it.hasNext(); ) {\n\t\t\t\tvar qe = it.next();\n\t\t\t\tedges[i++] = geomFact.createLineString([qe.orig().getCoordinate(), qe.dest().getCoordinate()]);\n\t\t\t}\n\t\t\treturn geomFact.createMultiLineString(edges);\n\t\t}\n\t},\n\tgetVertexUniqueEdges: function (includeFrame) {\n\t\tvar edges = new ArrayList();\n\t\tvar visitedVertices = new HashSet();\n\t\tfor (var i = this._quadEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar qe = i.next();\n\t\t\tvar v = qe.orig();\n\t\t\tif (!visitedVertices.contains(v)) {\n\t\t\t\tvisitedVertices.add(v);\n\t\t\t\tif (includeFrame || !this.isFrameVertex(v)) {\n\t\t\t\t\tedges.add(qe);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar qd = qe.sym();\n\t\t\tvar vd = qd.orig();\n\t\t\tif (!visitedVertices.contains(vd)) {\n\t\t\t\tvisitedVertices.add(vd);\n\t\t\t\tif (includeFrame || !this.isFrameVertex(vd)) {\n\t\t\t\t\tedges.add(qd);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn edges;\n\t},\n\tgetTriangleEdges: function (includeFrame) {\n\t\tvar visitor = new TriangleEdgesListVisitor();\n\t\tthis.visitTriangles(visitor, includeFrame);\n\t\treturn visitor.getTriangleEdges();\n\t},\n\tgetPrimaryEdges: function (includeFrame) {\n\t\tthis._visitedKey++;\n\t\tvar edges = new ArrayList();\n\t\tvar edgeStack = new Stack();\n\t\tedgeStack.push(this._startingEdge);\n\t\tvar visitedEdges = new HashSet();\n\t\twhile (!edgeStack.empty()) {\n\t\t\tvar edge = edgeStack.pop();\n\t\t\tif (!visitedEdges.contains(edge)) {\n\t\t\t\tvar priQE = edge.getPrimary();\n\t\t\t\tif (includeFrame || !this.isFrameEdge(priQE)) edges.add(priQE);\n\t\t\t\tedgeStack.push(edge.oNext());\n\t\t\t\tedgeStack.push(edge.sym().oNext());\n\t\t\t\tvisitedEdges.add(edge);\n\t\t\t\tvisitedEdges.add(edge.sym());\n\t\t\t}\n\t\t}\n\t\treturn edges;\n\t},\n\tdelete: function (e) {\n\t\tQuadEdge.splice(e, e.oPrev());\n\t\tQuadEdge.splice(e.sym(), e.sym().oPrev());\n\t\tvar eSym = e.sym();\n\t\tvar eRot = e.rot();\n\t\tvar eRotSym = e.rot().sym();\n\t\tthis._quadEdges.remove(e);\n\t\tthis._quadEdges.remove(eSym);\n\t\tthis._quadEdges.remove(eRot);\n\t\tthis._quadEdges.remove(eRotSym);\n\t\te.delete();\n\t\teSym.delete();\n\t\teRot.delete();\n\t\teRotSym.delete();\n\t},\n\tlocateFromEdge: function (v, startEdge) {\n\t\tvar iter = 0;\n\t\tvar maxIter = this._quadEdges.size();\n\t\tvar e = startEdge;\n\t\twhile (true) {\n\t\t\titer++;\n\t\t\tif (iter > maxIter) {\n\t\t\t\tthrow new LocateFailureException(e.toLineSegment());\n\t\t\t}\n\t\t\tif (v.equals(e.orig()) || v.equals(e.dest())) {\n\t\t\t\tbreak;\n\t\t\t} else if (v.rightOf(e)) {\n\t\t\t\te = e.sym();\n\t\t\t} else if (!v.rightOf(e.oNext())) {\n\t\t\t\te = e.oNext();\n\t\t\t} else if (!v.rightOf(e.dPrev())) {\n\t\t\t\te = e.dPrev();\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn e;\n\t},\n\tgetTolerance: function () {\n\t\treturn this._tolerance;\n\t},\n\tgetVoronoiCellPolygons: function (geomFact) {\n\t\tthis.visitTriangles(new TriangleCircumcentreVisitor(), true);\n\t\tvar cells = new ArrayList();\n\t\tvar edges = this.getVertexUniqueEdges(false);\n\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\tvar qe = i.next();\n\t\t\tcells.add(this.getVoronoiCellPolygon(qe, geomFact));\n\t\t}\n\t\treturn cells;\n\t},\n\tgetVoronoiDiagram: function (geomFact) {\n\t\tvar vorCells = this.getVoronoiCellPolygons(geomFact);\n\t\treturn geomFact.createGeometryCollection(GeometryFactory.toGeometryArray(vorCells));\n\t},\n\tgetTriangles: function (geomFact) {\n\t\tvar triPtsList = this.getTriangleCoordinates(false);\n\t\tvar tris = new Array(triPtsList.size()).fill(null);\n\t\tvar i = 0;\n\t\tfor (var it = triPtsList.iterator(); it.hasNext(); ) {\n\t\t\tvar triPt = it.next();\n\t\t\ttris[i++] = geomFact.createPolygon(geomFact.createLinearRing(triPt));\n\t\t}\n\t\treturn geomFact.createGeometryCollection(tris);\n\t},\n\tinsertSite: function (v) {\n\t\tvar e = this.locate(v);\n\t\tif (v.equals(e.orig(), this._tolerance) || v.equals(e.dest(), this._tolerance)) {\n\t\t\treturn e;\n\t\t}\n\t\tvar base = this.makeEdge(e.orig(), v);\n\t\tQuadEdge.splice(base, e);\n\t\tvar startEdge = base;\n\t\tdo {\n\t\t\tbase = this.connect(e, base.sym());\n\t\t\te = base.oPrev();\n\t\t} while (e.lNext() !== startEdge);\n\t\treturn startEdge;\n\t},\n\tlocate: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Vertex) {\n\t\t\t\tlet v = arguments[0];\n\t\t\t\treturn this._locator.locate(v);\n\t\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\treturn this._locator.locate(new Vertex(p));\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tvar e = this._locator.locate(new Vertex(p0));\n\t\t\tif (e === null) return null;\n\t\t\tvar base = e;\n\t\t\tif (e.dest().getCoordinate().equals2D(p0)) base = e.sym();\n\t\t\tvar locEdge = base;\n\t\t\tdo {\n\t\t\t\tif (locEdge.dest().getCoordinate().equals2D(p1)) return locEdge;\n\t\t\t\tlocEdge = locEdge.oNext();\n\t\t\t} while (locEdge !== base);\n\t\t\treturn null;\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn QuadEdgeSubdivision;\n\t}\n});\nQuadEdgeSubdivision.getTriangleEdges = function (startQE, triEdge) {\n\ttriEdge[0] = startQE;\n\ttriEdge[1] = triEdge[0].lNext();\n\ttriEdge[2] = triEdge[1].lNext();\n\tif (triEdge[2].lNext() !== triEdge[0]) throw new IllegalArgumentException(\"Edges do not form a triangle\");\n};\nfunction TriangleCircumcentreVisitor() {}\nextend(TriangleCircumcentreVisitor.prototype, {\n\tvisit: function (triEdges) {\n\t\tvar a = triEdges[0].orig().getCoordinate();\n\t\tvar b = triEdges[1].orig().getCoordinate();\n\t\tvar c = triEdges[2].orig().getCoordinate();\n\t\tvar cc = Triangle.circumcentre(a, b, c);\n\t\tvar ccVertex = new Vertex(cc);\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\ttriEdges[i].rot().setOrig(ccVertex);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [TriangleVisitor];\n\t},\n\tgetClass: function () {\n\t\treturn TriangleCircumcentreVisitor;\n\t}\n});\nfunction TriangleEdgesListVisitor() {\n\tthis._triList = new ArrayList();\n}\nextend(TriangleEdgesListVisitor.prototype, {\n\tgetTriangleEdges: function () {\n\t\treturn this._triList;\n\t},\n\tvisit: function (triEdges) {\n\t\tthis._triList.add(triEdges);\n\t},\n\tinterfaces_: function () {\n\t\treturn [TriangleVisitor];\n\t},\n\tgetClass: function () {\n\t\treturn TriangleEdgesListVisitor;\n\t}\n});\nfunction TriangleVertexListVisitor() {\n\tthis._triList = new ArrayList();\n}\nextend(TriangleVertexListVisitor.prototype, {\n\tvisit: function (triEdges) {\n\t\tthis._triList.add([triEdges[0].orig(), triEdges[1].orig(), triEdges[2].orig()]);\n\t},\n\tgetTriangleVertices: function () {\n\t\treturn this._triList;\n\t},\n\tinterfaces_: function () {\n\t\treturn [TriangleVisitor];\n\t},\n\tgetClass: function () {\n\t\treturn TriangleVertexListVisitor;\n\t}\n});\nfunction TriangleCoordinatesVisitor() {\n\tthis._coordList = new CoordinateList();\n\tthis._triCoords = new ArrayList();\n}\nextend(TriangleCoordinatesVisitor.prototype, {\n\tcheckTriangleSize: function (pts) {\n\t\tvar loc = \"\";\n\t\tif (pts.length >= 2) loc = WKTWriter.toLineString(pts[0], pts[1]); else {\n\t\t\tif (pts.length >= 1) loc = WKTWriter.toPoint(pts[0]);\n\t\t}\n\t},\n\tvisit: function (triEdges) {\n\t\tthis._coordList.clear();\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\tvar v = triEdges[i].orig();\n\t\t\tthis._coordList.add(v.getCoordinate());\n\t\t}\n\t\tif (this._coordList.size() > 0) {\n\t\t\tthis._coordList.closeRing();\n\t\t\tvar pts = this._coordList.toCoordinateArray();\n\t\t\tif (pts.length !== 4) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._triCoords.add(pts);\n\t\t}\n\t},\n\tgetTriangles: function () {\n\t\treturn this._triCoords;\n\t},\n\tinterfaces_: function () {\n\t\treturn [TriangleVisitor];\n\t},\n\tgetClass: function () {\n\t\treturn TriangleCoordinatesVisitor;\n\t}\n});\nQuadEdgeSubdivision.TriangleCircumcentreVisitor = TriangleCircumcentreVisitor;\nQuadEdgeSubdivision.TriangleEdgesListVisitor = TriangleEdgesListVisitor;\nQuadEdgeSubdivision.TriangleVertexListVisitor = TriangleVertexListVisitor;\nQuadEdgeSubdivision.TriangleCoordinatesVisitor = TriangleCoordinatesVisitor;\nQuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR = 1000;\n","import Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport LineSegment from '../geom/LineSegment';\nexport default function Segment() {\n\tthis._ls = null;\n\tthis._data = null;\n\tif (arguments.length === 2) {\n\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\tthis._ls = new LineSegment(p0, p1);\n\t} else if (arguments.length === 3) {\n\t\tlet p0 = arguments[0], p1 = arguments[1], data = arguments[2];\n\t\tthis._ls = new LineSegment(p0, p1);\n\t\tthis._data = data;\n\t} else if (arguments.length === 6) {\n\t\tlet x1 = arguments[0], y1 = arguments[1], z1 = arguments[2], x2 = arguments[3], y2 = arguments[4], z2 = arguments[5];\n\t\tSegment.call(this, new Coordinate(x1, y1, z1), new Coordinate(x2, y2, z2));\n\t} else if (arguments.length === 7) {\n\t\tlet x1 = arguments[0], y1 = arguments[1], z1 = arguments[2], x2 = arguments[3], y2 = arguments[4], z2 = arguments[5], data = arguments[6];\n\t\tSegment.call(this, new Coordinate(x1, y1, z1), new Coordinate(x2, y2, z2), data);\n\t}\n}\nextend(Segment.prototype, {\n\tgetLineSegment: function () {\n\t\treturn this._ls;\n\t},\n\tgetEndZ: function () {\n\t\tvar p = this._ls.getCoordinate(1);\n\t\treturn p.z;\n\t},\n\tgetStartZ: function () {\n\t\tvar p = this._ls.getCoordinate(0);\n\t\treturn p.z;\n\t},\n\tintersection: function (s) {\n\t\treturn this._ls.intersection(s.getLineSegment());\n\t},\n\tgetStart: function () {\n\t\treturn this._ls.getCoordinate(0);\n\t},\n\tgetEnd: function () {\n\t\treturn this._ls.getCoordinate(1);\n\t},\n\tgetEndY: function () {\n\t\tvar p = this._ls.getCoordinate(1);\n\t\treturn p.y;\n\t},\n\tgetStartX: function () {\n\t\tvar p = this._ls.getCoordinate(0);\n\t\treturn p.x;\n\t},\n\tequalsTopo: function (s) {\n\t\treturn this._ls.equalsTopo(s.getLineSegment());\n\t},\n\tgetStartY: function () {\n\t\tvar p = this._ls.getCoordinate(0);\n\t\treturn p.y;\n\t},\n\tsetData: function (data) {\n\t\tthis._data = data;\n\t},\n\tgetData: function () {\n\t\treturn this._data;\n\t},\n\tgetEndX: function () {\n\t\tvar p = this._ls.getCoordinate(1);\n\t\treturn p.x;\n\t},\n\ttoString: function () {\n\t\treturn this._ls.toString();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn Segment;\n\t}\n});\n","import GeometryFactory from '../geom/GeometryFactory';\nimport NonEncroachingSplitPointFinder from './NonEncroachingSplitPointFinder';\nimport ConstraintVertex from './ConstraintVertex';\nimport Coordinate from '../geom/Coordinate';\nimport IncrementalDelaunayTriangulator from './IncrementalDelaunayTriangulator';\nimport QuadEdgeSubdivision from './quadedge/QuadEdgeSubdivision';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport LastFoundQuadEdgeLocator from './quadedge/LastFoundQuadEdgeLocator';\nimport Segment from './Segment';\nimport ConvexHull from '../algorithm/ConvexHull';\nimport KdTree from '../index/kdtree/KdTree';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Envelope from '../geom/Envelope';\nexport default function ConformingDelaunayTriangulator() {\n\tthis._initialVertices = null;\n\tthis._segVertices = null;\n\tthis._segments = new ArrayList();\n\tthis._subdiv = null;\n\tthis._incDel = null;\n\tthis._convexHull = null;\n\tthis._splitFinder = new NonEncroachingSplitPointFinder();\n\tthis._kdt = null;\n\tthis._vertexFactory = null;\n\tthis._computeAreaEnv = null;\n\tthis._splitPt = null;\n\tthis._tolerance = null;\n\tlet initialVertices = arguments[0], tolerance = arguments[1];\n\tthis._initialVertices = new ArrayList(initialVertices);\n\tthis._tolerance = tolerance;\n\tthis._kdt = new KdTree(tolerance);\n}\nextend(ConformingDelaunayTriangulator.prototype, {\n\tgetInitialVertices: function () {\n\t\treturn this._initialVertices;\n\t},\n\tgetKDT: function () {\n\t\treturn this._kdt;\n\t},\n\tenforceConstraints: function () {\n\t\tthis.addConstraintVertices();\n\t\tvar count = 0;\n\t\tvar splits = 0;\n\t\tdo {\n\t\t\tsplits = this.enforceGabriel(this._segments);\n\t\t\tcount++;\n\t\t} while (splits > 0 && count < ConformingDelaunayTriangulator.MAX_SPLIT_ITER);\n\t},\n\tinsertSites: function (vertices) {\n\t\tfor (var i = vertices.iterator(); i.hasNext(); ) {\n\t\t\tvar v = i.next();\n\t\t\tthis.insertSite(v);\n\t\t}\n\t},\n\tgetVertexFactory: function () {\n\t\treturn this._vertexFactory;\n\t},\n\tgetPointArray: function () {\n\t\tvar pts = new Array(this._initialVertices.size() + this._segVertices.size()).fill(null);\n\t\tvar index = 0;\n\t\tfor (var i = this._initialVertices.iterator(); i.hasNext(); ) {\n\t\t\tvar v = i.next();\n\t\t\tpts[index++] = v.getCoordinate();\n\t\t}\n\t\tfor (var i2 = this._segVertices.iterator(); i2.hasNext(); ) {\n\t\t\tvar v = i2.next();\n\t\t\tpts[index++] = v.getCoordinate();\n\t\t}\n\t\treturn pts;\n\t},\n\tsetConstraints: function (segments, segVertices) {\n\t\tthis._segments = segments;\n\t\tthis._segVertices = segVertices;\n\t},\n\tcomputeConvexHull: function () {\n\t\tvar fact = new GeometryFactory();\n\t\tvar coords = this.getPointArray();\n\t\tvar hull = new ConvexHull(coords, fact);\n\t\tthis._convexHull = hull.getConvexHull();\n\t},\n\taddConstraintVertices: function () {\n\t\tthis.computeConvexHull();\n\t\tthis.insertSites(this._segVertices);\n\t},\n\tfindNonGabrielPoint: function (seg) {\n\t\tvar p = seg.getStart();\n\t\tvar q = seg.getEnd();\n\t\tvar midPt = new Coordinate((p.x + q.x) / 2.0, (p.y + q.y) / 2.0);\n\t\tvar segRadius = p.distance(midPt);\n\t\tvar env = new Envelope(midPt);\n\t\tenv.expandBy(segRadius);\n\t\tvar result = this._kdt.query(env);\n\t\tvar closestNonGabriel = null;\n\t\tvar minDist = Double.MAX_VALUE;\n\t\tfor (var i = result.iterator(); i.hasNext(); ) {\n\t\t\tvar nextNode = i.next();\n\t\t\tvar testPt = nextNode.getCoordinate();\n\t\t\tif (testPt.equals2D(p) || testPt.equals2D(q)) continue;\n\t\t\tvar testRadius = midPt.distance(testPt);\n\t\t\tif (testRadius < segRadius) {\n\t\t\t\tvar testDist = testRadius;\n\t\t\t\tif (closestNonGabriel === null || testDist < minDist) {\n\t\t\t\t\tclosestNonGabriel = testPt;\n\t\t\t\t\tminDist = testDist;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn closestNonGabriel;\n\t},\n\tgetConstraintSegments: function () {\n\t\treturn this._segments;\n\t},\n\tsetSplitPointFinder: function (splitFinder) {\n\t\tthis._splitFinder = splitFinder;\n\t},\n\tgetConvexHull: function () {\n\t\treturn this._convexHull;\n\t},\n\tgetTolerance: function () {\n\t\treturn this._tolerance;\n\t},\n\tenforceGabriel: function (segsToInsert) {\n\t\tvar newSegments = new ArrayList();\n\t\tvar splits = 0;\n\t\tvar segsToRemove = new ArrayList();\n\t\tfor (var i = segsToInsert.iterator(); i.hasNext(); ) {\n\t\t\tvar seg = i.next();\n\t\t\tvar encroachPt = this.findNonGabrielPoint(seg);\n\t\t\tif (encroachPt === null) continue;\n\t\t\tthis._splitPt = this._splitFinder.findSplitPoint(seg, encroachPt);\n\t\t\tvar splitVertex = this.createVertex(this._splitPt, seg);\n\t\t\tvar insertedVertex = this.insertSite(splitVertex);\n\t\t\tif (!insertedVertex.getCoordinate().equals2D(this._splitPt)) {}\n\t\t\tvar s1 = new Segment(seg.getStartX(), seg.getStartY(), seg.getStartZ(), splitVertex.getX(), splitVertex.getY(), splitVertex.getZ(), seg.getData());\n\t\t\tvar s2 = new Segment(splitVertex.getX(), splitVertex.getY(), splitVertex.getZ(), seg.getEndX(), seg.getEndY(), seg.getEndZ(), seg.getData());\n\t\t\tnewSegments.add(s1);\n\t\t\tnewSegments.add(s2);\n\t\t\tsegsToRemove.add(seg);\n\t\t\tsplits = splits + 1;\n\t\t}\n\t\tsegsToInsert.removeAll(segsToRemove);\n\t\tsegsToInsert.addAll(newSegments);\n\t\treturn splits;\n\t},\n\tcreateVertex: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet p = arguments[0];\n\t\t\tvar v = null;\n\t\t\tif (this._vertexFactory !== null) v = this._vertexFactory.createVertex(p, null); else v = new ConstraintVertex(p);\n\t\t\treturn v;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p = arguments[0], seg = arguments[1];\n\t\t\tvar v = null;\n\t\t\tif (this._vertexFactory !== null) v = this._vertexFactory.createVertex(p, seg); else v = new ConstraintVertex(p);\n\t\t\tv.setOnConstraint(true);\n\t\t\treturn v;\n\t\t}\n\t},\n\tgetSubdivision: function () {\n\t\treturn this._subdiv;\n\t},\n\tcomputeBoundingBox: function () {\n\t\tvar vertexEnv = ConformingDelaunayTriangulator.computeVertexEnvelope(this._initialVertices);\n\t\tvar segEnv = ConformingDelaunayTriangulator.computeVertexEnvelope(this._segVertices);\n\t\tvar allPointsEnv = new Envelope(vertexEnv);\n\t\tallPointsEnv.expandToInclude(segEnv);\n\t\tvar deltaX = allPointsEnv.getWidth() * 0.2;\n\t\tvar deltaY = allPointsEnv.getHeight() * 0.2;\n\t\tvar delta = Math.max(deltaX, deltaY);\n\t\tthis._computeAreaEnv = new Envelope(allPointsEnv);\n\t\tthis._computeAreaEnv.expandBy(delta);\n\t},\n\tsetVertexFactory: function (vertexFactory) {\n\t\tthis._vertexFactory = vertexFactory;\n\t},\n\tformInitialDelaunay: function () {\n\t\tthis.computeBoundingBox();\n\t\tthis._subdiv = new QuadEdgeSubdivision(this._computeAreaEnv, this._tolerance);\n\t\tthis._subdiv.setLocator(new LastFoundQuadEdgeLocator(this._subdiv));\n\t\tthis._incDel = new IncrementalDelaunayTriangulator(this._subdiv);\n\t\tthis.insertSites(this._initialVertices);\n\t},\n\tinsertSite: function () {\n\t\tif (arguments[0] instanceof ConstraintVertex) {\n\t\t\tlet v = arguments[0];\n\t\t\tvar kdnode = this._kdt.insert(v.getCoordinate(), v);\n\t\t\tif (!kdnode.isRepeated()) {\n\t\t\t\tthis._incDel.insertSite(v);\n\t\t\t} else {\n\t\t\t\tvar snappedV = kdnode.getData();\n\t\t\t\tsnappedV.merge(v);\n\t\t\t\treturn snappedV;\n\t\t\t}\n\t\t\treturn v;\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet p = arguments[0];\n\t\t\tthis.insertSite(this.createVertex(p));\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ConformingDelaunayTriangulator;\n\t}\n});\nConformingDelaunayTriangulator.computeVertexEnvelope = function (vertices) {\n\tvar env = new Envelope();\n\tfor (var i = vertices.iterator(); i.hasNext(); ) {\n\t\tvar v = i.next();\n\t\tenv.expandToInclude(v.getCoordinate());\n\t}\n\treturn env;\n};\nConformingDelaunayTriangulator.MAX_SPLIT_ITER = 99;\n","import CoordinateList from '../geom/CoordinateList';\nimport Geometry from '../geom/Geometry';\nimport Arrays from '../../../../java/util/Arrays';\nimport hasInterface from '../../../../hasInterface';\nimport Collection from '../../../../java/util/Collection';\nimport IncrementalDelaunayTriangulator from './IncrementalDelaunayTriangulator';\nimport QuadEdgeSubdivision from './quadedge/QuadEdgeSubdivision';\nimport extend from '../../../../extend';\nimport Vertex from './quadedge/Vertex';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Envelope from '../geom/Envelope';\nexport default function DelaunayTriangulationBuilder() {\n\tthis._siteCoords = null;\n\tthis._tolerance = 0.0;\n\tthis._subdiv = null;\n}\nextend(DelaunayTriangulationBuilder.prototype, {\n\tcreate: function () {\n\t\tif (this._subdiv !== null) return null;\n\t\tvar siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n\t\tvar vertices = DelaunayTriangulationBuilder.toVertices(this._siteCoords);\n\t\tthis._subdiv = new QuadEdgeSubdivision(siteEnv, this._tolerance);\n\t\tvar triangulator = new IncrementalDelaunayTriangulator(this._subdiv);\n\t\ttriangulator.insertSites(vertices);\n\t},\n\tsetTolerance: function (tolerance) {\n\t\tthis._tolerance = tolerance;\n\t},\n\tsetSites: function () {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tlet coords = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.unique(CoordinateArrays.toCoordinateArray(coords));\n\t\t}\n\t},\n\tgetEdges: function (geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getEdges(geomFact);\n\t},\n\tgetSubdivision: function () {\n\t\tthis.create();\n\t\treturn this._subdiv;\n\t},\n\tgetTriangles: function (geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getTriangles(geomFact);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn DelaunayTriangulationBuilder;\n\t}\n});\nDelaunayTriangulationBuilder.extractUniqueCoordinates = function (geom) {\n\tif (geom === null) return new CoordinateList();\n\tvar coords = geom.getCoordinates();\n\treturn DelaunayTriangulationBuilder.unique(coords);\n};\nDelaunayTriangulationBuilder.envelope = function (coords) {\n\tvar env = new Envelope();\n\tfor (var i = coords.iterator(); i.hasNext(); ) {\n\t\tvar coord = i.next();\n\t\tenv.expandToInclude(coord);\n\t}\n\treturn env;\n};\nDelaunayTriangulationBuilder.unique = function (coords) {\n\tvar coordsCopy = CoordinateArrays.copyDeep(coords);\n\tArrays.sort(coordsCopy);\n\tvar coordList = new CoordinateList(coordsCopy, false);\n\treturn coordList;\n};\nDelaunayTriangulationBuilder.toVertices = function (coords) {\n\tvar verts = new ArrayList();\n\tfor (var i = coords.iterator(); i.hasNext(); ) {\n\t\tvar coord = i.next();\n\t\tverts.add(new Vertex(coord));\n\t}\n\treturn verts;\n};\n","import ConformingDelaunayTriangulator from './ConformingDelaunayTriangulator';\nimport ConstraintVertex from './ConstraintVertex';\nimport extend from '../../../../extend';\nimport DelaunayTriangulationBuilder from './DelaunayTriangulationBuilder';\nimport Segment from './Segment';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport LinearComponentExtracter from '../geom/util/LinearComponentExtracter';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default function ConformingDelaunayTriangulationBuilder() {\n\tthis._siteCoords = null;\n\tthis._constraintLines = null;\n\tthis._tolerance = 0.0;\n\tthis._subdiv = null;\n\tthis._constraintVertexMap = new TreeMap();\n}\nextend(ConformingDelaunayTriangulationBuilder.prototype, {\n\tcreateSiteVertices: function (coords) {\n\t\tvar verts = new ArrayList();\n\t\tfor (var i = coords.iterator(); i.hasNext(); ) {\n\t\t\tvar coord = i.next();\n\t\t\tif (this._constraintVertexMap.containsKey(coord)) continue;\n\t\t\tverts.add(new ConstraintVertex(coord));\n\t\t}\n\t\treturn verts;\n\t},\n\tcreate: function () {\n\t\tif (this._subdiv !== null) return null;\n\t\tvar siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n\t\tvar segments = new ArrayList();\n\t\tif (this._constraintLines !== null) {\n\t\t\tsiteEnv.expandToInclude(this._constraintLines.getEnvelopeInternal());\n\t\t\tthis.createVertices(this._constraintLines);\n\t\t\tsegments = ConformingDelaunayTriangulationBuilder.createConstraintSegments(this._constraintLines);\n\t\t}\n\t\tvar sites = this.createSiteVertices(this._siteCoords);\n\t\tvar cdt = new ConformingDelaunayTriangulator(sites, this._tolerance);\n\t\tcdt.setConstraints(segments, new ArrayList(this._constraintVertexMap.values()));\n\t\tcdt.formInitialDelaunay();\n\t\tcdt.enforceConstraints();\n\t\tthis._subdiv = cdt.getSubdivision();\n\t},\n\tsetTolerance: function (tolerance) {\n\t\tthis._tolerance = tolerance;\n\t},\n\tsetConstraints: function (constraintLines) {\n\t\tthis._constraintLines = constraintLines;\n\t},\n\tsetSites: function (geom) {\n\t\tthis._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n\t},\n\tgetEdges: function (geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getEdges(geomFact);\n\t},\n\tgetSubdivision: function () {\n\t\tthis.create();\n\t\treturn this._subdiv;\n\t},\n\tgetTriangles: function (geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getTriangles(geomFact);\n\t},\n\tcreateVertices: function (geom) {\n\t\tvar coords = geom.getCoordinates();\n\t\tfor (var i = 0; i < coords.length; i++) {\n\t\t\tvar v = new ConstraintVertex(coords[i]);\n\t\t\tthis._constraintVertexMap.put(coords[i], v);\n\t\t}\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ConformingDelaunayTriangulationBuilder;\n\t}\n});\nConformingDelaunayTriangulationBuilder.createConstraintSegments = function () {\n\tif (arguments.length === 1) {\n\t\tlet geom = arguments[0];\n\t\tvar lines = LinearComponentExtracter.getLines(geom);\n\t\tvar constraintSegs = new ArrayList();\n\t\tfor (var i = lines.iterator(); i.hasNext(); ) {\n\t\t\tvar line = i.next();\n\t\t\tConformingDelaunayTriangulationBuilder.createConstraintSegments(line, constraintSegs);\n\t\t}\n\t\treturn constraintSegs;\n\t} else if (arguments.length === 2) {\n\t\tlet line = arguments[0], constraintSegs = arguments[1];\n\t\tvar coords = line.getCoordinates();\n\t\tfor (var i = 1; i < coords.length; i++) {\n\t\t\tconstraintSegs.add(new Segment(coords[i - 1], coords[i]));\n\t\t}\n\t}\n};\n","import Geometry from '../geom/Geometry';\nimport hasInterface from '../../../../hasInterface';\nimport GeometryFactory from '../geom/GeometryFactory';\nimport Collection from '../../../../java/util/Collection';\nimport IncrementalDelaunayTriangulator from './IncrementalDelaunayTriangulator';\nimport QuadEdgeSubdivision from './quadedge/QuadEdgeSubdivision';\nimport extend from '../../../../extend';\nimport DelaunayTriangulationBuilder from './DelaunayTriangulationBuilder';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function VoronoiDiagramBuilder() {\n\tthis._siteCoords = null;\n\tthis._tolerance = 0.0;\n\tthis._subdiv = null;\n\tthis._clipEnv = null;\n\tthis._diagramEnv = null;\n}\nextend(VoronoiDiagramBuilder.prototype, {\n\tcreate: function () {\n\t\tif (this._subdiv !== null) return null;\n\t\tvar siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n\t\tthis._diagramEnv = siteEnv;\n\t\tvar expandBy = Math.max(this._diagramEnv.getWidth(), this._diagramEnv.getHeight());\n\t\tthis._diagramEnv.expandBy(expandBy);\n\t\tif (this._clipEnv !== null) this._diagramEnv.expandToInclude(this._clipEnv);\n\t\tvar vertices = DelaunayTriangulationBuilder.toVertices(this._siteCoords);\n\t\tthis._subdiv = new QuadEdgeSubdivision(siteEnv, this._tolerance);\n\t\tvar triangulator = new IncrementalDelaunayTriangulator(this._subdiv);\n\t\ttriangulator.insertSites(vertices);\n\t},\n\tgetDiagram: function (geomFact) {\n\t\tthis.create();\n\t\tvar polys = this._subdiv.getVoronoiDiagram(geomFact);\n\t\treturn VoronoiDiagramBuilder.clipGeometryCollection(polys, this._diagramEnv);\n\t},\n\tsetTolerance: function (tolerance) {\n\t\tthis._tolerance = tolerance;\n\t},\n\tsetSites: function () {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tlet coords = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.unique(CoordinateArrays.toCoordinateArray(coords));\n\t\t}\n\t},\n\tsetClipEnvelope: function (clipEnv) {\n\t\tthis._clipEnv = clipEnv;\n\t},\n\tgetSubdivision: function () {\n\t\tthis.create();\n\t\treturn this._subdiv;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn VoronoiDiagramBuilder;\n\t}\n});\nVoronoiDiagramBuilder.clipGeometryCollection = function (geom, clipEnv) {\n\tvar clipPoly = geom.getFactory().toGeometry(clipEnv);\n\tvar clipped = new ArrayList();\n\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\tvar g = geom.getGeometryN(i);\n\t\tvar result = null;\n\t\tif (clipEnv.contains(g.getEnvelopeInternal())) result = g; else if (clipEnv.intersects(g.getEnvelopeInternal())) {\n\t\t\tresult = clipPoly.intersection(g);\n\t\t\tresult.setUserData(g.getUserData());\n\t\t}\n\t\tif (result !== null && !result.isEmpty()) {\n\t\t\tclipped.add(result);\n\t\t}\n\t}\n\treturn geom.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(clipped));\n};\n","import Coordinate from '../geom/Coordinate';\nimport extend from '../../../../extend';\nimport LineSegment from '../geom/LineSegment';\nimport Comparable from '../../../../java/lang/Comparable';\nexport default function LinearLocation() {\n\tthis._componentIndex = 0;\n\tthis._segmentIndex = 0;\n\tthis._segmentFraction = 0.0;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet loc = arguments[0];\n\t\tthis._componentIndex = loc._componentIndex;\n\t\tthis._segmentIndex = loc._segmentIndex;\n\t\tthis._segmentFraction = loc._segmentFraction;\n\t} else if (arguments.length === 2) {\n\t\tlet segmentIndex = arguments[0], segmentFraction = arguments[1];\n\t\tLinearLocation.call(this, 0, segmentIndex, segmentFraction);\n\t} else if (arguments.length === 3) {\n\t\tlet componentIndex = arguments[0], segmentIndex = arguments[1], segmentFraction = arguments[2];\n\t\tthis._componentIndex = componentIndex;\n\t\tthis._segmentIndex = segmentIndex;\n\t\tthis._segmentFraction = segmentFraction;\n\t\tthis.normalize();\n\t} else if (arguments.length === 4) {\n\t\tlet componentIndex = arguments[0], segmentIndex = arguments[1], segmentFraction = arguments[2], doNormalize = arguments[3];\n\t\tthis._componentIndex = componentIndex;\n\t\tthis._segmentIndex = segmentIndex;\n\t\tthis._segmentFraction = segmentFraction;\n\t\tif (doNormalize) this.normalize();\n\t}\n}\nextend(LinearLocation.prototype, {\n\tgetSegmentIndex: function () {\n\t\treturn this._segmentIndex;\n\t},\n\tgetComponentIndex: function () {\n\t\treturn this._componentIndex;\n\t},\n\tisEndpoint: function (linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar nseg = lineComp.getNumPoints() - 1;\n\t\treturn this._segmentIndex >= nseg || this._segmentIndex === nseg && this._segmentFraction >= 1.0;\n\t},\n\tisValid: function (linearGeom) {\n\t\tif (this._componentIndex < 0 || this._componentIndex >= linearGeom.getNumGeometries()) return false;\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tif (this._segmentIndex < 0 || this._segmentIndex > lineComp.getNumPoints()) return false;\n\t\tif (this._segmentIndex === lineComp.getNumPoints() && this._segmentFraction !== 0.0) return false;\n\t\tif (this._segmentFraction < 0.0 || this._segmentFraction > 1.0) return false;\n\t\treturn true;\n\t},\n\tnormalize: function () {\n\t\tif (this._segmentFraction < 0.0) {\n\t\t\tthis._segmentFraction = 0.0;\n\t\t}\n\t\tif (this._segmentFraction > 1.0) {\n\t\t\tthis._segmentFraction = 1.0;\n\t\t}\n\t\tif (this._componentIndex < 0) {\n\t\t\tthis._componentIndex = 0;\n\t\t\tthis._segmentIndex = 0;\n\t\t\tthis._segmentFraction = 0.0;\n\t\t}\n\t\tif (this._segmentIndex < 0) {\n\t\t\tthis._segmentIndex = 0;\n\t\t\tthis._segmentFraction = 0.0;\n\t\t}\n\t\tif (this._segmentFraction === 1.0) {\n\t\t\tthis._segmentFraction = 0.0;\n\t\t\tthis._segmentIndex += 1;\n\t\t}\n\t},\n\ttoLowest: function (linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar nseg = lineComp.getNumPoints() - 1;\n\t\tif (this._segmentIndex < nseg) return this;\n\t\treturn new LinearLocation(this._componentIndex, nseg, 1.0, false);\n\t},\n\tgetCoordinate: function (linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar p0 = lineComp.getCoordinateN(this._segmentIndex);\n\t\tif (this._segmentIndex >= lineComp.getNumPoints() - 1) return p0;\n\t\tvar p1 = lineComp.getCoordinateN(this._segmentIndex + 1);\n\t\treturn LinearLocation.pointAlongSegmentByFraction(p0, p1, this._segmentFraction);\n\t},\n\tgetSegmentFraction: function () {\n\t\treturn this._segmentFraction;\n\t},\n\tgetSegment: function (linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar p0 = lineComp.getCoordinateN(this._segmentIndex);\n\t\tif (this._segmentIndex >= lineComp.getNumPoints() - 1) {\n\t\t\tvar prev = lineComp.getCoordinateN(lineComp.getNumPoints() - 2);\n\t\t\treturn new LineSegment(prev, p0);\n\t\t}\n\t\tvar p1 = lineComp.getCoordinateN(this._segmentIndex + 1);\n\t\treturn new LineSegment(p0, p1);\n\t},\n\tclamp: function (linear) {\n\t\tif (this._componentIndex >= linear.getNumGeometries()) {\n\t\t\tthis.setToEnd(linear);\n\t\t\treturn null;\n\t\t}\n\t\tif (this._segmentIndex >= linear.getNumPoints()) {\n\t\t\tvar line = linear.getGeometryN(this._componentIndex);\n\t\t\tthis._segmentIndex = line.getNumPoints() - 1;\n\t\t\tthis._segmentFraction = 1.0;\n\t\t}\n\t},\n\tsetToEnd: function (linear) {\n\t\tthis._componentIndex = linear.getNumGeometries() - 1;\n\t\tvar lastLine = linear.getGeometryN(this._componentIndex);\n\t\tthis._segmentIndex = lastLine.getNumPoints() - 1;\n\t\tthis._segmentFraction = 1.0;\n\t},\n\tcompareTo: function (o) {\n\t\tvar other = o;\n\t\tif (this._componentIndex < other._componentIndex) return -1;\n\t\tif (this._componentIndex > other._componentIndex) return 1;\n\t\tif (this._segmentIndex < other._segmentIndex) return -1;\n\t\tif (this._segmentIndex > other._segmentIndex) return 1;\n\t\tif (this._segmentFraction < other._segmentFraction) return -1;\n\t\tif (this._segmentFraction > other._segmentFraction) return 1;\n\t\treturn 0;\n\t},\n\tcopy: function () {\n\t\treturn new LinearLocation(this._componentIndex, this._segmentIndex, this._segmentFraction);\n\t},\n\ttoString: function () {\n\t\treturn \"LinearLoc[\" + this._componentIndex + \", \" + this._segmentIndex + \", \" + this._segmentFraction + \"]\";\n\t},\n\tisOnSameSegment: function (loc) {\n\t\tif (this._componentIndex !== loc._componentIndex) return false;\n\t\tif (this._segmentIndex === loc._segmentIndex) return true;\n\t\tif (loc._segmentIndex - this._segmentIndex === 1 && loc._segmentFraction === 0.0) return true;\n\t\tif (this._segmentIndex - loc._segmentIndex === 1 && this._segmentFraction === 0.0) return true;\n\t\treturn false;\n\t},\n\tsnapToVertex: function (linearGeom, minDistance) {\n\t\tif (this._segmentFraction <= 0.0 || this._segmentFraction >= 1.0) return null;\n\t\tvar segLen = this.getSegmentLength(linearGeom);\n\t\tvar lenToStart = this._segmentFraction * segLen;\n\t\tvar lenToEnd = segLen - lenToStart;\n\t\tif (lenToStart <= lenToEnd && lenToStart < minDistance) {\n\t\t\tthis._segmentFraction = 0.0;\n\t\t} else if (lenToEnd <= lenToStart && lenToEnd < minDistance) {\n\t\t\tthis._segmentFraction = 1.0;\n\t\t}\n\t},\n\tcompareLocationValues: function (componentIndex1, segmentIndex1, segmentFraction1) {\n\t\tif (this._componentIndex < componentIndex1) return -1;\n\t\tif (this._componentIndex > componentIndex1) return 1;\n\t\tif (this._segmentIndex < segmentIndex1) return -1;\n\t\tif (this._segmentIndex > segmentIndex1) return 1;\n\t\tif (this._segmentFraction < segmentFraction1) return -1;\n\t\tif (this._segmentFraction > segmentFraction1) return 1;\n\t\treturn 0;\n\t},\n\tgetSegmentLength: function (linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar segIndex = this._segmentIndex;\n\t\tif (this._segmentIndex >= lineComp.getNumPoints() - 1) segIndex = lineComp.getNumPoints() - 2;\n\t\tvar p0 = lineComp.getCoordinateN(segIndex);\n\t\tvar p1 = lineComp.getCoordinateN(segIndex + 1);\n\t\treturn p0.distance(p1);\n\t},\n\tisVertex: function () {\n\t\treturn this._segmentFraction <= 0.0 || this._segmentFraction >= 1.0;\n\t},\n\tinterfaces_: function () {\n\t\treturn [Comparable];\n\t},\n\tgetClass: function () {\n\t\treturn LinearLocation;\n\t}\n});\nLinearLocation.getEndLocation = function (linear) {\n\tvar loc = new LinearLocation();\n\tloc.setToEnd(linear);\n\treturn loc;\n};\nLinearLocation.pointAlongSegmentByFraction = function (p0, p1, frac) {\n\tif (frac <= 0.0) return p0;\n\tif (frac >= 1.0) return p1;\n\tvar x = (p1.x - p0.x) * frac + p0.x;\n\tvar y = (p1.y - p0.y) * frac + p0.y;\n\tvar z = (p1.z - p0.z) * frac + p0.z;\n\treturn new Coordinate(x, y, z);\n};\nLinearLocation.compareLocationValues = function (componentIndex0, segmentIndex0, segmentFraction0, componentIndex1, segmentIndex1, segmentFraction1) {\n\tif (componentIndex0 < componentIndex1) return -1;\n\tif (componentIndex0 > componentIndex1) return 1;\n\tif (segmentIndex0 < segmentIndex1) return -1;\n\tif (segmentIndex0 > segmentIndex1) return 1;\n\tif (segmentFraction0 < segmentFraction1) return -1;\n\tif (segmentFraction0 > segmentFraction1) return 1;\n\treturn 0;\n};\n","import hasInterface from '../../../../hasInterface';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport Lineal from '../geom/Lineal';\nexport default function LinearIterator() {\n\tthis._linearGeom = null;\n\tthis._numLines = null;\n\tthis._currentLine = null;\n\tthis._componentIndex = 0;\n\tthis._vertexIndex = 0;\n\tif (arguments.length === 1) {\n\t\tlet linear = arguments[0];\n\t\tLinearIterator.call(this, linear, 0, 0);\n\t} else if (arguments.length === 2) {\n\t\tlet linear = arguments[0], start = arguments[1];\n\t\tLinearIterator.call(this, linear, start.getComponentIndex(), LinearIterator.segmentEndVertexIndex(start));\n\t} else if (arguments.length === 3) {\n\t\tlet linearGeom = arguments[0], componentIndex = arguments[1], vertexIndex = arguments[2];\n\t\tif (!hasInterface(linearGeom, Lineal)) throw new IllegalArgumentException(\"Lineal geometry is required\");\n\t\tthis._linearGeom = linearGeom;\n\t\tthis._numLines = linearGeom.getNumGeometries();\n\t\tthis._componentIndex = componentIndex;\n\t\tthis._vertexIndex = vertexIndex;\n\t\tthis.loadCurrentLine();\n\t}\n}\nextend(LinearIterator.prototype, {\n\tgetComponentIndex: function () {\n\t\treturn this._componentIndex;\n\t},\n\tgetLine: function () {\n\t\treturn this._currentLine;\n\t},\n\tgetVertexIndex: function () {\n\t\treturn this._vertexIndex;\n\t},\n\tgetSegmentEnd: function () {\n\t\tif (this._vertexIndex < this.getLine().getNumPoints() - 1) return this._currentLine.getCoordinateN(this._vertexIndex + 1);\n\t\treturn null;\n\t},\n\tnext: function () {\n\t\tif (!this.hasNext()) return null;\n\t\tthis._vertexIndex++;\n\t\tif (this._vertexIndex >= this._currentLine.getNumPoints()) {\n\t\t\tthis._componentIndex++;\n\t\t\tthis.loadCurrentLine();\n\t\t\tthis._vertexIndex = 0;\n\t\t}\n\t},\n\tloadCurrentLine: function () {\n\t\tif (this._componentIndex >= this._numLines) {\n\t\t\tthis._currentLine = null;\n\t\t\treturn null;\n\t\t}\n\t\tthis._currentLine = this._linearGeom.getGeometryN(this._componentIndex);\n\t},\n\tgetSegmentStart: function () {\n\t\treturn this._currentLine.getCoordinateN(this._vertexIndex);\n\t},\n\tisEndOfLine: function () {\n\t\tif (this._componentIndex >= this._numLines) return false;\n\t\tif (this._vertexIndex < this._currentLine.getNumPoints() - 1) return false;\n\t\treturn true;\n\t},\n\thasNext: function () {\n\t\tif (this._componentIndex >= this._numLines) return false;\n\t\tif (this._componentIndex === this._numLines - 1 && this._vertexIndex >= this._currentLine.getNumPoints()) return false;\n\t\treturn true;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LinearIterator;\n\t}\n});\nLinearIterator.segmentEndVertexIndex = function (loc) {\n\tif (loc.getSegmentFraction() > 0.0) return loc.getSegmentIndex() + 1;\n\treturn loc.getSegmentIndex();\n};\n","import LinearIterator from './LinearIterator';\nimport LinearLocation from './LinearLocation';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport LineSegment from '../geom/LineSegment';\nimport Assert from '../util/Assert';\nexport default function LocationIndexOfPoint() {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n}\nextend(LocationIndexOfPoint.prototype, {\n\tindexOf: function (inputPt) {\n\t\treturn this.indexOfFromStart(inputPt, null);\n\t},\n\tindexOfFromStart: function (inputPt, minIndex) {\n\t\tvar minDistance = Double.MAX_VALUE;\n\t\tvar minComponentIndex = 0;\n\t\tvar minSegmentIndex = 0;\n\t\tvar minFrac = -1.0;\n\t\tvar seg = new LineSegment();\n\t\tfor (var it = new LinearIterator(this._linearGeom); it.hasNext(); it.next()) {\n\t\t\tif (!it.isEndOfLine()) {\n\t\t\t\tseg.p0 = it.getSegmentStart();\n\t\t\t\tseg.p1 = it.getSegmentEnd();\n\t\t\t\tvar segDistance = seg.distance(inputPt);\n\t\t\t\tvar segFrac = seg.segmentFraction(inputPt);\n\t\t\t\tvar candidateComponentIndex = it.getComponentIndex();\n\t\t\t\tvar candidateSegmentIndex = it.getVertexIndex();\n\t\t\t\tif (segDistance < minDistance) {\n\t\t\t\t\tif (minIndex === null || minIndex.compareLocationValues(candidateComponentIndex, candidateSegmentIndex, segFrac) < 0) {\n\t\t\t\t\t\tminComponentIndex = candidateComponentIndex;\n\t\t\t\t\t\tminSegmentIndex = candidateSegmentIndex;\n\t\t\t\t\t\tminFrac = segFrac;\n\t\t\t\t\t\tminDistance = segDistance;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (minDistance === Double.MAX_VALUE) {\n\t\t\treturn new LinearLocation(minIndex);\n\t\t}\n\t\tvar loc = new LinearLocation(minComponentIndex, minSegmentIndex, minFrac);\n\t\treturn loc;\n\t},\n\tindexOfAfter: function (inputPt, minIndex) {\n\t\tif (minIndex === null) return this.indexOf(inputPt);\n\t\tvar endLoc = LinearLocation.getEndLocation(this._linearGeom);\n\t\tif (endLoc.compareTo(minIndex) <= 0) return endLoc;\n\t\tvar closestAfter = this.indexOfFromStart(inputPt, minIndex);\n\t\tAssert.isTrue(closestAfter.compareTo(minIndex) >= 0, \"computed location is before specified minimum location\");\n\t\treturn closestAfter;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LocationIndexOfPoint;\n\t}\n});\nLocationIndexOfPoint.indexOf = function (linearGeom, inputPt) {\n\tvar locater = new LocationIndexOfPoint(linearGeom);\n\treturn locater.indexOf(inputPt);\n};\nLocationIndexOfPoint.indexOfAfter = function (linearGeom, inputPt, minIndex) {\n\tvar locater = new LocationIndexOfPoint(linearGeom);\n\treturn locater.indexOfAfter(inputPt, minIndex);\n};\n","import extend from '../../../../extend';\nimport LocationIndexOfPoint from './LocationIndexOfPoint';\nexport default function LocationIndexOfLine() {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n}\nextend(LocationIndexOfLine.prototype, {\n\tindicesOf: function (subLine) {\n\t\tvar startPt = subLine.getGeometryN(0).getCoordinateN(0);\n\t\tvar lastLine = subLine.getGeometryN(subLine.getNumGeometries() - 1);\n\t\tvar endPt = lastLine.getCoordinateN(lastLine.getNumPoints() - 1);\n\t\tvar locPt = new LocationIndexOfPoint(this._linearGeom);\n\t\tvar subLineLoc = new Array(2).fill(null);\n\t\tsubLineLoc[0] = locPt.indexOf(startPt);\n\t\tif (subLine.getLength() === 0.0) {\n\t\t\tsubLineLoc[1] = subLineLoc[0].copy();\n\t\t} else {\n\t\t\tsubLineLoc[1] = locPt.indexOfAfter(endPt, subLineLoc[0]);\n\t\t}\n\t\treturn subLineLoc;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LocationIndexOfLine;\n\t}\n});\nLocationIndexOfLine.indicesOf = function (linearGeom, subLine) {\n\tvar locater = new LocationIndexOfLine(linearGeom);\n\treturn locater.indicesOf(subLine);\n};\n","import CoordinateList from '../geom/CoordinateList';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport extend from '../../../../extend';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default function LinearGeometryBuilder() {\n\tthis._geomFact = null;\n\tthis._lines = new ArrayList();\n\tthis._coordList = null;\n\tthis._ignoreInvalidLines = false;\n\tthis._fixInvalidLines = false;\n\tthis._lastPt = null;\n\tlet geomFact = arguments[0];\n\tthis._geomFact = geomFact;\n}\nextend(LinearGeometryBuilder.prototype, {\n\tgetGeometry: function () {\n\t\tthis.endLine();\n\t\treturn this._geomFact.buildGeometry(this._lines);\n\t},\n\tgetLastCoordinate: function () {\n\t\treturn this._lastPt;\n\t},\n\tendLine: function () {\n\t\tif (this._coordList === null) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._ignoreInvalidLines && this._coordList.size() < 2) {\n\t\t\tthis._coordList = null;\n\t\t\treturn null;\n\t\t}\n\t\tvar rawPts = this._coordList.toCoordinateArray();\n\t\tvar pts = rawPts;\n\t\tif (this._fixInvalidLines) pts = this.validCoordinateSequence(rawPts);\n\t\tthis._coordList = null;\n\t\tvar line = null;\n\t\ttry {\n\t\t\tline = this._geomFact.createLineString(pts);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof IllegalArgumentException) {\n\t\t\t\tif (!this._ignoreInvalidLines) throw ex;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\tif (line !== null) this._lines.add(line);\n\t},\n\tsetFixInvalidLines: function (fixInvalidLines) {\n\t\tthis._fixInvalidLines = fixInvalidLines;\n\t},\n\tadd: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet pt = arguments[0];\n\t\t\tthis.add(pt, true);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet pt = arguments[0], allowRepeatedPoints = arguments[1];\n\t\t\tif (this._coordList === null) this._coordList = new CoordinateList();\n\t\t\tthis._coordList.add(pt, allowRepeatedPoints);\n\t\t\tthis._lastPt = pt;\n\t\t}\n\t},\n\tsetIgnoreInvalidLines: function (ignoreInvalidLines) {\n\t\tthis._ignoreInvalidLines = ignoreInvalidLines;\n\t},\n\tvalidCoordinateSequence: function (pts) {\n\t\tif (pts.length >= 2) return pts;\n\t\tvar validPts = [pts[0], pts[0]];\n\t\treturn validPts;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LinearGeometryBuilder;\n\t}\n});\n","import LineString from '../geom/LineString';\nimport CoordinateList from '../geom/CoordinateList';\nimport LinearIterator from './LinearIterator';\nimport extend from '../../../../extend';\nimport Assert from '../util/Assert';\nimport LinearGeometryBuilder from './LinearGeometryBuilder';\nimport MultiLineString from '../geom/MultiLineString';\nexport default function ExtractLineByLocation() {\n\tthis._line = null;\n\tlet line = arguments[0];\n\tthis._line = line;\n}\nextend(ExtractLineByLocation.prototype, {\n\tcomputeLinear: function (start, end) {\n\t\tvar builder = new LinearGeometryBuilder(this._line.getFactory());\n\t\tbuilder.setFixInvalidLines(true);\n\t\tif (!start.isVertex()) builder.add(start.getCoordinate(this._line));\n\t\tfor (var it = new LinearIterator(this._line, start); it.hasNext(); it.next()) {\n\t\t\tif (end.compareLocationValues(it.getComponentIndex(), it.getVertexIndex(), 0.0) < 0) break;\n\t\t\tvar pt = it.getSegmentStart();\n\t\t\tbuilder.add(pt);\n\t\t\tif (it.isEndOfLine()) builder.endLine();\n\t\t}\n\t\tif (!end.isVertex()) builder.add(end.getCoordinate(this._line));\n\t\treturn builder.getGeometry();\n\t},\n\tcomputeLine: function (start, end) {\n\t\tvar coordinates = this._line.getCoordinates();\n\t\tvar newCoordinates = new CoordinateList();\n\t\tvar startSegmentIndex = start.getSegmentIndex();\n\t\tif (start.getSegmentFraction() > 0.0) startSegmentIndex += 1;\n\t\tvar lastSegmentIndex = end.getSegmentIndex();\n\t\tif (end.getSegmentFraction() === 1.0) lastSegmentIndex += 1;\n\t\tif (lastSegmentIndex >= coordinates.length) lastSegmentIndex = coordinates.length - 1;\n\t\tif (!start.isVertex()) newCoordinates.add(start.getCoordinate(this._line));\n\t\tfor (var i = startSegmentIndex; i <= lastSegmentIndex; i++) {\n\t\t\tnewCoordinates.add(coordinates[i]);\n\t\t}\n\t\tif (!end.isVertex()) newCoordinates.add(end.getCoordinate(this._line));\n\t\tif (newCoordinates.size() <= 0) newCoordinates.add(start.getCoordinate(this._line));\n\t\tvar newCoordinateArray = newCoordinates.toCoordinateArray();\n\t\tif (newCoordinateArray.length <= 1) {\n\t\t\tnewCoordinateArray = [newCoordinateArray[0], newCoordinateArray[0]];\n\t\t}\n\t\treturn this._line.getFactory().createLineString(newCoordinateArray);\n\t},\n\textract: function (start, end) {\n\t\tif (end.compareTo(start) < 0) {\n\t\t\treturn this.reverse(this.computeLinear(end, start));\n\t\t}\n\t\treturn this.computeLinear(start, end);\n\t},\n\treverse: function (linear) {\n\t\tif (linear instanceof LineString) return linear.reverse();\n\t\tif (linear instanceof MultiLineString) return linear.reverse();\n\t\tAssert.shouldNeverReachHere(\"non-linear geometry encountered\");\n\t\treturn null;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn ExtractLineByLocation;\n\t}\n});\nExtractLineByLocation.extract = function (line, start, end) {\n\tvar ls = new ExtractLineByLocation(line);\n\treturn ls.extract(start, end);\n};\n","import LineString from '../geom/LineString';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport LinearLocation from './LinearLocation';\nimport extend from '../../../../extend';\nimport LocationIndexOfPoint from './LocationIndexOfPoint';\nimport LocationIndexOfLine from './LocationIndexOfLine';\nimport ExtractLineByLocation from './ExtractLineByLocation';\nimport MultiLineString from '../geom/MultiLineString';\nexport default function LocationIndexedLine() {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n\tthis.checkGeometryType();\n}\nextend(LocationIndexedLine.prototype, {\n\tclampIndex: function (index) {\n\t\tvar loc = index.copy();\n\t\tloc.clamp(this._linearGeom);\n\t\treturn loc;\n\t},\n\tproject: function (pt) {\n\t\treturn LocationIndexOfPoint.indexOf(this._linearGeom, pt);\n\t},\n\tcheckGeometryType: function () {\n\t\tif (!(this._linearGeom instanceof LineString || this._linearGeom instanceof MultiLineString)) throw new IllegalArgumentException(\"Input geometry must be linear\");\n\t},\n\textractPoint: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet index = arguments[0];\n\t\t\treturn index.getCoordinate(this._linearGeom);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet index = arguments[0], offsetDistance = arguments[1];\n\t\t\tvar indexLow = index.toLowest(this._linearGeom);\n\t\t\treturn indexLow.getSegment(this._linearGeom).pointAlongOffset(indexLow.getSegmentFraction(), offsetDistance);\n\t\t}\n\t},\n\tisValidIndex: function (index) {\n\t\treturn index.isValid(this._linearGeom);\n\t},\n\tgetEndIndex: function () {\n\t\treturn LinearLocation.getEndLocation(this._linearGeom);\n\t},\n\tgetStartIndex: function () {\n\t\treturn new LinearLocation();\n\t},\n\tindexOfAfter: function (pt, minIndex) {\n\t\treturn LocationIndexOfPoint.indexOfAfter(this._linearGeom, pt, minIndex);\n\t},\n\textractLine: function (startIndex, endIndex) {\n\t\treturn ExtractLineByLocation.extract(this._linearGeom, startIndex, endIndex);\n\t},\n\tindexOf: function (pt) {\n\t\treturn LocationIndexOfPoint.indexOf(this._linearGeom, pt);\n\t},\n\tindicesOf: function (subLine) {\n\t\treturn LocationIndexOfLine.indicesOf(this._linearGeom, subLine);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LocationIndexedLine;\n\t}\n});\n","import LinearIterator from './LinearIterator';\nimport Double from '../../../../java/lang/Double';\nimport extend from '../../../../extend';\nimport LineSegment from '../geom/LineSegment';\nimport Assert from '../util/Assert';\nexport default function LengthIndexOfPoint() {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n}\nextend(LengthIndexOfPoint.prototype, {\n\tindexOf: function (inputPt) {\n\t\treturn this.indexOfFromStart(inputPt, -1.0);\n\t},\n\tindexOfFromStart: function (inputPt, minIndex) {\n\t\tvar minDistance = Double.MAX_VALUE;\n\t\tvar ptMeasure = minIndex;\n\t\tvar segmentStartMeasure = 0.0;\n\t\tvar seg = new LineSegment();\n\t\tvar it = new LinearIterator(this._linearGeom);\n\t\twhile (it.hasNext()) {\n\t\t\tif (!it.isEndOfLine()) {\n\t\t\t\tseg.p0 = it.getSegmentStart();\n\t\t\t\tseg.p1 = it.getSegmentEnd();\n\t\t\t\tvar segDistance = seg.distance(inputPt);\n\t\t\t\tvar segMeasureToPt = this.segmentNearestMeasure(seg, inputPt, segmentStartMeasure);\n\t\t\t\tif (segDistance < minDistance && segMeasureToPt > minIndex) {\n\t\t\t\t\tptMeasure = segMeasureToPt;\n\t\t\t\t\tminDistance = segDistance;\n\t\t\t\t}\n\t\t\t\tsegmentStartMeasure += seg.getLength();\n\t\t\t}\n\t\t\tit.next();\n\t\t}\n\t\treturn ptMeasure;\n\t},\n\tindexOfAfter: function (inputPt, minIndex) {\n\t\tif (minIndex < 0.0) return this.indexOf(inputPt);\n\t\tvar endIndex = this._linearGeom.getLength();\n\t\tif (endIndex < minIndex) return endIndex;\n\t\tvar closestAfter = this.indexOfFromStart(inputPt, minIndex);\n\t\tAssert.isTrue(closestAfter >= minIndex, \"computed index is before specified minimum index\");\n\t\treturn closestAfter;\n\t},\n\tsegmentNearestMeasure: function (seg, inputPt, segmentStartMeasure) {\n\t\tvar projFactor = seg.projectionFactor(inputPt);\n\t\tif (projFactor <= 0.0) return segmentStartMeasure;\n\t\tif (projFactor <= 1.0) return segmentStartMeasure + projFactor * seg.getLength();\n\t\treturn segmentStartMeasure + seg.getLength();\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LengthIndexOfPoint;\n\t}\n});\nLengthIndexOfPoint.indexOf = function (linearGeom, inputPt) {\n\tvar locater = new LengthIndexOfPoint(linearGeom);\n\treturn locater.indexOf(inputPt);\n};\nLengthIndexOfPoint.indexOfAfter = function (linearGeom, inputPt, minIndex) {\n\tvar locater = new LengthIndexOfPoint(linearGeom);\n\treturn locater.indexOfAfter(inputPt, minIndex);\n};\n","import LinearIterator from './LinearIterator';\nimport LinearLocation from './LinearLocation';\nimport extend from '../../../../extend';\nexport default function LengthLocationMap() {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n}\nextend(LengthLocationMap.prototype, {\n\tgetLength: function (loc) {\n\t\tvar totalLength = 0.0;\n\t\tvar it = new LinearIterator(this._linearGeom);\n\t\twhile (it.hasNext()) {\n\t\t\tif (!it.isEndOfLine()) {\n\t\t\t\tvar p0 = it.getSegmentStart();\n\t\t\t\tvar p1 = it.getSegmentEnd();\n\t\t\t\tvar segLen = p1.distance(p0);\n\t\t\t\tif (loc.getComponentIndex() === it.getComponentIndex() && loc.getSegmentIndex() === it.getVertexIndex()) {\n\t\t\t\t\treturn totalLength + segLen * loc.getSegmentFraction();\n\t\t\t\t}\n\t\t\t\ttotalLength += segLen;\n\t\t\t}\n\t\t\tit.next();\n\t\t}\n\t\treturn totalLength;\n\t},\n\tresolveHigher: function (loc) {\n\t\tif (!loc.isEndpoint(this._linearGeom)) return loc;\n\t\tvar compIndex = loc.getComponentIndex();\n\t\tif (compIndex >= this._linearGeom.getNumGeometries() - 1) return loc;\n\t\tdo {\n\t\t\tcompIndex++;\n\t\t} while (compIndex < this._linearGeom.getNumGeometries() - 1 && this._linearGeom.getGeometryN(compIndex).getLength() === 0);\n\t\treturn new LinearLocation(compIndex, 0, 0.0);\n\t},\n\tgetLocation: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet length = arguments[0];\n\t\t\treturn this.getLocation(length, true);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet length = arguments[0], resolveLower = arguments[1];\n\t\t\tvar forwardLength = length;\n\t\t\tif (length < 0.0) {\n\t\t\t\tvar lineLen = this._linearGeom.getLength();\n\t\t\t\tforwardLength = lineLen + length;\n\t\t\t}\n\t\t\tvar loc = this.getLocationForward(forwardLength);\n\t\t\tif (resolveLower) {\n\t\t\t\treturn loc;\n\t\t\t}\n\t\t\treturn this.resolveHigher(loc);\n\t\t}\n\t},\n\tgetLocationForward: function (length) {\n\t\tif (length <= 0.0) return new LinearLocation();\n\t\tvar totalLength = 0.0;\n\t\tvar it = new LinearIterator(this._linearGeom);\n\t\twhile (it.hasNext()) {\n\t\t\tif (it.isEndOfLine()) {\n\t\t\t\tif (totalLength === length) {\n\t\t\t\t\tvar compIndex = it.getComponentIndex();\n\t\t\t\t\tvar segIndex = it.getVertexIndex();\n\t\t\t\t\treturn new LinearLocation(compIndex, segIndex, 0.0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar p0 = it.getSegmentStart();\n\t\t\t\tvar p1 = it.getSegmentEnd();\n\t\t\t\tvar segLen = p1.distance(p0);\n\t\t\t\tif (totalLength + segLen > length) {\n\t\t\t\t\tvar frac = (length - totalLength) / segLen;\n\t\t\t\t\tvar compIndex = it.getComponentIndex();\n\t\t\t\t\tvar segIndex = it.getVertexIndex();\n\t\t\t\t\treturn new LinearLocation(compIndex, segIndex, frac);\n\t\t\t\t}\n\t\t\t\ttotalLength += segLen;\n\t\t\t}\n\t\t\tit.next();\n\t\t}\n\t\treturn LinearLocation.getEndLocation(this._linearGeom);\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LengthLocationMap;\n\t}\n});\nLengthLocationMap.getLength = function (linearGeom, loc) {\n\tvar locater = new LengthLocationMap(linearGeom);\n\treturn locater.getLength(loc);\n};\nLengthLocationMap.getLocation = function () {\n\tif (arguments.length === 2) {\n\t\tlet linearGeom = arguments[0], length = arguments[1];\n\t\tvar locater = new LengthLocationMap(linearGeom);\n\t\treturn locater.getLocation(length);\n\t} else if (arguments.length === 3) {\n\t\tlet linearGeom = arguments[0], length = arguments[1], resolveLower = arguments[2];\n\t\tvar locater = new LengthLocationMap(linearGeom);\n\t\treturn locater.getLocation(length, resolveLower);\n\t}\n};\n","import LocationIndexedLine from './LocationIndexedLine';\nimport extend from '../../../../extend';\nimport LengthIndexOfPoint from './LengthIndexOfPoint';\nimport LocationIndexOfLine from './LocationIndexOfLine';\nimport LengthLocationMap from './LengthLocationMap';\nimport ExtractLineByLocation from './ExtractLineByLocation';\nexport default function LengthIndexedLine() {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n}\nextend(LengthIndexedLine.prototype, {\n\tclampIndex: function (index) {\n\t\tvar posIndex = this.positiveIndex(index);\n\t\tvar startIndex = this.getStartIndex();\n\t\tif (posIndex < startIndex) return startIndex;\n\t\tvar endIndex = this.getEndIndex();\n\t\tif (posIndex > endIndex) return endIndex;\n\t\treturn posIndex;\n\t},\n\tlocationOf: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet index = arguments[0];\n\t\t\treturn LengthLocationMap.getLocation(this._linearGeom, index);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet index = arguments[0], resolveLower = arguments[1];\n\t\t\treturn LengthLocationMap.getLocation(this._linearGeom, index, resolveLower);\n\t\t}\n\t},\n\tproject: function (pt) {\n\t\treturn LengthIndexOfPoint.indexOf(this._linearGeom, pt);\n\t},\n\tpositiveIndex: function (index) {\n\t\tif (index >= 0.0) return index;\n\t\treturn this._linearGeom.getLength() + index;\n\t},\n\textractPoint: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet index = arguments[0];\n\t\t\tvar loc = LengthLocationMap.getLocation(this._linearGeom, index);\n\t\t\treturn loc.getCoordinate(this._linearGeom);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet index = arguments[0], offsetDistance = arguments[1];\n\t\t\tvar loc = LengthLocationMap.getLocation(this._linearGeom, index);\n\t\t\tvar locLow = loc.toLowest(this._linearGeom);\n\t\t\treturn locLow.getSegment(this._linearGeom).pointAlongOffset(locLow.getSegmentFraction(), offsetDistance);\n\t\t}\n\t},\n\tisValidIndex: function (index) {\n\t\treturn index >= this.getStartIndex() && index <= this.getEndIndex();\n\t},\n\tgetEndIndex: function () {\n\t\treturn this._linearGeom.getLength();\n\t},\n\tgetStartIndex: function () {\n\t\treturn 0.0;\n\t},\n\tindexOfAfter: function (pt, minIndex) {\n\t\treturn LengthIndexOfPoint.indexOfAfter(this._linearGeom, pt, minIndex);\n\t},\n\textractLine: function (startIndex, endIndex) {\n\t\tvar lil = new LocationIndexedLine(this._linearGeom);\n\t\tvar startIndex2 = this.clampIndex(startIndex);\n\t\tvar endIndex2 = this.clampIndex(endIndex);\n\t\tvar resolveStartLower = startIndex2 === endIndex2;\n\t\tvar startLoc = this.locationOf(startIndex2, resolveStartLower);\n\t\tvar endLoc = this.locationOf(endIndex2);\n\t\treturn ExtractLineByLocation.extract(this._linearGeom, startLoc, endLoc);\n\t},\n\tindexOf: function (pt) {\n\t\treturn LengthIndexOfPoint.indexOf(this._linearGeom, pt);\n\t},\n\tindicesOf: function (subLine) {\n\t\tvar locIndex = LocationIndexOfLine.indicesOf(this._linearGeom, subLine);\n\t\tvar index = [LengthLocationMap.getLength(this._linearGeom, locIndex[0]), LengthLocationMap.getLength(this._linearGeom, locIndex[1])];\n\t\treturn index;\n\t},\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn LengthIndexedLine;\n\t}\n});\n","import SnapIfNeededOverlayOp from '../overlay/snap/SnapIfNeededOverlayOp';\nimport extend from '../../../../../extend';\nimport OverlayOp from '../overlay/OverlayOp';\nexport default function UnionOp() {}\nextend(UnionOp.prototype, {\n\tinterfaces_: function () {\n\t\treturn [];\n\t},\n\tgetClass: function () {\n\t\treturn UnionOp;\n\t}\n});\nUnionOp.union = function (g, other) {\n\tif (g.isEmpty() || other.isEmpty()) {\n\t\tif (g.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.UNION, g, other, g.getFactory());\n\t\tif (g.isEmpty()) return other.copy();\n\t\tif (other.isEmpty()) return g.copy();\n\t}\n\tg.checkNotGeometryCollection(g);\n\tg.checkNotGeometryCollection(other);\n\treturn SnapIfNeededOverlayOp.overlayOp(g, other, OverlayOp.UNION);\n};\n","import WKTWriter from './io/WKTWriter';\nimport GeometryCollectionMapper from './geom/util/GeometryCollectionMapper';\nimport IsValidOp from './operation/valid/IsValidOp';\nimport InteriorPointArea from './algorithm/InteriorPointArea';\nimport UnaryUnionOp from './operation/union/UnaryUnionOp';\nimport UnionOp from './operation/union/UnionOp';\nimport SnapIfNeededOverlayOp from './operation/overlay/snap/SnapIfNeededOverlayOp';\nimport InteriorPointLine from './algorithm/InteriorPointLine';\nimport IsSimpleOp from './operation/IsSimpleOp';\nimport BufferOp from './operation/buffer/BufferOp';\nimport ConvexHull from './algorithm/ConvexHull';\nimport Centroid from './algorithm/Centroid';\nimport Comparable from '../../../java/lang/Comparable';\nimport RelateOp from './operation/relate/RelateOp';\nimport InteriorPointPoint from './algorithm/InteriorPointPoint';\nimport Cloneable from '../../../java/lang/Cloneable';\nimport Serializable from '../../../java/io/Serializable';\nimport DistanceOp from './operation/distance/DistanceOp';\nimport Envelope from './geom/Envelope';\nimport RectangleContains from './operation/predicate/RectangleContains';\nimport Assert from './util/Assert';\nimport RectangleIntersects from './operation/predicate/RectangleIntersects';\nimport OverlayOp from './operation/overlay/OverlayOp';\n\nimport Geometry from './geom/Geometry';\nimport GeometryCollection from './geom/GeometryCollection';\n\nimport extend from '../../../extend';\n\nextend(Geometry.prototype, {\n\tequalsTopo: function (g) {\n\t\tif (!this.getEnvelopeInternal().equals(g.getEnvelopeInternal())) return false;\n\t\treturn RelateOp.relate(this, g).isEquals(this.getDimension(), g.getDimension());\n\t},\n\tunion: function () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn UnaryUnionOp.union(this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet other = arguments[0];\n\t\t\treturn UnionOp.union(this, other);\n\t\t}\n\t},\n\tisValid: function () {\n\t\treturn IsValidOp.isValid(this);\n\t},\n\tintersection: function (other) {\n\t\tif (this.isEmpty() || other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.INTERSECTION, this, other, this._factory);\n\t\tif (this.isGeometryCollection()) {\n\t\t\tvar g2 = other;\n\t\t\treturn GeometryCollectionMapper.map(this, {\n\t\t\t\tinterfaces_: function () {\n\t\t\t\t\treturn [MapOp];\n\t\t\t\t},\n\t\t\t\tmap: function (g) {\n\t\t\t\t\treturn g.intersection(g2);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.checkNotGeometryCollection(this);\n\t\tthis.checkNotGeometryCollection(other);\n\t\treturn SnapIfNeededOverlayOp.overlayOp(this, other, OverlayOp.INTERSECTION);\n\t},\n\tcovers: function (g) {\n\t\treturn RelateOp.covers(this, g);\n\t},\n\tcoveredBy: function (g) {\n\t\treturn RelateOp.covers(g, this);\n\t},\n\ttouches: function (g) {\n\t\treturn RelateOp.touches(this, g);\n\t},\n\tintersects: function (g) {\n\t\treturn RelateOp.intersects(this, g);\n\t},\n\twithin: function (g) {\n\t\treturn RelateOp.contains(g, this);\n\t},\n\toverlaps: function (g) {\n\t\treturn RelateOp.overlaps(this, g);\n\t},\n\tdisjoint: function (g) {\n\t\treturn RelateOp.disjoint(this, g);\n\t},\n\tcrosses: function (g) {\n\t\treturn RelateOp.crosses(this, g);\n\t},\n\tbuffer: function () {\n\t\tif (arguments.length === 1) {\n\t\t\tlet distance = arguments[0];\n\t\t\treturn BufferOp.bufferOp(this, distance);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet distance = arguments[0], quadrantSegments = arguments[1];\n\t\t\treturn BufferOp.bufferOp(this, distance, quadrantSegments);\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet distance = arguments[0], quadrantSegments = arguments[1], endCapStyle = arguments[2];\n\t\t\treturn BufferOp.bufferOp(this, distance, quadrantSegments, endCapStyle);\n\t\t}\n\t},\n\tconvexHull: function () {\n\t\treturn new ConvexHull(this).getConvexHull();\n\t},\n\trelate: function (...args) {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geometry = arguments[0];\n\t\t\treturn RelateOp.relate(this, geometry);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geometry = arguments[0], intersectionPattern = arguments[1];\n\t\t\treturn RelateOp.relate(this, geometry).matches(intersectionPattern);\n\t\t}\n\t},\n\tgetCentroid: function () {\n\t\tif (this.isEmpty()) return this._factory.createPoint();\n\t\tvar centPt = Centroid.getCentroid(this);\n\t\treturn this.createPointFromInternalCoord(centPt, this);\n\t},\n\tgetInteriorPoint: function () {\n\t\tif (this.isEmpty()) return this._factory.createPoint();\n\t\tvar interiorPt = null;\n\t\tvar dim = this.getDimension();\n\t\tif (dim === 0) {\n\t\t\tvar intPt = new InteriorPointPoint(this);\n\t\t\tinteriorPt = intPt.getInteriorPoint();\n\t\t} else if (dim === 1) {\n\t\t\tvar intPt = new InteriorPointLine(this);\n\t\t\tinteriorPt = intPt.getInteriorPoint();\n\t\t} else {\n\t\t\tvar intPt = new InteriorPointArea(this);\n\t\t\tinteriorPt = intPt.getInteriorPoint();\n\t\t}\n\t\treturn this.createPointFromInternalCoord(interiorPt, this);\n\t},\n\tsymDifference: function (other) {\n\t\tif (this.isEmpty() || other.isEmpty()) {\n\t\t\tif (this.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.SYMDIFFERENCE, this, other, this._factory);\n\t\t\tif (this.isEmpty()) return other.copy();\n\t\t\tif (other.isEmpty()) return this.copy();\n\t\t}\n\t\tthis.checkNotGeometryCollection(this);\n\t\tthis.checkNotGeometryCollection(other);\n\t\treturn SnapIfNeededOverlayOp.overlayOp(this, other, OverlayOp.SYMDIFFERENCE);\n\t},\n\tcreatePointFromInternalCoord: function (coord, exemplar) {\n\t\texemplar.getPrecisionModel().makePrecise(coord);\n\t\treturn exemplar.getFactory().createPoint(coord);\n\t},\n\ttoText: function () {\n\t\tvar writer = new WKTWriter();\n\t\treturn writer.write(this);\n\t},\n\ttoString: function() {\n\t\tthis.toText();\n\t},\n\tcontains: function (g) {\n\t\treturn RelateOp.contains(this, g);\n\t},\n\tdifference: function (other) {\n\t\tif (this.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.DIFFERENCE, this, other, this._factory);\n\t\tif (other.isEmpty()) return this.copy();\n\t\tthis.checkNotGeometryCollection(this);\n\t\tthis.checkNotGeometryCollection(other);\n\t\treturn SnapIfNeededOverlayOp.overlayOp(this, other, OverlayOp.DIFFERENCE);\n\t},\n\tisSimple: function () {\n\t\tvar op = new IsSimpleOp(this);\n\t\treturn op.isSimple();\n\t},\n\tisWithinDistance: function (geom, distance) {\n\t\tvar envDist = this.getEnvelopeInternal().distance(geom.getEnvelopeInternal());\n\t\tif (envDist > distance) return false;\n\t\treturn DistanceOp.isWithinDistance(this, geom, distance);\n\t},\n\tdistance: function (g) {\n\t\treturn DistanceOp.distance(this, g);\n\t},\n\tisEquivalentClass: function (other) {\n\t\treturn this.getClass() === other.getClass();\n\t}\n})\n","import './Array'\nimport './Number'\nimport './Math'\n\nimport * as geom from './org/locationtech/jts/geom'\nimport * as algorithm from './org/locationtech/jts/algorithm'\nimport * as densify from './org/locationtech/jts/densify'\nimport * as dissolve from './org/locationtech/jts/dissolve'\nimport * as geomgraph from './org/locationtech/jts/geomgraph'\nimport * as index from './org/locationtech/jts/index'\nimport * as io from './org/locationtech/jts/io'\nimport * as noding from './org/locationtech/jts/noding'\nimport * as operation from './org/locationtech/jts/operation'\nimport * as precision from './org/locationtech/jts/precision'\nimport * as simplify from './org/locationtech/jts/simplify'\nimport * as triangulate from './org/locationtech/jts/triangulate'\nimport * as linearref from './org/locationtech/jts/linearref'\n\nimport './org/locationtech/jts/monkey'\n\nconst version = 'npm_package_version (git_hash)'\nexport {\n  version,\n  algorithm,\n  densify,\n  dissolve,\n  geom,\n  geomgraph,\n  index,\n  io,\n  noding,\n  operation,\n  precision,\n  simplify,\n  triangulate,\n  linearref\n}\n"],"names":["Array","prototype","Object","defineProperty","configurable","value","fill","undefined","TypeError","arrayLike","length","Math","max","min","relativeStart","arguments","parseInt","Number","relativeEnd","writable","isFinite","isInteger","val","floor","parseFloat","isNaN","trunc","x","ceil","log2","log","LOG2E","target","source","key","hasOwnProperty","NumberUtil","extend","interfaces_","getClass","equalsWithTolerance","x1","x2","tolerance","abs","IllegalArgumentException","Long","high","low","toBinaryString","i","result","mask","Double","n","isInfinite","MAX_VALUE","Float64Array","Int32Array","EXP_BIT_MASK","SIGNIF_BIT_MASK","f64buf","i32buf","buffer","doubleToLongBits","longBitsToDouble","bits","BIAS","pow","MAX_REL_BITS_INTEGER","y","f","skip","sign","exp","NEGATIVE_INFINITY","Infinity","fract","NaN","Comparable","Clonable","Comparator","Serializable","RuntimeException","message","name","stack","Error","call","create","constructor","c","p","AssertionFailedException","inherits","Assert","shouldNeverReachHere","isTrue","assertion","equals","expectedValue","actualValue","Coordinate","z","NULL_ORDINATE","setOrdinate","ordinateIndex","X","Y","Z","equals2D","other","getOrdinate","equals3D","equalInZ","compareTo","o","clone","coord","e","CloneNotSupportedException","copy","toString","distance3D","dx","dy","dz","sqrt","distance","hashCode","setCoordinate","Cloneable","DimensionalComparator","_dimensionsToTest","dimensionsToTest","compare","o1","o2","c1","c2","compX","compY","compZ","a","b","serialVersionUID","indexOf","Iterator","hasNext","next","remove","Collection","add","addAll","isEmpty","iterator","size","toArray","IndexOutOfBoundsException","List","get","set","NoSuchElementException","OperationNotSupported","ArrayList","array_","ensureCapacity","push","splice","clear","index","element","oldElement","Iterator_","array","len","found","arrayList","arrayList_","position_","CoordinateList","apply","allowRepeated","getCoordinate","hasInterface","coll","isChanged","toCoordinateArray","coordArrayType","last","obj","direction","prev","start","end","inc","closeRing","Envelope","_minx","_maxx","_miny","_maxy","init","env","p1","p2","y1","y2","getArea","getWidth","getHeight","otherEnvelope","isNull","getMaxX","getMaxY","getMinX","getMinY","intersection","intersects","intMinX","intMinY","intMaxX","intMaxY","covers","envminx","envmaxx","envminy","envmaxy","expandToInclude","minExtent","w","h","translate","transX","transY","setToNull","maxExtent","expandBy","deltaX","deltaY","contains","centre","q","q1","q2","minq","maxq","minp","maxp","Exception","NotRepresentableException","StringBuffer","str","append","setCharAt","substr","Integer","intValue","Character","isWhitespace","toUpperCase","DD","_hi","_lo","dd","parse","hi","lo","le","extractSignificantDigits","insertDecimalPoint","magnitude","mag","scale","TEN","divide","gt","lt","ONE","multiply","decimalPointPos","buf","numDigits","MAX_PRINT_DIGITS","digit","rebiasBy10","digitChar","subtract","valueOf","selfAdd","continueExtractingDigits","remMag","sqr","doubleValue","negate","isZero","selfSubtract","getSpecialNumberString","selfDivide","yhi","ylo","hc","tc","hy","ty","C","U","u","SPLIT","dump","zhi","zlo","createNaN","ge","r","s","selfMultiply","reciprocal","fhi","flo","rint","plus5","setValue","isNegative","ax","axdd","diffSq","d2","H","S","T","t","hx","tx","selfSqr","ex","toStandardNotation","toSciNotation","specialStr","sigDigits","num","charAt","stringOfChar","numZeroes","zeroes","SCI_NOT_ZERO","digits","expStr","SCI_NOT_EXPONENT_CHAR","IllegalStateException","trailingDigits","substring","digitsWithDecimal","isPositive","signum","strlen","signCh","numBeforeDec","ch","isDigit","d","NumberFormatException","val2","numDecPlaces","xAbs","xLog10","xMag","xApprox","PI","TWO_PI","PI_2","E","EPS","CGAlgorithmsDD","orientationIndex","orientationIndexFilter","dx1","dy1","dx2","dy2","signOfDet2x2","det","denom1","denom2","denom","numx1","numx2","numx","fracP","numy1","numy2","numy","fracQ","pa","pb","pc","detsum","detleft","detright","errbound","DP_SAFE_EPSILON","Orientation","isCCW","ring","nPts","hiPt","hiIndex","iPrev","iNext","disc","CLOCKWISE","RIGHT","COUNTERCLOCKWISE","LEFT","COLLINEAR","STRAIGHT","System","arraycopy","src","srcPos","dest","destPos","getProperty","HCoordinate","_x","_y","_w","px","py","pw","qx","qy","qw","getY","getX","xInt","yInt","MathUtil","log10","ln","LOG_10","v1","v2","v3","v4","clamp","wrap","average","Distance","segmentToSegment","A","B","D","pointToSegment","noIntersection","r_num","s_num","len2","pointToLinePerpendicular","pointToSegmentString","line","minDistance","dist","CoordinateSequence","getCoordinateCopy","getDimension","expandEnvelope","M","CoordinateSequenceFactory","GeometryComponentFilter","filter","geom","Geometry","_envelope","_factory","_SRID","_userData","factory","getSRID","isGeometryCollection","getTypeCode","TYPECODE_GEOMETRYCOLLECTION","getFactory","getGeometryN","isRectangle","g","equalsTopo","equalsExact","geometryChanged","geometryChangedFilter","geometryChangedAction","equalsNorm","norm","getLength","getNumGeometries","compareToSameClass","comp","getUserData","getEnvelope","toGeometry","getEnvelopeInternal","checkNotGeometryCollection","equal","normalize","getPrecisionModel","computeEnvelopeInternal","setSRID","SRID","setUserData","userData","j","aElement","bElement","comparison","isGeometryCollectionOrDerived","TYPECODE_MULTIPOINT","TYPECODE_MULTILINESTRING","TYPECODE_MULTIPOLYGON","hasNonEmptyElements","geometries","hasNullElements","TYPECODE_POINT","TYPECODE_LINESTRING","TYPECODE_LINEARRING","TYPECODE_POLYGON","TYPENAME_POINT","TYPENAME_MULTIPOINT","TYPENAME_LINESTRING","TYPENAME_LINEARRING","TYPENAME_MULTILINESTRING","TYPENAME_POLYGON","TYPENAME_MULTIPOLYGON","TYPENAME_GEOMETRYCOLLECTION","CoordinateFilter","BoundaryNodeRule","isInBoundary","boundaryCount","Mod2BoundaryNodeRule","EndPointBoundaryNodeRule","MultiValentEndPointBoundaryNodeRule","MonoValentEndPointBoundaryNodeRule","MOD2_BOUNDARY_RULE","ENDPOINT_BOUNDARY_RULE","MULTIVALENT_ENDPOINT_BOUNDARY_RULE","MONOVALENT_ENDPOINT_BOUNDARY_RULE","OGC_SFS_BOUNDARY_RULE","CoordinateArrays","isRing","pts","ptNotInList","testPts","testPt","scroll","coordinates","firstCoordinate","newCoordinates","coord1","coord2","coordinateComparator","coordList","hasRepeatedPoints","removeRepeatedPoints","reverse","mid","tmp","removeNull","nonNull","newCoord","copyDeep","srcStart","destStart","isEqualReversed","pts1","pts2","envelope","atLeastNCoordinatesOrNothing","coordinate","increasingDirection","minCoordinate","minCoord","extract","npts","extractPts","iPts","ForwardComparator","BidirectionalComparator","forwardComp","isEqualRev","OLDcompare","dir1","dir2","i1","i2","comparePt","Map","put","values","entrySet","SortedMap","Set","HashSet","javascript","util","hashSet","hashSet_","BLACK","RED","colorOf","color","parentOf","parent","setColor","leftOf","left","rightOf","right","TreeMap","root_","size_","cmp","getValue","getKey","oldValue","fixAfterInsertion","rotateLeft","rotateRight","getFirstEntry","successor","l","Lineal","SortedSet","TreeSet","treeSet","treeSet_","Arrays","sort","comparator","slice","concat","asList","Dimension","toDimensionSymbol","dimensionValue","FALSE","SYM_FALSE","TRUE","SYM_TRUE","DONTCARE","SYM_DONTCARE","P","SYM_P","L","SYM_L","SYM_A","toDimensionValue","dimensionSymbol","GeometryFilter","CoordinateSequenceFilter","seq","isDone","isGeometryChanged","GeometryCollection","_geometries","getCoordinates","getNumPoints","k","childCoordinates","area","isEquivalentClass","otherCollection","getBoundaryDimension","dimension","sum","numPoints","revGeoms","createGeometryCollection","theseElements","otherElements","gc","n1","n2","thisGeom","otherGeom","holeComp","getBoundary","getGeometryType","MultiLineString","lineStrings","isClosed","nLines","revLines","createMultiLineString","BoundaryOp","_geom","_geomFact","_bnRule","_endpointMap","bnRule","boundaryMultiLineString","mLine","getEmptyMultiPoint","bdyPts","computeBoundaryCoordinates","createPoint","createMultiPointFromCoords","LineString","boundaryLineString","closedEndpointOnBoundary","getStartPoint","createMultiPoint","getEndPoint","addEndpoint","getCoordinateN","it","entry","counter","valence","count","pt","Counter","bop","Length","ofLine","x0","y0","PrintStream","StringReader","DecimalFormat","ByteArrayOutputStream","IOException","LineNumberReader","StringUtil","chars","String","getStackTrace","os","ps","printStackTrace","depth","stackTrace","stringReader","lineNumberReader","readLine","NEWLINE","split","separator","separatorlen","tokenList","tmpString","pos","token","res","SIMPLE_ORDINATE_FORMAT","format","spaces","StringBuilder","CoordinateSequences","copyCoord","minDim","dim","isEqual","cs1","cs2","cs1Size","cs2Size","fact","newseq","swap","cs","builder","ensureValidRing","createClosedRing","_points","points","isSimple","otherLineString","getPointN","revLine","createLineString","getCoordinateSequence","getCoordinateSequenceFactory","isCoordinate","Puntal","Point","_coordinates","point","Area","ofRing","ofRingSigned","p0","Polygonal","Polygon","_shell","_holes","shell","holes","createLinearRing","shellCoordinates","getNumInteriorRing","prevX","prevY","xChanged","yChanged","otherPolygon","thisShell","otherPolygonShell","clockwise","uniqueCoordinates","poly","convexHull","getExteriorRing","otherShell","shellComp","nHole1","nHole2","thisHole","getInteriorRingN","otherHole","rings","shellCopy","holeCopies","MultiPoint","isValid","LinearRing","GeometryFactory","validateConstruction","rev","MINIMUM_VALID_SIZE","MultiPolygon","polygons","createMultiPolygon","allRings","polygon","allRingsArray","GeometryEditor","_isUserDataCopied","setCopyUserData","isUserDataCopied","edit","geometry","operation","editInternal","editGeometryCollection","editPolygon","getName","collection","collectionForType","newPolygon","createPolygon","hole","GeometryEditorOperation","NoOpGeometryOperation","CoordinateOperation","CoordinateSequenceOperation","CoordinateArraySequence","_dimension","coordSeq","cloneCoordinates","strBuilder","CoordinateArraySequenceFactory","readResolve","instance","instanceObject","is","createCollection","sharedDelete","has","mapHas","sharedGet","sharedSet","keys","sharedKeys","sharedValues","entries","mapEntries","forEach","sharedForEach","sharedClear","proto","objectOnly","_keys","_values","_itp","sharedSize","list","sharedIterator","itp","array2","done","v","callback","context","MapImpl","MapPolyfill","HashMap","map_","MapInterface","PrecisionModel","_modelType","_scale","FLOATING","Type","modelType","FIXED","setScale","pm","otherPrecisionModel","getMaximumSignificantDigits","otherSigDigits","getScale","isFloating","FLOATING_SINGLE","getType","description","makePrecise","floatSingleVal","round","maxSigDigits","mostPrecise","pm1","pm2","_name","nameToTypeMap","maximumPreciseValue","_precisionModel","_coordinateSequenceFactory","coordinateSequenceFactory","precisionModel","getDefaultCoordinateSequenceFactory","buildGeometry","geomList","geomClass","isHeterogeneous","hasGeometryCollection","partClass","toGeometryArray","geom0","isCollection","toPolygonArray","toLineStringArray","toPointArray","createGeometry","editor","ptSeq","toMultiPolygonArray","multiPolygons","multiPolygonArray","geometryArray","toMultiLineStringArray","multiLineStrings","multiLineStringArray","lineStringArray","toMultiPointArray","multiPoints","multiPointArray","toLinearRingArray","linearRings","linearRingArray","pointArray","polygonArray","createPointFromInternalCoord","exemplar","regExes","WKTParser","geometryFactory","read","wkt","type","replace","matches","typeStr","exec","search","emptyTypeStr","toLowerCase","write","extractGeometry","wktType","data","multipoint","join","linestring","linearring","multilinestring","multipolygon","geometrycollection","coords","trim","components","trimParens","lines","parenComma","doubleParenComma","wktArray","WKTWriter","parser","toLineString","LineIntersector","_result","_inputLines","map","_intPt","_intLineIndex","_isProper","_pa","_pb","getIndexAlongSegment","segmentIndex","intIndex","computeIntLineIndex","getTopologySummary","catBuilder","isEndPoint","isCollinear","computeIntersection","p3","p4","computeIntersect","getIntersectionNum","dist0","getEdgeDistance","dist1","isProper","hasIntersection","setPrecisionModel","isInteriorIntersection","inputLineIndex","getIntersection","NO_INTERSECTION","computeEdgeDistance","COLLINEAR_INTERSECTION","getEndpoint","ptIndex","isIntersection","getIntersectionAlongSegment","pdx","pdy","nonRobustComputeEdgeDistance","DONT_INTERSECT","DO_INTERSECT","POINT_INTERSECTION","RobustLineIntersector","isInSegmentEnvelopes","intPt","env0","env1","normalizeToMinimum","n3","n4","normPt","smallestInAbsValue","safeHCoordinateIntersection","nearestEndpoint","intersectionWithNormalization","x3","x4","xabs","checkDD","intPtDD","isIn","out","println","normalizeToEnvCentre","computeCollinearIntersection","p1q1p2","p1q2p2","q1p1q2","q1p2q2","n00","n01","n10","n11","minX0","minY0","maxX0","maxY0","minX1","minY1","maxX1","maxY1","intMidX","intMidY","Pq1","Pq2","Qp1","Qp2","collinear","nearestPt","minDist","LineSegment","ls","minX","seg","orient0","orient1","geomFactory","isVertical","li","project","projectionFactor","pf0","pf1","newp0","newp1","angle","atan2","distancePerpendicular","minY","midPoint","closestPoints","closestPt","close00","closestPoint","close01","close10","close11","factor","maxX","comp0","temp","lineIntersection","maxY","pointAlongOffset","segmentLengthFraction","offsetDistance","segx","segy","ux","uy","offsetx","offsety","setCoordinates","segmentFraction","inputPt","segFrac","isHorizontal","pointAlong","bits0","java","lang","hash0","bits1","hash1","Location","toLocationSymbol","locationValue","EXTERIOR","BOUNDARY","INTERIOR","NONE","IntersectionMatrix","_matrix","setAll","elements","isIntersects","isDisjoint","isCovers","hasPointInCommon","isCoveredBy","dimensionSymbols","row","col","column","isContains","setAtLeast","minimumDimensionSymbols","minimumDimensionValue","setAtLeastIfValid","isWithin","isTouches","dimensionOfGeometryA","dimensionOfGeometryB","isOverlaps","isEquals","ai","bi","transpose","requiredDimensionSymbols","im","isCrosses","actualDimensionValue","requiredDimensionSymbol","actualDimensionSymbols","m","Angle","toDegrees","radians","PI_TIMES_2","isAcute","dx0","dy0","dotprod","isObtuse","interiorAngle","anglePrev","angleNext","normalizePositive","angleBetween","tip1","tail","tip2","a1","a2","diff","ang1","ang2","delAngle","toRadians","angleDegrees","getTurn","crossproduct","sin","angleBetweenOriented","angDel","PI_OVER_2","PI_OVER_4","Triangle","signedArea","interpolateZ","longestSideLength","circumcentre","area3D","centroid","inCentre","m00","m01","m10","m11","v0","lenAB","lenBC","lenCA","maxLen","cx","cy","ay","bx","by","ccx","ccy","perpendicularBisector","l1","l2","angleBisector","len0","frac","splitPt","uz","vx","vy","vz","crossx","crossy","crossz","absSq","len1","circum","inCentreX","inCentreY","PointPairDistance","_pt","_distance","_isNull","setMinimum","ptDist","initialize","getDistance","setMaximum","DistanceToPoint","computeDistance","tempSegment","segment","DiscreteHausdorffDistance","_g0","_g1","_ptDist","_densifyFrac","g0","g1","setDensifyFraction","densifyFrac","compute","computeOrientedDistance","discreteGeom","distFilter","MaxPointDistanceFilter","getMaxPointDistance","fracFilter","MaxDensifiedByFractionDistanceFilter","orientedDistance","_maxPtDist","_minPtDist","_euclideanDist","_numSubSegs","fraction","delx","dely","ItemVisitor","visitItem","item","PointOnGeometryLocator","locate","IntervalRTreeNode","_min","POSITIVE_INFINITY","_max","getMin","queryMin","queryMax","getMax","NodeComparator","mid1","mid2","IntervalRTreeLeafNode","_item","query","visitor","Collections","reverseOrder","alen","singletonList","IntervalRTreeBranchNode","_node1","_node2","buildExtent","SortedPackedIntervalRTree","_leaves","_root","_level","buildTree","buildLevel","insert","buildRoot","printNode","node","LinearComponentExtracter","_lines","_isForcedToLineString","isForcedToLineString","setForceToLineString","getGeometry","getLines","forceToLineString","geoms","ArrayListVisitor","_items","getItems","RayCrossingCounter","_p","_crossingCount","_isPointOnSegment","countSegment","minx","maxx","orient","isPointInPolygon","getLocation","isOnSegment","locatePointInRing","IndexedPointInAreaLocator","_index","IntervalIndexedGeometry","rcc","SegmentVisitor","_counter","addLine","PointLocation","isOnLine","lineIntersector","locateInRing","isInRing","GeometryCollectionIterator","_parent","_atStart","_subcollectionIterator","isAtomic","UnsupportedOperationException","SimplePointInAreaLocator","locatePointInPolygon","shellLoc","holeLoc","containsPointInPolygon","locateInGeometry","geomi","g2","loc","SimilarityMeasure","measure","AreaSimilarityMeasure","areaInt","areaUnion","union","HausdorffSimilarityMeasure","DENSIFY_FRACTION","envSize","diagonalSize","width","hgt","SimilarityMeasureCombiner","combine","measure1","measure2","Centroid","_areaBasePt","_triangleCent3","_areasum2","_cg3","_lineCentSum","_totalLength","_ptCount","_ptCentSum","setAreaBasePoint","basePt","addPoint","addLineSegments","lineLen","segmentLen","midx","midy","addHole","isPositiveArea","addTriangle","getCentroid","cent","addShell","centroid3","area2","CGAlgorithms","distanceLineLine","distancePointLine","isPointInRing","computeLength","computeOrientation","distancePointLinePerpendicular","EmptyStackException","Stack","pop","peek","empty","UniqueCoordinateArrayFilter","filterCoordinates","ConvexHull","_geomFactory","_inputPts","extractCoordinates","preSort","RadialComparator","computeOctRing","inputPts","octPts","computeOctPts","lineOrPolygon","cleanRing","linearRing","original","cleanedRing","previousDistinctCoordinate","currentCoordinate","nextCoordinate","isBetween","cleanedRingCoordinates","c3","reduce","polyPts","reducedSet","reducedPts","padArray3","getConvexHull","sortedPts","cHS","grahamScan","cH","pad","_origin","origin","polarCompare","dxp","dyp","dxq","dyq","op","oq","InteriorPointArea","_interiorPoint","_maxWidth","addPolygon","bisector","horizontalBisector","intersections","widestIntersection","widestGeometry","getInteriorPoint","bisectY","SafeBisectorFinder","getBisectorY","avg","_poly","_centreY","_hiY","_loY","updateInterval","process","finder","InteriorPointLine","_centroid","_minDistance","addInterior","addEndpoints","InteriorPointPoint","MonotoneChainSelectAction","selectedSegment","select","mc","startIndex","getLineSegment","NodeBase","_subnode","hasChildren","isPrunable","hasItems","addAllItems","items","subSize","addAllItemsFromOverlapping","interval","resultItems","isSearchMatch","itemInterval","maxSubDepth","sqd","nodeSize","getSubnodeIndex","subnodeIndex","Interval","overlaps","DoubleBits","exponent","CVTFWD","powerOf2","NumW","Qty","Sign","Expo","Mant","Bin","Inf","ExW","Key","_interval","computeKey","getInterval","getLevel","computeLevel","computeInterval","level","getPoint","Node","_centre","find","searchInterval","childNode","createSubnode","getSubnode","getNode","subInt","createNode","createExpanded","addInterval","expandInt","largerNode","IntervalSize","isZeroWidth","maxAbs","scaledInterval","MIN_BINARY_EXPONENT","Root","insertContained","tree","isZeroArea","Bintree","_minExtent","collectStats","insertInterval","ensureExtent","foundItems","del","MonotoneChain","_pts","_start","_end","_env","_context","_id","computeSelect","searchEnv","start0","end0","mcs","computeOverlaps","mco","start1","end1","overlap","mid0","setId","id","getEndIndex","getStartIndex","getContext","getId","Quadrant","isNorthern","quad","NE","NW","isOpposite","quad1","quad2","commonHalfPlane","isInHalfPlane","halfPlane","SE","SW","quadrant","MonotoneChainBuilder","getChainStartIndices","startIndexList","findChainEnd","toIntArray","safeStart","chainQuad","getChains","mcList","RobustDeterminant","PointInRing","isInside","MCPointInRing","_ring","_tree","_crossings","buildIndex","testLineSegment","mcEnv","testMonotoneChain","rayEnv","mcSelecter","segs","MCSelecter","mcp","MinimumBoundingCircle","_input","_extremalPts","_radius","getRadius","getDiameter","getExtremalPoints","computeCirclePoints","hullPts","lowestPoint","Q","pointWitMinAngleWithX","R","pointWithMinAngleWithSegment","computeCentre","getFarthestPoints","getCircle","centrePoint","getCentre","minSin","minAngPt","minAng","ang","MinimumDiameter","_inputGeom","_isConvex","_convexHullPts","_minBaseSeg","_minWidthPt","_minPtIndex","_minWidth","inputGeom","isConvex","getWidthCoordinate","computeMinimumDiameter","getSupportingSegment","computeWidthConvex","convexGeom","computeConvexRingMinDiameter","currMaxIndex","findMaxPerpDistance","maxPerpDistance","nextPerpDistance","maxIndex","nextIndex","getMinimumRectangle","minPara","maxPara","minPerp","maxPerp","paraC","computeC","perpC","maxPerpLine","computeSegmentForLine","minPerpLine","maxParaLine","minParaLine","getMinimumDiameter","GeometryTransformer","_pruneEmptyGeometry","_preserveGeometryCollectionType","_preserveCollections","_preserveType","transformPoint","transformCoordinates","transformPolygon","isAllValidLinearRings","transformLinearRing","createCoordinateSequence","getInputGeometry","transformMultiLineString","transGeomList","transformGeom","transformLineString","transformMultiPoint","transformMultiPolygon","transformGeometryCollection","transform","seqSize","Densifier","_distanceTolerance","getResultGeometry","DensifyTransformer","setDistanceTolerance","distanceTolerance","densifyPoints","precModel","densifiedSegCount","densifiedSegLen","segFract","densify","densifier","roughGeom","createValidArea","newPts","roughAreaGeom","HalfEdge","_orig","_sym","_next","orig","oNext","insertAfter","ecmp","ePrev","save","setNext","sym","degree","compareAngularDirection","quadrant2","prevNode","setSym","e0","e1","MarkHalfEdge","_isMarked","mark","setMark","isMarked","setMarkBoth","markBoth","EdgeGraph","_vertexMap","eAdj","eAdjDest","createEdge","addEdge","isValidEdge","eSame","getVertexEdges","findEdge","DissolveHalfEdge","_isStart","setStart","isStart","DissolveEdgeGraph","LineDissolver","_graph","_nodeEdgeStack","_ringStartEdge","updateRingStartEdge","getResult","computeResult","eNode","stackEdges","buildLines","buildRing","eStartRing","eNext","buildLine","eStart","edges","component","lineString","doneStart","dissolve","PointLocator","_boundaryRule","_isIn","_numBoundaries","boundaryRule","locateInPolygonRing","updateLocationInfo","computeLocation","locateOnPoint","locateOnLineString","locateInPolygon","ml","mpoly","ptCoord","Position","opposite","position","ON","mce","chainIndex","computeIntersections","si","computeIntersectsForChain","SweepLineEvent","_label","_xValue","_eventType","_insertEvent","_deleteEventIndex","_obj","insertEvent","DELETE","label","INSERT","isDelete","setDeleteEventIndex","deleteEventIndex","getObject","pe","getInsertEvent","isInsert","isSameLabel","ev","getDeleteEventIndex","EdgeSetIntersector","SegmentIntersector","_hasIntersection","_hasProper","_hasProperInterior","_properIntersectionPoint","_li","_includeProper","_recordIsolated","_isSelfIntersection","_numIntersections","numTests","_bdyNodes","_isDone","_isDoneWhenProperInt","includeProper","recordIsolated","isTrivialIntersection","segIndex0","segIndex1","isAdjacentSegments","maxSegIndex","getProperIntersectionPoint","setIsDoneIfProperInt","isDoneWhenProperInt","hasProperInteriorIntersection","isBoundaryPointInternal","bdyNodes","hasProperIntersection","isBoundaryPoint","setBoundaryNodes","bdyNodes0","bdyNodes1","addIntersections","p00","p01","p10","p11","setIsolated","SimpleMCSweepLineIntersector","events","nOverlaps","prepareEvents","processOverlaps","edges0","edges1","addEdges","testAllSegments","edge","edgeSet","getMonotoneChainEdge","getStartIndexes","ev0","mc0","ev1","mc1","TopologyLocation","location","on","gl","setAllLocations","locValue","setAllLocationsIfNull","isLine","merge","newLoc","getLocations","flip","setLocations","posIndex","isArea","isAnyNull","setLocation","locIndex","isEqualOnSide","allPositionsEqual","Label","elt","onLoc","lbl","geomIndex","leftLoc","rightLoc","getGeometryCount","side","toLine","toLineLabel","lineLabel","EdgeIntersection","getSegmentIndex","print","maxSegmentIndex","EdgeIntersectionList","_nodeMap","ei","addSplitEdges","edgeList","eiPrev","newEdge","createSplitEdge","ei0","ei1","lastSegStartPt","useIntPt1","ipt","Edge","eiNew","MonotoneChainIndexer","MonotoneChainEdge","mcb","chainIndex0","chainIndex1","computeIntersects","Depth","_depth","NULL_VALUE","getDepth","setDepth","depthValue","minDepth","newValue","getDelta","depthAtLocation","GraphComponent","_isInResult","_isCovered","_isCoveredSet","_isVisited","setVisited","isVisited","setInResult","isInResult","isCovered","isCoveredSet","setLabel","getLabel","setCovered","updateIM","computeIM","eiList","_mce","_isIsolated","_depthDelta","getCollapsedEdge","newe","isIsolated","setName","isEqualForward","isEqualReverse","iRev","isCollapsed","getMaximumSegmentIndex","getDepthDelta","printReverse","addIntersection","normalizedSegmentIndex","nextSegIndex","nextPt","isPointwiseEqual","setDepthDelta","depthDelta","getEdgeIntersectionList","_coord","_edges","isIncidentEdgeInResult","getEdges","de","getEdge","computeMergedLocation","label2","eltIndex","nLoc","argIndex","onLocation","mergeLabel","thisLoc","setNode","setLabelBoundary","NodeMap","nodeMap","nodeFact","addNode","getBoundaryNodes","EdgeEnd","_edge","_node","_p0","_p1","_dx","_dy","_quadrant","compareDirection","getDy","className","lastDotPos","lastIndexOf","getDirectedCoordinate","getDx","getQuadrant","computeLabel","boundaryNodeRule","TopologyException","msg","msgWithCoord","DirectedEdge","_isForward","_nextMin","_edgeRing","_minEdgeRing","isForward","computeDirectedLabel","getNextMin","getNext","depthVal","isInteriorAreaEdge","setNextMin","nextMin","setMinEdgeRing","minEdgeRing","isLineEdge","isExteriorIfArea0","isExteriorIfArea1","setEdgeRing","edgeRing","getMinEdgeRing","getSym","printEdge","setVisitedEdge","setEdgeDepths","directionFactor","oppositePos","delta","oppositeDepth","getEdgeRing","depthFactor","currLocation","nextLocation","NodeFactory","PlanarGraph","_nodes","_edgeEndList","printEdges","getNodeIterator","linkResultDirectedEdges","nodeit","debugPrintln","isBoundaryNode","linkAllDirectedEdges","matchInSameDirection","ep0","ep1","getEdgeEnds","debugPrint","getEdgeIterator","findEdgeInSameDirection","eCoord","insertEdge","findEdgeEnd","ee","edgesToAdd","de1","de2","getNodes","nodes","GeometryGraph","_parentGeom","_lineEdgeMap","_boundaryNodeRule","_useBoundaryDeterminationRule","_argIndex","_boundaryNodes","_hasTooFewPoints","_invalidPoint","_areaPtLocator","_ptLocator","parentGeom","insertBoundaryPoint","determineBoundary","computeSelfNodes","computeRingSelfNodes","isDoneIfProperInt","esi","createEdgeSetIntersector","isRings","computeAllSegments","addSelfIntersectionNodes","computeSplitEdges","edgelist","computeEdgeIntersections","getBoundaryNodeRule","hasTooFewPoints","insertPoint","addPolygonRing","addLineString","getInvalidPoint","getBoundaryPoints","addSelfIntersectionNode","lr","cwLeft","cwRight","eLoc","eiIt","addCollection","KdNodeVisitor","visit","KdNode","_data","_left","_right","_count","isRepeated","getRight","setLeft","getData","getCount","getLeft","increment","setRight","KdTree","_numberOfNodes","_tolerance","matchNode","findBestMatchNode","insertExact","queryEnv","queryNode","currentNode","odd","discriminant","searchLeft","searchRight","BestMatchVisitor","queryEnvelope","leafNode","isOddLevel","isLessThan","isInTolerance","toCoordinates","kdnodes","includeRepeated","_matchNode","_matchDist","update","getNodeCount","visitItems","itemEnv","centrex","centrey","computeQuadLevel","quadSize","dMax","_centrex","_centrey","miny","maxy","sqEnv","insertNode","addEnv","expandEnv","isZeroX","isZeroY","SpatialIndex","Quadtree","insertEnv","queryAll","posEnv","delX","delY","Boundable","getBounds","ItemBoundable","_bounds","bounds","getItem","PriorityQueue","_size","poll","minItem","reorder","child","AbstractNode","_childBoundables","getChildBoundables","addChildBoundable","childBoundable","computeBounds","BoundablePair","_boundable1","_boundable2","_itemDistance","boundable1","boundable2","itemDistance","expandToQueue","priQ","isComp1","isComposite","isComp2","expand","isLeaves","nd","bndComposite","bndOther","children","bp","getBoundable","AbstractSTRtree","_built","_itemBoundables","_nodeCapacity","DEFAULT_NODE_CAPACITY","nodeCapacity","queryInternal","searchBounds","childBoundables","getIntersectsOp","getNodeCapacity","lastNode","build","removeItem","childToRemove","itemsTree","valuesTree","valuesTreeForNode","valuesTreeForChild","boundablesAtLevel","boundables","top","boundable","createHigherLevels","getRoot","childToPrune","boundablesOfALevel","parentBoundables","createParentBoundables","maxChildDepth","childDepth","newLevel","sortedChildBoundables","getComparator","compareDoubles","IntersectsOp","ItemDistance","item1","item2","STRtree","createParentBoundablesFromVerticalSlices","verticalSlices","createParentBoundablesFromVerticalSlice","STRtreeNode","intersectsOp","sliceCount","sliceCapacity","slices","boundablesAddedToSlice","yComparator","minLeafCount","xComparator","nearestNeighbour","itemDist","initBndPair","maxDistance","distanceLowerBound","minPair","bndPair","currentDistance","bnd","kNearestNeighbors","bp1","bp2","centreX","centreY","aBounds","bBounds","geometryTypes","GeoJSONParser","json","JSON","Feature","feature","bbox","FeatureCollection","featureCollection","features","sub","geoJson","shellGeoJson","holeGeoJson","GeoJSONReader","GeoJSONWriter","WKTReader","p2c","OL3Parser","olReference","ol","inject","convertFromPoint","convertFromLineString","convertFromLinearRing","convertFromPolygon","convertFromMultiPoint","convertFromMultiLineString","convertFromMultiPolygon","convertFromCollection","getLinearRings","multiPoint","getPoints","multiLineString","getLineStrings","multiPolygon","getPolygons","getGeometries","convertToPoint","convertToLineString","convertToLinearRing","convertToPolygon","convertToMultiPoint","convertToMultiLineString","convertToMultiPolygon","convertToCollection","geometryCollection","SegmentPointComparator","relativeSign","octant","xSign","ySign","compareValue","compareSign0","compareSign1","SegmentNode","_segString","_segmentOctant","_isInterior","segString","segmentOctant","isInterior","SegmentNodeList","getSplitCoordinates","addEdgeCoordinates","addCollapsedNodes","collapsedVertexIndexes","findCollapsesFromInsertedNodes","findCollapsesFromExistingVertices","vertexIndex","findCollapseIndex","collapsedVertexIndex","numVerticesBetween","NodedSegmentString","getSegmentOctant","checkSplitEdgesCorrectness","splitEdges","edgePts","split0","pt0","splitn","splitnPts","ptn","NodeVertexIterator","_nodeList","_nodeIt","_currNode","_nextNode","_currSegIndex","nodeList","readNextNode","Octant","adx","ady","SegmentString","setData","NodableSegmentString","safeOctant","addIntersectionNode","getNodeList","getNodedSubstrings","segStrings","resultEdgelist","ss","MonotoneChainOverlapAction","_overlapSeg1","_overlapSeg2","mc2","start2","Noder","computeNodes","SinglePassNoder","_segInt","segInt","setSegmentIntersector","MCIndexNoder","_monoChains","_idCounter","_nodedSegStrings","_nOverlaps","getMonotoneChains","getIndex","segStr","segChains","inputSegStrings","intersectChains","overlapAction","SegmentOverlapAction","queryChain","overlapChains","testChain","_si","ss1","ss2","processIntersections","ScaledNoder","_noder","_scaleFactor","_offsetX","_offsetY","_isScaled","noder","scaleFactor","isIntegerPrecision","rescale","nodedSegmentStrings","roundPts","roundPtsNoDup","splitSS","intSegStrings","IsSimpleOp","_isClosedEndpointsInInterior","_nonSimpleLocation","isSimpleMultiPoint","mp","isSimplePolygonal","isSimpleLinearGeometry","hasClosedEndpointIntersection","graph","endPoints","eiInfo","getNonSimpleLocation","hasNonEndpointIntersection","EndpointInfo","computeSimple","isSimpleGeometryCollection","BufferParameters","_quadrantSegments","DEFAULT_QUADRANT_SEGMENTS","_endCapStyle","CAP_ROUND","_joinStyle","JOIN_ROUND","_mitreLimit","DEFAULT_MITRE_LIMIT","_isSingleSided","_simplifyFactor","DEFAULT_SIMPLIFY_FACTOR","quadrantSegments","setQuadrantSegments","endCapStyle","setEndCapStyle","joinStyle","mitreLimit","setJoinStyle","setMitreLimit","getEndCapStyle","isSingleSided","quadSegs","JOIN_BEVEL","JOIN_MITRE","getJoinStyle","setSimplifyFactor","simplifyFactor","getSimplifyFactor","getQuadrantSegments","getMitreLimit","setSingleSided","bufferDistanceError","alpha","cos","CAP_FLAT","CAP_SQUARE","RightmostEdgeFinder","_minIndex","_minCoord","_minDe","_orientedDe","getRightmostSide","getRightmostSideOfSegment","checkForRightmostCoordinate","findRightmostEdgeAtVertex","pPrev","pNext","orientation","usePrev","findRightmostEdgeAtNode","star","getRightmostEdge","dirEdgeList","rightmostSide","LinkedList","addLast","removeFirst","shift","BufferSubgraph","_finder","_dirEdgeList","_rightMostCoord","clearVisitedEdges","getRightmostCoordinate","computeNodeDepth","startEdge","computeDepths","copySymDepths","computeDepth","outsideDepth","addReachable","findResultEdges","nodesVisited","nodeQueue","startNode","adjNode","edgeEnv","dirEdge","nodeStack","symNode","getDirectedEdges","EdgeRing","_startDe","_maxNodeDegree","_isHole","_geometryFactory","computePoints","computeRing","isFirstEdge","addPoints","getLinearRing","computeMaxNodeDegree","getOutgoingDegree","isHole","containsPoint","isShell","getMaxNodeDegree","getShell","deLabel","setShell","toPolygon","holeLR","MinimalEdgeRing","er","MaximalEdgeRing","buildMinimalRings","minEdgeRings","minEr","linkDirectedEdgesForMinimalEdgeRings","linkMinimalDirectedEdges","PolygonBuilder","_shellList","sortShellsAndHoles","edgeRings","shellList","freeHoleList","computePolygons","resultPolyList","placeFreeHoles","findEdgeRingContaining","buildMinimalEdgeRings","maxEdgeRings","findShell","placePolygonHoles","buildMaximalEdgeRings","dirEdges","testEr","testRing","testEnv","minShell","minEnv","tryShell","tryRing","tryEnv","isContained","shellCount","BufferInputLineSimplifier","_inputLine","_distanceTol","_isDeleted","_angleOrientation","inputLine","isDeletable","i0","distanceTol","isConcave","isShallow","isShallowSampled","deleteShallowConcavities","midIndex","findNextNonDeletedIndex","lastIndex","isMiddleVertexDeleted","isShallowConcavity","isAngleToSimplify","NUM_PTS_TO_CHECK","simplify","collapseLine","simp","INIT","KEEP","OffsetSegmentString","_ptList","_minimimVertexDistance","COORDINATE_ARRAY_TYPE","addPt","bufPt","isRedundant","addPts","lastPt","startPt","last2Pt","setMinimumVertexDistance","minimimVertexDistance","OffsetSegmentGenerator","_maxCurveSegmentError","_filletAngleQuantum","_closingSegLengthFactor","_segList","_bufParams","_s0","_s1","_s2","_seg0","_seg1","_offset0","_offset1","_side","_hasNarrowConcaveAngle","bufParams","MAX_CLOSING_SEG_LEN_FACTOR","addNextSegment","addStartPoint","computeOffsetSegment","outsideTurn","addCollinear","addOutsideTurn","addInsideTurn","addLineEndCap","offsetL","offsetR","addDirectedFillet","squareCapSideOffset","squareCapLOffset","squareCapROffset","addMitreJoin","offset0","offset1","isMitreWithinLimit","mitreRatio","addLimitedMitreJoin","OFFSET_SEGMENT_SEPARATION_FACTOR","addBevelJoin","addCornerFillet","createSquare","addSegments","addFirstSegment","radius","startAngle","endAngle","addLastSegment","initSideSegments","s1","s2","ang0","angDiff","angDiffHalf","midAng","mitreMidAng","mitreDist","bevelDelta","bevelHalfLen","bevelMidX","bevelMidY","bevelMidPt","mitreMidLine","bevelEndLeft","bevelEndRight","totalAngle","nSegs","initAngle","currAngleInc","currAngle","offset","sideSign","INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR","createCircle","CURVE_VERTEX_SNAP_DISTANCE_FACTOR","numInt","hasNarrowConcaveAngle","OffsetCurveBuilder","getOffsetCurve","isRightSide","posDistance","segGen","getSegGen","computePointCurve","computeOffsetCurve","curvePts","computeSingleSidedBufferCurve","distTol","simplifyTolerance","simp2","simp1","computeRingBufferCurve","computeLineBufferCurve","getLineCurve","lineCoord","getBufferParameters","bufDistance","getRingCurve","copyCoordinates","SubgraphDepthLocater","_subgraphs","_seg","subgraphs","findStabbedSegments","stabbingRayLeftPt","stabbedSegments","bsg","ds","DepthSegment","_leftDepth","_upwardSeg","orientIndex","compareX","seg0","seg1","compare0","OffsetCurveSetBuilder","_curveBuilder","_curveList","curveBuilder","curve","addCurve","offsetSide","shellCoord","isErodedCompletely","holeCoord","isTriangleErodedCompletely","triangleCoord","bufferDistance","tri","distToCentre","getCurves","cwLeftLoc","cwRightLoc","ringCoord","envMinDimension","EdgeEndStar","_edgeMap","_edgeList","_ptInAreaLocation","getNextCW","iNextCW","propagateSideLabels","startLoc","currLoc","isAreaLabelsConsistent","geomGraph","computeEdgeEndLabels","checkAreaLabelsConsistent","lastEdgeIndex","startLabel","findIndex","eSearch","computeLabelling","hasDimensionalCollapseEdge","getDegree","insertEdgeEnd","DirectedEdgeStar","_resultAreaEdgeList","_SCANNING_FOR_INCOMING","_LINKING_TO_OUTGOING","getResultAreaEdges","firstOut","incoming","state","nextOut","nextIn","de0","deLast","quad0","updateLabelling","nodeLabel","prevOut","firstIn","edgeIndex","startDepth","targetLastDepth","nextDepth","lastDepth","endIndex","currDepth","nextDe","mergeSymLabels","findCoveredLineEdges","eLabel","OverlayNodeFactory","OrientedCoordinateArray","_orientation","oca","compareOriented","orientation1","orientation2","limit1","limit2","compPt","done1","done2","EdgeList","_ocaMap","edgeColl","findEdgeIndex","findEqualEdge","matchEdge","IntersectionAdder","_hasInterior","numIntersections","numInteriorIntersections","numProperIntersections","getLineIntersector","hasInteriorIntersection","BufferBuilder","_workingPrecisionModel","_workingNoder","setWorkingPrecisionModel","insertUniqueEdge","existingEdge","existingLabel","labelToMerge","mergeDelta","existingDelta","newDelta","buildSubgraphs","subgraphList","polyBuilder","processedGraphs","subgraph","locater","createSubgraphs","createEmptyResultGeometry","emptyGeom","getNoder","curveSetBuilder","bufferSegStrList","computeNodedEdges","resultGeom","nodedSegStrings","oldLabel","setNoder","lLoc","rLoc","convertSegStrings","NodingValidator","_segStrings","checkEndPtVertexIntersections","checkInteriorIntersections","ss0","pts0","checkValid","checkCollapses","checkCollapse","HotPixel","_originalPt","_ptScaled","_p0Scaled","_p1Scaled","_corner","_safeEnv","initCorners","intersectsScaled","segMinx","segMaxx","segMiny","segMaxy","isOutsidePixelEnv","intersectsToleranceSquare","copyScaled","pScaled","getSafeEnvelope","safeTolerance","SAFE_ENV_EXPANSION_FACTOR","intersectsPixelClosure","intersectsLeft","intersectsBottom","addSnappedNode","segIndex","MCIndexPointSnapper","snap","hotPixel","parentEdge","hotPixelVertexIndex","pixelEnv","hotPixelSnapAction","HotPixelSnapAction","isNodeAdded","_hotPixel","_parentEdge","_hotPixelVertexIndex","_isNodeAdded","InteriorIntersectionFinderAdder","_interiorIntersections","getInteriorIntersections","MCIndexSnapRounder","_pm","_pointSnapper","checkCorrectness","inputSegmentStrings","resultSegStrings","nv","snapRound","findInteriorIntersections","computeIntersectionSnaps","computeVertexSnaps","intFinderAdder","edge0","snapPts","snapPt","BufferOp","_argGeom","_resultGeometry","_saveException","bufferFixedPrecision","fixedPM","bufBuilder","bufferReducedPrecision","precDigits","MAX_PRECISION_DIGITS","precisionDigits","sizeBasedScaleFactor","precisionScaleFactor","computeGeometry","bufferOriginalPrecision","argPM","bufferOp","gBuf","geomBuf","bufOp","params","maxPrecisionDigits","envMax","expandByDistance","bufEnvMax","bufEnvPrecisionDigits","minUnitLog10","CAP_BUTT","PolygonExtracter","_comps","comps","GeometryLocation","_component","_segIndex","INSIDE_AREA","isInsideArea","getGeometryComponent","PointExtracter","ConnectedElementLocationFilter","_locations","locations","DistanceOp","_terminateDistance","_minDistanceLocation","terminateDistance","computeContainmentDistance","locPtPoly","polyGeomIndex","polyGeom","locationsIndex","polys","insideLocs","locs","ptLoc","computeMinDistanceLinesPoints","locGeom","computeMinDistance","computeFacetDistance","lines0","lines1","computeMinDistanceLines","updateMinDistance","computeMinDistancePoints","nearestLocations","nearestPoints","nearestPts","coord0","segClosestPoint","line0","line1","points0","points1","pt1","distOp","isWithinDistance","envDist","EdgeString","_directedEdges","forwardDirectedEdges","reverseDirectedEdges","coordinateList","directedEdge","getEdgeDirection","getLine","setMarked","setContext","getComponentWithVisitedState","visitedState","visited","marked","_from","_to","_edgeDirection","_angle","from","to","directionPt","edgeDirection","isRemoved","getDirectionPt","getAngle","getFromNode","setEdge","getToNode","toEdges","LineMergeDirectedEdge","getOutEdges","_dirEdge","setDirectedEdges","addOutEdge","getDirEdge","fromNode","getOppositeNode","_outEdges","_sorted","getNextEdge","sortEdges","getNextCWEdge","modi","_deStar","deStar","getEdgesBetween","node0","node1","commonEdges","retainAll","LineMergeEdge","_line","_dirEdges","findNodesOfDegree","nodesFound","nodeIterator","dirEdgeIterator","edgeIterator","outEdges","findNode","LineMergeGraph","startCoordinate","endCoordinate","endNode","directedEdge0","directedEdge1","LineMerger","_mergedLineStrings","_edgeStrings","buildEdgeStringsForUnprocessedNodes","buildEdgeStringsStartingAt","buildEdgeStringsForNonDegree2Nodes","buildEdgeStringsForObviousStartNodes","getMergedLineStrings","buildEdgeStringStartingWith","buildEdgeStringsForIsolatedLoops","edgeString","current","BasicSegmentString","InteriorIntersectionFinder","_findAllIntersections","_isCheckEndSegmentsOnly","_interiorIntersection","_intSegments","_intersections","_intersectionCount","_keepIntersections","getInteriorIntersection","setCheckEndSegmentsOnly","isCheckEndSegmentsOnly","getIntersectionSegments","getIntersections","setFindAllIntersections","findAllIntersections","setKeepIntersections","keepIntersections","isEndSegPresent","isEndSegment","createAllIntersectionsFinder","createAnyIntersectionFinder","createIntersectionCounter","FastNodingValidator","_isValid","execute","getErrorMessage","intSegs","EdgeNodingValidator","_nv","toSegmentStrings","validator","GeometryCollectionMapper","_mapOp","mapOp","mapped","mapper","LineBuilder","_op","_lineEdgesList","_resultLineList","ptLocator","collectLines","opCode","getGraph","collectLineEdge","collectBoundaryTouchEdge","labelIsolatedLine","targetIndex","getArgGeometry","OverlayOp","isResultOfOp","isCoveredByA","labelIsolatedLines","edgesList","INTERSECTION","PointBuilder","_resultPointList","filterCoveredNodeToPoint","isCoveredByLA","extractNonCoveredResultNodes","LineStringSnapper","_snapTolerance","_srcPts","_allowSnappingToSourceVertices","_isClosed","srcLine","snapTolerance","srcPts","snapVertices","srcCoords","srcPt","snapVert","findSnapForVertex","snapTo","snapSegments","distinctPtCount","findSegmentIndexToSnap","snapIndex","setAllowSnappingToSourceVertices","allowSnappingToSourceVertices","GeometrySnapper","_srcGeom","srcGeom","snapGeom","extractTargetCoordinates","snapTrans","SnapTransformer","snapToSelf","cleanResult","snappedGeom","computeSnapTolerance","ringPts","minSegLen","computeMinimumSegmentLength","snapTol","ptSet","segLen","snapper0","snapper1","computeOverlaySnapTolerance","computeSizeBasedSnapTolerance","fixedSnapTol","minDimension","SNAP_PRECISION_FACTOR","_snapPts","_isSelfSnap","isSelfSnap","snapLine","snapper","CommonBits","_isFirst","_commonMantissaBitsCount","_commonBits","_commonSignExp","getCommon","numBits","signExpBits","numSignExp","numCommonMostSigMantissaBits","zeroLowerBits","numStr","padStr","bitStr","getBit","nBits","prop","num1","num2","CommonBitsRemover","_commonCoord","_ccFilter","CommonCoordinateFilter","addCommonBits","trans","Translater","removeCommonBits","invCoord","getCommonCoordinate","_commonBitsX","_commonBitsY","xp","yp","SnapOverlayOp","_cbr","selfSnap","remGeom","prepareResult","prepGeom","overlayOp","UNION","symDifference","SYMDIFFERENCE","difference","DIFFERENCE","SnapIfNeededOverlayOp","isSuccess","savedException","GeometryGraphOperation","_resultPrecisionModel","_arg","setComputationPrecision","_resultGeom","_resultPolyList","cancelDuplicateResultEdges","resultPointList","resultLineList","opcode","createEmptyResult","replaceCollapsedEdges","newEdges","updateNodeLabelling","overlayOpCode","computeOverlay","insertUniqueEdges","copyPoints","baseSplitEdges","computeLabelsFromDepths","labelIncompleteNodes","findResultAreaEdges","lineBuilder","pointBuilder","labelIncompleteNode","graphNode","newNode","ni","nodeCount","geom1","gov","geomOv","MapOp","resultDimension","dim0","dim1","geomFact","loc0","loc1","PolygonizeDirectedEdge","setRing","getRing","PolygonizeEdge","_deList","_lowestEdge","_ringPts","_isProcessed","_isIncludedSet","_isIncluded","isIncluded","isIncludedSet","startDE","isOuterHole","hasShell","getPolygon","isProcessed","holeER","setIncluded","getOuterHole","adjRing","computeHole","isOuterShell","getLineString","updateIncluded","adjShell","setProcessed","findDirEdgesInRing","minShellEnv","tryShellRing","tryShellEnv","EnvelopeComparator","obj0","obj1","r0","r1","PolygonizeGraph","findEdgeRing","computeDepthParity","computeNextCWEdges","iNode","linePts","endPt","nStart","nEnd","deleteCutEdges","findLabeledEdgeRings","cutLines","getEdgeRings","maximalRings","convertMaximalToMinimalEdgeRings","edgeRingList","ringEdges","intNodes","findIntersectionNodes","computeNextCCWEdges","deleteDangles","nodesToRemove","dangleLines","deleteAllEdges","nodeOutEdges","toNode","getDegreeNonDeleted","edgeRingStarts","currLabel","prevDE","outDE","firstOutDE","prevInDE","inDE","Polygonizer","_lineStringAdder","LineStringAdder","_dangles","_cutEdges","_invalidRingLines","_holeList","_polyList","_isCheckingRingsValid","_extractOnlyPolygonal","extractOnlyPolygonal","polygonize","getInvalidRingLines","findValidRings","validEdgeRingList","invalidRingList","findShellsAndHoles","assignHolesToShells","includeAll","findDisjointShells","extractPolygons","getDangles","getCutEdges","setCheckRingsValid","isCheckingRingsValid","findOuterShells","outerHoleER","polyList","holeList","assignHoleToShell","isMoreToScan","EdgeEndBuilder","createEdgeEndForNext","eiCurr","eiNext","createEdgeEndForPrev","computeEdgeEnds","EdgeEndBundle","_edgeEnds","computeLabelOn","foundInterior","computeLabelSide","computeLabelSides","EdgeEndBundleStar","esb","eb","RelateNode","updateIMFromEdges","RelateNodeFactory","RelateComputer","_im","_isolatedEdges","arg","insertEdgeEnds","computeProperIntersectionIM","intersector","dimA","dimB","hasProper","hasProperInterior","labelIsolatedEdges","thisIndex","labelIsolatedEdge","computeDisjointIM","computeIntersectionNodes","copyNodesAndLabels","labelIsolatedNodes","eeBuilder","ee0","ee1","labelNodeEdges","labelIntersectionNodes","labelIsolatedNode","ga","gb","RectangleContains","_rectEnv","rectangle","isContainedInBoundary","isPointContainedInBoundary","isLineStringContainedInBoundary","isLineSegmentContainedInBoundary","rc","RectangleLineIntersector","_diagUp0","_diagUp1","_diagDown0","_diagDown1","rectEnv","segEnv","isSegUpwards","ShortCircuitedGeometryVisitor","applyTo","RectangleIntersects","_rectangle","EnvelopeIntersectsVisitor","ecpVisitor","GeometryContainsPointVisitor","riVisitor","RectangleIntersectsSegmentVisitor","rp","_intersects","elementEnv","_rectSeq","_containsPoint","rectPt","_rectIntersector","checkIntersectionWithLineStrings","testLine","checkIntersectionWithSegments","seq1","RelateOp","_relate","getIntersectionMatrix","touches","relate","relOp","crosses","GeometryCombiner","_skipEmpty","_inputGeoms","extractFactory","extractElements","elems","elemGeom","combiner","createList","obj2","PointGeometryUnion","_pointGeom","_otherGeom","pointGeom","exteriorCoords","ptComp","unioner","GeometryExtracter","_geometryType","geometryType","isOfType","Class","clz","toGeometryType","CascadedPolygonUnion","_inputPolys","reduceToGeometries","geomTree","unionTree","extractByEnvelope","disjointGeoms","intersectingGeoms","elem","unionOptimized","g0Env","g1Env","combo","unionActual","commonEnv","unionUsingEnvelopeIntersection","STRTREE_NODE_CAPACITY","itemTree","unionAll","binaryUnion","unionSafe","repeatedUnion","restrictToPolygons","common","disjointPolys","g0Int","g1Int","overallUnion","bufferUnion","gColl","UnaryUnionOp","_polygons","unionNoOpt","unionWithNull","unionPoints","ptGeom","unionLines","lineGeom","unionPolygons","unionLA","ConnectedInteriorTester","_geomGraph","_disconnectedRingcoord","visitInteriorRing","findDifferentPoint","intDe","visitLinkedDirectedEdges","visitShellInteriors","setInteriorEdgesInResult","startDe","buildEdgeRings","hasUnvisitedShellEdge","isInteriorsConnected","RelateNodeGraph","nodeIt","eeList","edgeIt","ConsistentAreaTester","_nodeGraph","isNodeEdgeAreaLabelsConsistent","hasDuplicateRings","eeb","isNodeConsistentArea","IndexedNestedRingTester","_rings","_totalEnv","_nestedPt","getNestedPoint","isNonNested","innerRing","innerRingPts","results","searchRing","searchRingPts","innerRingPt","IsValidOp","findPtNotNode","TopologyValidationError","_errorType","errorType","getErrorType","getMessage","errMsg","locStr","ERROR","REPEATED_POINT","HOLE_OUTSIDE_SHELL","NESTED_HOLES","DISCONNECTED_INTERIOR","SELF_INTERSECTION","RING_SELF_INTERSECTION","NESTED_SHELLS","DUPLICATE_RINGS","TOO_FEW_POINTS","INVALID_COORDINATE","RING_NOT_CLOSED","_parentGeometry","_isSelfTouchingRingFormingHoleValid","_validErr","parentGeometry","checkInvalidCoordinates","checkHolesNotNested","nestedTester","innerHole","checkConsistentArea","cat","isValidArea","checkShellInsideHole","shellPts","holePts","shellPt","insideHole","holePt","insideShell","checkNoSelfIntersectingRings","checkNoSelfIntersectingRing","checkConnectedInteriors","cit","nodeSet","isFirst","checkHolesInShell","pir","outside","checkTooFewPoints","getValidationError","checkClosedRing","checkClosedRings","checkShellsNotNested","setSelfTouchingRingFormingHoleValid","checkShellNotNested","polyShell","insidePolyShell","badNestedPt","testCoords","searchEdge","isValidOp","PrecisionReducerCoordinateOperation","_targetPM","_removeCollapsed","targetPM","removeCollapsed","reducedCoords","noRepeatedCoordList","noRepeatedCoords","minLength","collapsedCoords","GeometryPrecisionReducer","_changePrecisionModel","_isPointwise","fixPolygonalTopology","geomToBuffer","changePM","bufGeom","finalGeom","reducePointwise","geomEdit","newFactory","createFactory","finalRemoveCollapsed","reduceGeom","newPM","geomEditor","createEditor","setRemoveCollapsedComponents","inputFactory","setChangePrecisionModel","changePrecisionModel","reducePW","setPointwise","isPointwise","reducer","DouglasPeuckerLineSimplifier","_usePt","simplifySection","DouglasPeuckerSimplifier","_isEnsureValidTopology","setEnsureValid","isEnsureValidTopology","DPTransformer","tss","rawGeom","rawAreaGeom","removeDegenerateRings","simpResult","TaggedLineSegment","getParent","TaggedLineString","_parentLine","_segs","_resultSegs","_minimumSize","parentLine","minimumSize","addToResult","asLineString","getResultSize","resultSegsSize","getSegment","getParentCoordinates","getMinimumSize","asLinearRing","getSegments","getResultCoordinates","LineSegmentIndex","querySeg","LineSegmentVisitor","itemsFound","_querySeg","TaggedLineStringSimplifier","_inputIndex","_outputIndex","_linePts","inputIndex","outputIndex","flatten","newSeg","hasBadIntersection","sectionIndex","candidateSeg","hasBadOutputIntersection","hasBadInputIntersection","isValidToSimplify","worstCaseSize","furthestPtIndex","findFurthestPoint","querySegs","maxDist","midPt","isInLineSection","TaggedLinesSimplifier","taggedLines","tlss","TopologyPreservingSimplifier","_lineSimplifier","_linestringMap","LineStringMapBuilderFilter","LineStringTransformer","linestringMap","taggedLine","tps","minSize","SplitSegment","_segLen","_splitPt","_minimumLen","splitAt","minFrac","pointAlongReverse","actualLen","getConstrainedLength","setMinimumLength","minLen","getSplitPoint","ConstraintSplitPointFinder","findSplitPoint","encroachPt","NonEncroachingSplitPointFinder","lineSeg","midPtLen","splitSeg","projPt","projectedSplitPoint","nonEncroachDiam","maxSplitLen","TrianglePredicate","triArea","isInCircleDDNormalized","bdx","bdy","cdx","cdy","abdet","bcdet","cadet","alift","blift","clift","isInCircle","checkRobustInCircle","nonRobustInCircle","isInCircleNonRobust","isInCircleDD","isInCircleDDSlow","isInCircleCC","circumCentre","toPoint","isInCircleDDFast","aTerm","triAreaDDFast","bTerm","cTerm","pTerm","cc","ccRadius","pRadiusDiff","isInCircleNormalized","triAreaDDSlow","isInCircleRobust","t1","t2","Vertex","_z","circleCenter","cab","cbc","hcc","nre","err","dot","magn","getZ","interpolateZValue","xm","ym","zm","crossProduct","setZ","times","cross","classify","sa","BEHIND","BEYOND","ORIGIN","DESTINATION","BETWEEN","circumRadiusRatio","edgeLength","el","ptLen","pz","ConstraintVertex","_isOnConstraint","_constraint","getConstraint","setOnConstraint","isOnConstraint","setConstraint","constraint","QuadEdge","_rot","_vertex","equalsNonOriented","qe","equalsOriented","toLineSegment","dNext","lPrev","rPrev","rot","oPrev","setOrig","lNext","invRot","setDest","delete","rNext","isLive","getPrimary","dPrev","makeEdge","q0","q3","base","beta","t3","t4","connect","IncrementalDelaunayTriangulator","_subdiv","_isUsingTolerance","subdiv","getTolerance","insertSite","isVertexOfEdge","isOnEdge","insertSites","vertices","QuadEdgeLocator","LastFoundQuadEdgeLocator","_lastEdge","locateFromEdge","LocateFailureException","msgWithSpatial","TriangleVisitor","triEdges","QuadEdgeSubdivision","_visitedKey","_quadEdges","_startingEdge","_edgeCoincidenceTolerance","_frameVertex","_frameEnv","_locator","_triEdges","EDGE_COINCIDENCE_TOL_FACTOR","createFrame","initSubdiv","getTriangleVertices","includeFrame","TriangleVertexListVisitor","visitTriangles","isFrameVertex","getVoronoiCellPolygon","cellPts","startQE","cellPoly","setLocator","locator","ea","ec","isFrameBorderEdge","leftTri","getTriangleEdges","rightTri","vLeftTriOther","vRightTriOther","triVisitor","edgeStack","visitedEdges","fetchTriangleToVisit","isFrameEdge","getTriangleCoordinates","TriangleCoordinatesVisitor","getTriangles","getVertices","vd","curr","edgeCount","isFrame","quadEdges","getPrimaryEdges","getVertexUniqueEdges","visitedVertices","qd","TriangleEdgesListVisitor","priQE","eSym","eRot","eRotSym","iter","maxIter","getVoronoiCellPolygons","TriangleCircumcentreVisitor","cells","getVoronoiDiagram","vorCells","triPtsList","tris","triPt","locEdge","triEdge","ccVertex","_triList","_coordList","_triCoords","checkTriangleSize","Segment","_ls","z1","z2","getEndZ","getStartZ","getStart","getEnd","getEndY","getStartX","getStartY","getEndX","ConformingDelaunayTriangulator","_initialVertices","_segVertices","_segments","_incDel","_convexHull","_splitFinder","_kdt","_vertexFactory","_computeAreaEnv","initialVertices","getInitialVertices","getKDT","enforceConstraints","addConstraintVertices","splits","enforceGabriel","MAX_SPLIT_ITER","getVertexFactory","getPointArray","setConstraints","segments","segVertices","computeConvexHull","hull","findNonGabrielPoint","segRadius","closestNonGabriel","nextNode","testRadius","testDist","getConstraintSegments","setSplitPointFinder","splitFinder","segsToInsert","newSegments","segsToRemove","splitVertex","createVertex","insertedVertex","removeAll","getSubdivision","computeBoundingBox","vertexEnv","computeVertexEnvelope","allPointsEnv","setVertexFactory","vertexFactory","formInitialDelaunay","kdnode","snappedV","DelaunayTriangulationBuilder","_siteCoords","siteEnv","toVertices","triangulator","setTolerance","setSites","extractUniqueCoordinates","unique","coordsCopy","verts","ConformingDelaunayTriangulationBuilder","_constraintLines","_constraintVertexMap","createSiteVertices","containsKey","createVertices","createConstraintSegments","sites","cdt","constraintLines","constraintSegs","VoronoiDiagramBuilder","_clipEnv","_diagramEnv","getDiagram","clipGeometryCollection","setClipEnvelope","clipEnv","clipPoly","clipped","LinearLocation","_componentIndex","_segmentIndex","_segmentFraction","componentIndex","doNormalize","getComponentIndex","isEndpoint","linearGeom","lineComp","nseg","toLowest","pointAlongSegmentByFraction","getSegmentFraction","linear","setToEnd","lastLine","isOnSameSegment","snapToVertex","getSegmentLength","lenToStart","lenToEnd","compareLocationValues","componentIndex1","segmentIndex1","segmentFraction1","isVertex","getEndLocation","componentIndex0","segmentIndex0","segmentFraction0","LinearIterator","_linearGeom","_numLines","_currentLine","_vertexIndex","segmentEndVertexIndex","loadCurrentLine","getVertexIndex","getSegmentEnd","getSegmentStart","isEndOfLine","LocationIndexOfPoint","indexOfFromStart","minIndex","minComponentIndex","minSegmentIndex","segDistance","candidateComponentIndex","candidateSegmentIndex","indexOfAfter","endLoc","closestAfter","LocationIndexOfLine","indicesOf","subLine","locPt","subLineLoc","LinearGeometryBuilder","_ignoreInvalidLines","_fixInvalidLines","_lastPt","endLine","getLastCoordinate","rawPts","validCoordinateSequence","setFixInvalidLines","fixInvalidLines","allowRepeatedPoints","setIgnoreInvalidLines","ignoreInvalidLines","validPts","ExtractLineByLocation","computeLinear","computeLine","startSegmentIndex","lastSegmentIndex","newCoordinateArray","LocationIndexedLine","checkGeometryType","clampIndex","extractPoint","indexLow","isValidIndex","extractLine","LengthIndexOfPoint","ptMeasure","segmentStartMeasure","segMeasureToPt","segmentNearestMeasure","projFactor","LengthLocationMap","totalLength","resolveHigher","compIndex","resolveLower","forwardLength","getLocationForward","LengthIndexedLine","positiveIndex","locationOf","locLow","lil","startIndex2","endIndex2","resolveStartLower","UnionOp","coveredBy","within","disjoint","args","intersectionPattern","centPt","interiorPt","toText","writer","version"],"mappings":"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"}